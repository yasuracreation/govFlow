function Tx(c,n){for(var o=0;o<n.length;o++){const r=n[o];if(typeof r!="string"&&!Array.isArray(r)){for(const d in r)if(d!=="default"&&!(d in c)){const f=Object.getOwnPropertyDescriptor(r,d);f&&Object.defineProperty(c,d,f.get?f:{enumerable:!0,get:()=>r[d]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function o(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(d){if(d.ep)return;d.ep=!0;const f=o(d);fetch(d.href,f)}})();function Dh(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var uo={exports:{}},un={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Ox(){if(Am)return un;Am=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(r,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var x in d)x!=="key"&&(f[x]=d[x])}else f=d;return d=f.ref,{$$typeof:c,type:r,key:h,ref:d!==void 0?d:null,props:f}}return un.Fragment=n,un.jsx=o,un.jsxs=o,un}var Tm;function Rx(){return Tm||(Tm=1,uo.exports=Ox()),uo.exports}var s=Rx(),fo={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Ex(){if(Om)return be;Om=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function O(j,G,B){this.props=j,this.context=G,this.refs=M,this.updater=B||A}O.prototype.isReactComponent={},O.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=O.prototype;function H(j,G,B){this.props=j,this.context=G,this.refs=M,this.updater=B||A}var Z=H.prototype=new C;Z.constructor=H,S(Z,O.prototype),Z.isPureReactComponent=!0;var Q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function oe(j,G,B,$,ie,he){return B=he.ref,{$$typeof:c,type:j,key:G,ref:B!==void 0?B:null,props:he}}function ne(j,G){return oe(j.type,G,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===c}function k(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(B){return G[B]})}var V=/\/+/g;function J(j,G){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):G.toString(36)}function _(){}function Y(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(_,_):(j.status="pending",j.then(function(G){j.status==="pending"&&(j.status="fulfilled",j.value=G)},function(G){j.status==="pending"&&(j.status="rejected",j.reason=G)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ae(j,G,B,$,ie){var he=typeof j;(he==="undefined"||he==="boolean")&&(j=null);var ce=!1;if(j===null)ce=!0;else switch(he){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(j.$$typeof){case c:case n:ce=!0;break;case y:return ce=j._init,ae(ce(j._payload),G,B,$,ie)}}if(ce)return ie=ie(j),ce=$===""?"."+J(j,0):$,Q(ie)?(B="",ce!=null&&(B=ce.replace(V,"$&/")+"/"),ae(ie,G,B,"",function(De){return De})):ie!=null&&(U(ie)&&(ie=ne(ie,B+(ie.key==null||j&&j.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+ce)),G.push(ie)),1;ce=0;var je=$===""?".":$+":";if(Q(j))for(var se=0;se<j.length;se++)$=j[se],he=je+J($,se),ce+=ae($,G,B,he,ie);else if(se=T(j),typeof se=="function")for(j=se.call(j),se=0;!($=j.next()).done;)$=$.value,he=je+J($,se++),ce+=ae($,G,B,he,ie);else if(he==="object"){if(typeof j.then=="function")return ae(Y(j),G,B,$,ie);throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function D(j,G,B){if(j==null)return j;var $=[],ie=0;return ae(j,$,"","",function(he){return G.call(B,he,ie++)}),$}function W(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(B){(j._status===0||j._status===-1)&&(j._status=1,j._result=B)},function(B){(j._status===0||j._status===-1)&&(j._status=2,j._result=B)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function me(){}return be.Children={map:D,forEach:function(j,G,B){D(j,function(){G.apply(this,arguments)},B)},count:function(j){var G=0;return D(j,function(){G++}),G},toArray:function(j){return D(j,function(G){return G})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},be.Component=O,be.Fragment=o,be.Profiler=d,be.PureComponent=H,be.StrictMode=r,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,be.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},be.cache=function(j){return function(){return j.apply(null,arguments)}},be.cloneElement=function(j,G,B){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var $=S({},j.props),ie=j.key,he=void 0;if(G!=null)for(ce in G.ref!==void 0&&(he=void 0),G.key!==void 0&&(ie=""+G.key),G)!ee.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||($[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)$.children=B;else if(1<ce){for(var je=Array(ce),se=0;se<ce;se++)je[se]=arguments[se+2];$.children=je}return oe(j.type,ie,void 0,void 0,he,$)},be.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},be.createElement=function(j,G,B){var $,ie={},he=null;if(G!=null)for($ in G.key!==void 0&&(he=""+G.key),G)ee.call(G,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=G[$]);var ce=arguments.length-2;if(ce===1)ie.children=B;else if(1<ce){for(var je=Array(ce),se=0;se<ce;se++)je[se]=arguments[se+2];ie.children=je}if(j&&j.defaultProps)for($ in ce=j.defaultProps,ce)ie[$]===void 0&&(ie[$]=ce[$]);return oe(j,he,void 0,void 0,null,ie)},be.createRef=function(){return{current:null}},be.forwardRef=function(j){return{$$typeof:x,render:j}},be.isValidElement=U,be.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:W}},be.memo=function(j,G){return{$$typeof:g,type:j,compare:G===void 0?null:G}},be.startTransition=function(j){var G=F.T,B={};F.T=B;try{var $=j(),ie=F.S;ie!==null&&ie(B,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(me,re)}catch(he){re(he)}finally{F.T=G}},be.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},be.use=function(j){return F.H.use(j)},be.useActionState=function(j,G,B){return F.H.useActionState(j,G,B)},be.useCallback=function(j,G){return F.H.useCallback(j,G)},be.useContext=function(j){return F.H.useContext(j)},be.useDebugValue=function(){},be.useDeferredValue=function(j,G){return F.H.useDeferredValue(j,G)},be.useEffect=function(j,G,B){var $=F.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(j,G)},be.useId=function(){return F.H.useId()},be.useImperativeHandle=function(j,G,B){return F.H.useImperativeHandle(j,G,B)},be.useInsertionEffect=function(j,G){return F.H.useInsertionEffect(j,G)},be.useLayoutEffect=function(j,G){return F.H.useLayoutEffect(j,G)},be.useMemo=function(j,G){return F.H.useMemo(j,G)},be.useOptimistic=function(j,G){return F.H.useOptimistic(j,G)},be.useReducer=function(j,G,B){return F.H.useReducer(j,G,B)},be.useRef=function(j){return F.H.useRef(j)},be.useState=function(j){return F.H.useState(j)},be.useSyncExternalStore=function(j,G,B){return F.H.useSyncExternalStore(j,G,B)},be.useTransition=function(){return F.H.useTransition()},be.version="19.1.0",be}var Rm;function Oo(){return Rm||(Rm=1,fo.exports=Ex()),fo.exports}var N=Oo();const $i=Dh(N),kx=Tx({__proto__:null,default:$i},[N]);var mo={exports:{}},dn={},ho={exports:{}},go={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function _x(){return Em||(Em=1,function(c){function n(D,W){var re=D.length;D.push(W);e:for(;0<re;){var me=re-1>>>1,j=D[me];if(0<d(j,W))D[me]=W,D[re]=j,re=me;else break e}}function o(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],re=D.pop();if(re!==W){D[0]=re;e:for(var me=0,j=D.length,G=j>>>1;me<G;){var B=2*(me+1)-1,$=D[B],ie=B+1,he=D[ie];if(0>d($,re))ie<j&&0>d(he,$)?(D[me]=he,D[ie]=re,me=ie):(D[me]=$,D[B]=re,me=B);else if(ie<j&&0>d(he,re))D[me]=he,D[ie]=re,me=ie;else break e}}return W}function d(D,W){var re=D.sortIndex-W.sortIndex;return re!==0?re:D.id-W.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var h=Date,x=h.now();c.unstable_now=function(){return h.now()-x}}var m=[],g=[],y=1,b=null,T=3,A=!1,S=!1,M=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Q(D){for(var W=o(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=D)r(g),W.sortIndex=W.expirationTime,n(m,W);else break;W=o(g)}}function F(D){if(M=!1,Q(D),!S)if(o(m)!==null)S=!0,ee||(ee=!0,J());else{var W=o(g);W!==null&&ae(F,W.startTime-D)}}var ee=!1,oe=-1,ne=5,U=-1;function k(){return O?!0:!(c.unstable_now()-U<ne)}function V(){if(O=!1,ee){var D=c.unstable_now();U=D;var W=!0;try{e:{S=!1,M&&(M=!1,H(oe),oe=-1),A=!0;var re=T;try{t:{for(Q(D),b=o(m);b!==null&&!(b.expirationTime>D&&k());){var me=b.callback;if(typeof me=="function"){b.callback=null,T=b.priorityLevel;var j=me(b.expirationTime<=D);if(D=c.unstable_now(),typeof j=="function"){b.callback=j,Q(D),W=!0;break t}b===o(m)&&r(m),Q(D)}else r(m);b=o(m)}if(b!==null)W=!0;else{var G=o(g);G!==null&&ae(F,G.startTime-D),W=!1}}break e}finally{b=null,T=re,A=!1}W=void 0}}finally{W?J():ee=!1}}}var J;if(typeof Z=="function")J=function(){Z(V)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,Y=_.port2;_.port1.onmessage=V,J=function(){Y.postMessage(null)}}else J=function(){C(V,0)};function ae(D,W){oe=C(function(){D(c.unstable_now())},W)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return T},c.unstable_next=function(D){switch(T){case 1:case 2:case 3:var W=3;break;default:W=T}var re=T;T=W;try{return D()}finally{T=re}},c.unstable_requestPaint=function(){O=!0},c.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var re=T;T=D;try{return W()}finally{T=re}},c.unstable_scheduleCallback=function(D,W,re){var me=c.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,D){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=re+j,D={id:y++,callback:W,priorityLevel:D,startTime:re,expirationTime:j,sortIndex:-1},re>me?(D.sortIndex=re,n(g,D),o(m)===null&&D===o(g)&&(M?(H(oe),oe=-1):M=!0,ae(F,re-me))):(D.sortIndex=j,n(m,D),S||A||(S=!0,ee||(ee=!0,J()))),D},c.unstable_shouldYield=k,c.unstable_wrapCallback=function(D){var W=T;return function(){var re=T;T=W;try{return D.apply(this,arguments)}finally{T=re}}}}(go)),go}var km;function Mx(){return km||(km=1,ho.exports=_x()),ho.exports}var po={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function zx(){if(_m)return dt;_m=1;var c=Oo();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dt.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(m,g,null,y)},dt.flushSync=function(m){var g=h.T,y=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=g,r.p=y,r.d.f()}},dt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},dt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},dt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=x(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:A}):y==="script"&&r.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=x(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},dt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=x(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=x(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},dt.requestFormReset=function(m){r.d.r(m)},dt.unstable_batchedUpdates=function(m,g){return m(g)},dt.useFormState=function(m,g,y){return h.H.useFormState(m,g,y)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var Mm;function Ah(){if(Mm)return po.exports;Mm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),po.exports=zx(),po.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Ux(){if(zm)return dn;zm=1;var c=Mx(),n=Oo(),o=Ah();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var u=i.alternate;if(u===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===a)return x(i),e;if(u===l)return x(i),t;u=u.sibling}throw Error(r(188))}if(a.return!==l.return)a=i,l=u;else{for(var p=!1,v=i.child;v;){if(v===a){p=!0,a=i,l=u;break}if(v===l){p=!0,l=i,a=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===a){p=!0,a=u,l=i;break}if(v===l){p=!0,l=u,a=i;break}v=v.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var _=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case ee:return"SuspenseList";case U:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var ae=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},me=[],j=-1;function G(e){return{current:e}}function B(e){0>j||(e.current=me[j],me[j]=null,j--)}function $(e,t){j++,me[j]=e.current,e.current=t}var ie=G(null),he=G(null),ce=G(null),je=G(null);function se(e,t){switch($(ce,t),$(he,e),$(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tm(t),e=am(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ie),$(ie,e)}function De(){B(ie),B(he),B(ce)}function He(e){e.memoizedState!==null&&$(je,e);var t=ie.current,a=am(t,e.type);t!==a&&($(he,e),$(ie,a))}function Xe(e){he.current===e&&(B(ie),B(he)),je.current===e&&(B(je),ln._currentValue=re)}var Fe=Object.prototype.hasOwnProperty,Pi=c.unstable_scheduleCallback,Ji=c.unstable_cancelCallback,ig=c.unstable_shouldYield,rg=c.unstable_requestPaint,Ft=c.unstable_now,cg=c.unstable_getCurrentPriorityLevel,Mo=c.unstable_ImmediatePriority,zo=c.unstable_UserBlockingPriority,jn=c.unstable_NormalPriority,og=c.unstable_LowPriority,Uo=c.unstable_IdlePriority,ug=c.log,dg=c.unstable_setDisableYieldValue,fl=null,jt=null;function ba(e){if(typeof ug=="function"&&dg(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(fl,e)}catch{}}var Nt=Math.clz32?Math.clz32:hg,fg=Math.log,mg=Math.LN2;function hg(e){return e>>>=0,e===0?32:31-(fg(e)/mg|0)|0}var Nn=256,Sn=4194304;function Ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~u,l!==0?i=Ka(l):(p&=v,p!==0?i=Ka(p):a||(a=v&~e,a!==0&&(i=Ka(a))))):(v=l&~u,v!==0?i=Ka(v):p!==0?i=Ka(p):a||(a=l&~e,a!==0&&(i=Ka(a)))),i===0?0:t!==0&&t!==i&&(t&u)===0&&(u=i&-i,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:i}function ml(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var e=Nn;return Nn<<=1,(Nn&4194048)===0&&(Nn=256),e}function Lo(){var e=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),e}function Wi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function hl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pg(e,t,a,l,i,u){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,q=e.hiddenUpdates;for(a=p&~a;0<a;){var X=31-Nt(a),P=1<<X;v[X]=0,w[X]=-1;var L=q[X];if(L!==null)for(q[X]=null,X=0;X<L.length;X++){var I=L[X];I!==null&&(I.lane&=-536870913)}a&=~P}l!==0&&Ho(e,l,0),u!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function Ho(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Bo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Nt(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Io(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:jm(e.type))}function xg(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var ja=Math.random().toString(36).slice(2),ot="__reactFiber$"+ja,ht="__reactProps$"+ja,ys="__reactContainer$"+ja,ar="__reactEvents$"+ja,yg="__reactListeners$"+ja,vg="__reactHandles$"+ja,Vo="__reactResources$"+ja,gl="__reactMarker$"+ja;function sr(e){delete e[ot],delete e[ht],delete e[ar],delete e[yg],delete e[vg]}function vs(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ys]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=im(e);e!==null;){if(a=e[ot])return a;e=im(e)}return t}e=a,a=e.parentNode}return null}function bs(e){if(e=e[ot]||e[ys]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function js(e){var t=e[Vo];return t||(t=e[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[gl]=!0}var Go=new Set,Fo={};function Za(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(Fo[e]=t,e=0;e<t.length;e++)Go.add(t[e])}var bg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Yo={};function jg(e){return Fe.call(Yo,e)?!0:Fe.call($o,e)?!1:bg.test(e)?Yo[e]=!0:($o[e]=!0,!1)}function Cn(e,t,a){if(jg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Dn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var lr,Xo;function Ss(e){if(lr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);lr=t&&t[1]||"",Xo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+e+Xo}var nr=!1;function ir(e,t){if(!e||nr)return"";nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(I){var L=I}Reflect.construct(e,[],P)}else{try{P.call()}catch(I){L=I}e.call(P.prototype)}}else{try{throw Error()}catch(I){L=I}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(I){if(I&&L&&typeof I.stack=="string")return[I.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),p=u[0],v=u[1];if(p&&v){var w=p.split(`
`),q=v.split(`
`);for(i=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;i<q.length&&!q[i].includes("DetermineComponentFrameRoot");)i++;if(l===w.length||i===q.length)for(l=w.length-1,i=q.length-1;1<=l&&0<=i&&w[l]!==q[i];)i--;for(;1<=l&&0<=i;l--,i--)if(w[l]!==q[i]){if(l!==1||i!==1)do if(l--,i--,0>i||w[l]!==q[i]){var X=`
`+w[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=i);break}}}finally{nr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ss(a):""}function Ng(e){switch(e.tag){case 26:case 27:case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Ss("Activity");default:return""}}function Qo(e){try{var t="";do t+=Ng(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ko(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=Ko(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){l=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function An(e){e._valueTracker||(e._valueTracker=Sg(e))}function Zo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Ko(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wg=/[\n"\\]/g;function Et(e){return e.replace(wg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rr(e,t,a,l,i,u,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?cr(e,p,Rt(t)):a!=null?cr(e,p,Rt(a)):l!=null&&e.removeAttribute("value"),i==null&&u!=null&&(e.defaultChecked=!!u),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Rt(v):e.removeAttribute("name")}function Po(e,t,a,l,i,u,p,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function cr(e,t,a){t==="number"&&Tn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jo(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function Wo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(ae(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Cs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Cg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tu(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&eu(e,i,l)}else for(var u in t)t.hasOwnProperty(u)&&eu(e,u,t[u])}function or(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(e){return Ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ur=null;function dr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,As=null;function au(e){var t=bs(e);if(t&&(e=t.stateNode)){var a=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(rr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[ht]||null;if(!i)throw Error(r(90));rr(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Zo(l)}break e;case"textarea":Jo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ws(e,!!a.multiple,t,!1)}}}var fr=!1;function su(e,t,a){if(fr)return e(t,a);fr=!0;try{var l=e(t);return l}finally{if(fr=!1,(Ds!==null||As!==null)&&(hi(),Ds&&(t=Ds,e=As,As=Ds=null,au(t),e)))for(t=0;t<e.length;t++)au(e[t])}}function xl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[ht]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(ta)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){mr=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{mr=!1}var Na=null,hr=null,Rn=null;function lu(){if(Rn)return Rn;var e,t=hr,a=t.length,l,i="value"in Na?Na.value:Na.textContent,u=i.length;for(e=0;e<a&&t[e]===i[e];e++);var p=a-e;for(l=1;l<=p&&t[a-l]===i[u-l];l++);return Rn=i.slice(e,1<l?1-l:void 0)}function En(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kn(){return!0}function nu(){return!1}function gt(e){function t(a,l,i,u,p){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?kn:nu,this.isPropagationStopped=nu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=gt(Pa),vl=y({},Pa,{view:0,detail:0}),Tg=gt(vl),gr,pr,bl,Mn=y({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(gr=e.screenX-bl.screenX,pr=e.screenY-bl.screenY):pr=gr=0,bl=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:pr}}),iu=gt(Mn),Og=y({},Mn,{dataTransfer:0}),Rg=gt(Og),Eg=y({},vl,{relatedTarget:0}),xr=gt(Eg),kg=y({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),_g=gt(kg),Mg=y({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zg=gt(Mg),Ug=y({},Pa,{data:0}),ru=gt(Ug),qg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hg[e])?!!t[e]:!1}function yr(){return Bg}var Ig=y({},vl,{key:function(e){if(e.key){var t=qg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=En(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?En(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?En(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vg=gt(Ig),Gg=y({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=gt(Gg),Fg=y({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),$g=gt(Fg),Yg=y({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xg=gt(Yg),Qg=y({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=gt(Qg),Zg=y({},Pa,{newState:0,oldState:0}),Pg=gt(Zg),Jg=[9,13,27,32],vr=ta&&"CompositionEvent"in window,jl=null;ta&&"documentMode"in document&&(jl=document.documentMode);var Wg=ta&&"TextEvent"in window&&!jl,ou=ta&&(!vr||jl&&8<jl&&11>=jl),uu=" ",du=!1;function fu(e,t){switch(e){case"keyup":return Jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function ep(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(du=!0,uu);case"textInput":return e=t.data,e===uu&&du?null:e;default:return null}}function tp(e,t){if(Ts)return e==="compositionend"||!vr&&fu(e,t)?(e=lu(),Rn=hr=Na=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ou&&t.locale!=="ko"?null:t.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ap[e.type]:t==="textarea"}function gu(e,t,a,l){Ds?As?As.push(l):As=[l]:Ds=l,t=bi(t,"onChange"),0<t.length&&(a=new _n("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Nl=null,Sl=null;function sp(e){Zf(e,0)}function zn(e){var t=pl(e);if(Zo(t))return e}function pu(e,t){if(e==="change")return t}var xu=!1;if(ta){var br;if(ta){var jr="oninput"in document;if(!jr){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),jr=typeof yu.oninput=="function"}br=jr}else br=!1;xu=br&&(!document.documentMode||9<document.documentMode)}function vu(){Nl&&(Nl.detachEvent("onpropertychange",bu),Sl=Nl=null)}function bu(e){if(e.propertyName==="value"&&zn(Sl)){var t=[];gu(t,Sl,e,dr(e)),su(sp,t)}}function lp(e,t,a){e==="focusin"?(vu(),Nl=t,Sl=a,Nl.attachEvent("onpropertychange",bu)):e==="focusout"&&vu()}function np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zn(Sl)}function ip(e,t){if(e==="click")return zn(t)}function rp(e,t){if(e==="input"||e==="change")return zn(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:cp;function wl(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!Fe.call(t,i)||!St(e[i],t[i]))return!1}return!0}function ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var a=ju(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ju(a)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Tn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Tn(e.document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var op=ta&&"documentMode"in document&&11>=document.documentMode,Os=null,Sr=null,Cl=null,wr=!1;function Cu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wr||Os==null||Os!==Tn(l)||(l=Os,"selectionStart"in l&&Nr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&wl(Cl,l)||(Cl=l,l=bi(Sr,"onSelect"),0<l.length&&(t=new _n("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Os)))}function Ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Rs={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Cr={},Du={};ta&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Wa(e){if(Cr[e])return Cr[e];if(!Rs[e])return e;var t=Rs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Du)return Cr[e]=t[a];return e}var Au=Wa("animationend"),Tu=Wa("animationiteration"),Ou=Wa("animationstart"),up=Wa("transitionrun"),dp=Wa("transitionstart"),fp=Wa("transitioncancel"),Ru=Wa("transitionend"),Eu=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function It(e,t){Eu.set(e,t),Za(t,[e])}var ku=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var a=ku.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Qo(t)},ku.set(e,t),t)}return{value:e,source:t,stack:Qo(t)}}var _t=[],Es=0,Ar=0;function Un(){for(var e=Es,t=Ar=Es=0;t<e;){var a=_t[t];_t[t++]=null;var l=_t[t];_t[t++]=null;var i=_t[t];_t[t++]=null;var u=_t[t];if(_t[t++]=null,l!==null&&i!==null){var p=l.pending;p===null?i.next=i:(i.next=p.next,p.next=i),l.pending=i}u!==0&&_u(a,i,u)}}function qn(e,t,a,l){_t[Es++]=e,_t[Es++]=t,_t[Es++]=a,_t[Es++]=l,Ar|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tr(e,t,a,l){return qn(e,t,a,l),Ln(e)}function ks(e,t){return qn(e,null,null,t),Ln(e)}function _u(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,u=e.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(i=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,i&&t!==null&&(i=31-Nt(a),e=u.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),u):null}function Ln(e){if(50<Zl)throw Zl=0,Mc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _s={};function mp(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,a,l){return new mp(e,t,a,l)}function Or(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=wt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hn(e,t,a,l,i,u){var p=0;if(l=e,typeof e=="function")Or(e)&&(p=1);else if(typeof e=="string")p=gx(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case U:return e=wt(31,a,t,i),e.elementType=U,e.lanes=u,e;case S:return es(a.children,i,u,t);case M:p=8,i|=24;break;case O:return e=wt(12,a,t,i|2),e.elementType=O,e.lanes=u,e;case F:return e=wt(13,a,t,i),e.elementType=F,e.lanes=u,e;case ee:return e=wt(19,a,t,i),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case Z:p=10;break e;case H:p=9;break e;case Q:p=11;break e;case oe:p=14;break e;case ne:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=wt(p,a,t,i),t.elementType=e,t.type=l,t.lanes=u,t}function es(e,t,a,l){return e=wt(7,e,l,t),e.lanes=a,e}function Rr(e,t,a){return e=wt(6,e,null,t),e.lanes=a,e}function Er(e,t,a){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ms=[],zs=0,Bn=null,In=0,Mt=[],zt=0,ts=null,sa=1,la="";function as(e,t){Ms[zs++]=In,Ms[zs++]=Bn,Bn=e,In=t}function zu(e,t,a){Mt[zt++]=sa,Mt[zt++]=la,Mt[zt++]=ts,ts=e;var l=sa;e=la;var i=32-Nt(l)-1;l&=~(1<<i),a+=1;var u=32-Nt(t)+i;if(30<u){var p=i-i%5;u=(l&(1<<p)-1).toString(32),l>>=p,i-=p,sa=1<<32-Nt(t)+i|a<<i|l,la=u+e}else sa=1<<u|a<<i|l,la=e}function kr(e){e.return!==null&&(as(e,1),zu(e,1,0))}function _r(e){for(;e===Bn;)Bn=Ms[--zs],Ms[zs]=null,In=Ms[--zs],Ms[zs]=null;for(;e===ts;)ts=Mt[--zt],Mt[zt]=null,la=Mt[--zt],Mt[zt]=null,sa=Mt[--zt],Mt[zt]=null}var mt=null,$e=null,Oe=!1,ss=null,$t=!1,Mr=Error(r(519));function ls(e){var t=Error(r(418,""));throw Tl(kt(t,e)),Mr}function Uu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ot]=e,t[ht]=l,a){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Ce(Jl[a],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Po(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),An(t);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Wo(t,l.value,l.defaultValue,l.children),An(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||em(t.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),l.onScroll!=null&&Ce("scroll",t),l.onScrollEnd!=null&&Ce("scrollend",t),l.onClick!=null&&(t.onclick=ji),t=!0):t=!1,t||ls(e)}function qu(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:mt=mt.return}}function Dl(e){if(e!==mt)return!1;if(!Oe)return qu(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zc(e.type,e.memoizedProps)),a=!a),a&&$e&&ls(e),qu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){$e=Gt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,La(e.type)?(e=eo,eo=null,$e=e):$e=t):$e=mt?Gt(e.stateNode.nextSibling):null;return!0}function Al(){$e=mt=null,Oe=!1}function Lu(){var e=ss;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),ss=null),e}function Tl(e){ss===null?ss=[e]:ss.push(e)}var zr=G(null),ns=null,na=null;function Sa(e,t,a){$(zr,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=zr.current,B(zr)}function Ur(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function qr(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){var p=i.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=i;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Ur(u.return,a,e),l||(p=null);break e}u=v.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(r(341));p.lanes|=a,u=p.alternate,u!==null&&(u.lanes|=a),Ur(p,a,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function Ol(e,t,a,l){e=null;for(var i=t,u=!1;i!==null;){if(!u){if((i.flags&524288)!==0)u=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var v=i.type;St(i.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(i===je.current){if(p=i.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ln):e=[ln])}i=i.return}e!==null&&qr(t,e,a,l),t.flags|=262144}function Vn(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function is(e){ns=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Hu(ns,e)}function Gn(e,t){return ns===null&&is(e),Hu(e,t)}function Hu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(r(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var hp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gp=c.unstable_scheduleCallback,pp=c.unstable_NormalPriority,Je={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new hp,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&gp(pp,function(){e.controller.abort()})}var El=null,Hr=0,Us=0,qs=null;function xp(e,t){if(El===null){var a=El=[];Hr=0,Us=Ic(),qs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hr++,t.then(Bu,Bu),t}function Bu(){if(--Hr===0&&El!==null){qs!==null&&(qs.status="fulfilled");var e=El;El=null,Us=0,qs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yp(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var Iu=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&xp(e,t),Iu!==null&&Iu(e,t)};var rs=G(null);function Br(){var e=rs.current;return e!==null?e:Le.pooledCache}function Fn(e,t){t===null?$(rs,rs.current):$(rs,t.pool)}function Vu(){var e=Br();return e===null?null:{parent:Je._currentValue,pool:e}}var kl=Error(r(460)),Gu=Error(r(474)),$n=Error(r(542)),Ir={then:function(){}};function Fu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yn(){}function $u(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Yn,Yn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e;default:if(typeof t.status=="string")t.then(Yn,Yn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e}throw _l=t,kl}}var _l=null;function Yu(){if(_l===null)throw Error(r(459));var e=_l;return _l=null,e}function Xu(e){if(e===kl||e===$n)throw Error(r(483))}var wa=!1;function Vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=Ln(e),_u(e,null,a),t}return qn(e,l,t,a),Ln(e)}function Ml(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bo(e,a)}}function Fr(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?i=u=p:u=u.next=p,a=a.next}while(a!==null);u===null?i=u=t:u=u.next=t}else i=u=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $r=!1;function zl(){if($r){var e=qs;if(e!==null)throw e}}function Ul(e,t,a,l){$r=!1;var i=e.updateQueue;wa=!1;var u=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var w=v,q=w.next;w.next=null,p===null?u=q:p.next=q,p=w;var X=e.alternate;X!==null&&(X=X.updateQueue,v=X.lastBaseUpdate,v!==p&&(v===null?X.firstBaseUpdate=q:v.next=q,X.lastBaseUpdate=w))}if(u!==null){var P=i.baseState;p=0,X=q=w=null,v=u;do{var L=v.lane&-536870913,I=L!==v.lane;if(I?(Ae&L)===L:(l&L)===L){L!==0&&L===Us&&($r=!0),X!==null&&(X=X.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var xe=e,ge=v;L=t;var ze=a;switch(ge.tag){case 1:if(xe=ge.payload,typeof xe=="function"){P=xe.call(ze,P,L);break e}P=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ge.payload,L=typeof xe=="function"?xe.call(ze,P,L):xe,L==null)break e;P=y({},P,L);break e;case 2:wa=!0}}L=v.callback,L!==null&&(e.flags|=64,I&&(e.flags|=8192),I=i.callbacks,I===null?i.callbacks=[L]:I.push(L))}else I={lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},X===null?(q=X=I,w=P):X=X.next=I,p|=L;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;I=v,v=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);X===null&&(w=P),i.baseState=w,i.firstBaseUpdate=q,i.lastBaseUpdate=X,u===null&&(i.shared.lanes=0),Ma|=p,e.lanes=p,e.memoizedState=P}}function Qu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ku(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qu(a[e],t)}var Ls=G(null),Xn=G(0);function Zu(e,t){e=ma,$(Xn,e),$(Ls,t),ma=e|t.baseLanes}function Yr(){$(Xn,ma),$(Ls,Ls.current)}function Xr(){ma=Xn.current,B(Ls),B(Xn)}var Aa=0,Ne=null,_e=null,Ze=null,Qn=!1,Hs=!1,cs=!1,Kn=0,ql=0,Bs=null,vp=0;function Qe(){throw Error(r(321))}function Qr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function Kr(e,t,a,l,i,u){return Aa=u,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?_d:Md,cs=!1,u=a(l,i),cs=!1,Hs&&(u=Ju(t,a,l,i)),Pu(e),u}function Pu(e){D.H=ti;var t=_e!==null&&_e.next!==null;if(Aa=0,Ze=_e=Ne=null,Qn=!1,ql=0,Bs=null,t)throw Error(r(300));e===null||at||(e=e.dependencies,e!==null&&Vn(e)&&(at=!0))}function Ju(e,t,a,l){Ne=e;var i=0;do{if(Hs&&(Bs=null),ql=0,Hs=!1,25<=i)throw Error(r(301));if(i+=1,Ze=_e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Dp,u=t(a,l)}while(Hs);return u}function bp(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ll(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Zr(){var e=Kn!==0;return Kn=0,e}function Pr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Jr(e){if(Qn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qn=!1}Aa=0,Ze=_e=Ne=null,Hs=!1,ql=Kn=0,Bs=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ne.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Pe(){if(_e===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ze===null?Ne.memoizedState:Ze.next;if(t!==null)Ze=t,_e=e;else{if(e===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ze===null?Ne.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var t=ql;return ql+=1,Bs===null&&(Bs=[]),e=$u(Bs,e,t),t=Ne,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?_d:Md),e}function Zn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===Z)return ut(e)}throw Error(r(438,String(e)))}function ec(e){var t=null,a=Ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Wr(),Ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=k;return t.index++,a}function ra(e,t){return typeof t=="function"?t(e):t}function Pn(e){var t=Pe();return tc(t,_e,e)}function tc(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var i=e.baseQueue,u=l.pending;if(u!==null){if(i!==null){var p=i.next;i.next=u.next,u.next=p}t.baseQueue=i=u,l.pending=null}if(u=e.baseState,i===null)e.memoizedState=u;else{t=i.next;var v=p=null,w=null,q=t,X=!1;do{var P=q.lane&-536870913;if(P!==q.lane?(Ae&P)===P:(Aa&P)===P){var L=q.revertLane;if(L===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),P===Us&&(X=!0);else if((Aa&L)===L){q=q.next,L===Us&&(X=!0);continue}else P={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(v=w=P,p=u):w=w.next=P,Ne.lanes|=L,Ma|=L;P=q.action,cs&&a(u,P),u=q.hasEagerState?q.eagerState:a(u,P)}else L={lane:P,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},w===null?(v=w=L,p=u):w=w.next=L,Ne.lanes|=P,Ma|=P;q=q.next}while(q!==null&&q!==t);if(w===null?p=u:w.next=v,!St(u,e.memoizedState)&&(at=!0,X&&(a=qs,a!==null)))throw a;e.memoizedState=u,e.baseState=p,e.baseQueue=w,l.lastRenderedState=u}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ac(e){var t=Pe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,u=t.memoizedState;if(i!==null){a.pending=null;var p=i=i.next;do u=e(u,p.action),p=p.next;while(p!==i);St(u,t.memoizedState)||(at=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,l]}function Wu(e,t,a){var l=Ne,i=Pe(),u=Oe;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var p=!St((_e||i).memoizedState,a);p&&(i.memoizedState=a,at=!0),i=i.queue;var v=ad.bind(null,l,i,e);if(Hl(2048,8,v,[e]),i.getSnapshot!==t||p||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,Is(9,Jn(),td.bind(null,l,i,a,t),null),Le===null)throw Error(r(349));u||(Aa&124)!==0||ed(l,t,a)}return a}function ed(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ne.updateQueue,t===null?(t=Wr(),Ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function td(e,t,a,l){t.value=a,t.getSnapshot=l,sd(t)&&ld(e)}function ad(e,t,a){return a(function(){sd(t)&&ld(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function ld(e){var t=ks(e,2);t!==null&&Ot(t,e,2)}function sc(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),cs){ba(!0);try{a()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t}function nd(e,t,a,l){return e.baseState=a,tc(e,_e,typeof l=="function"?l:ra)}function jp(e,t,a,l,i){if(ei(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};D.T!==null?a(!0):u.isTransition=!1,l(u),a=t.pending,a===null?(u.next=t.pending=u,id(t,u)):(u.next=a.next,t.pending=a.next=u)}}function id(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var u=D.T,p={};D.T=p;try{var v=a(i,l),w=D.S;w!==null&&w(p,v),rd(e,t,v)}catch(q){lc(e,t,q)}finally{D.T=u}}else try{u=a(i,l),rd(e,t,u)}catch(q){lc(e,t,q)}}function rd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cd(e,t,l)},function(l){return lc(e,t,l)}):cd(e,t,a)}function cd(e,t,a){t.status="fulfilled",t.value=a,od(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,id(e,a)))}function lc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,od(t),t=t.next;while(t!==l)}e.action=null}function od(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ud(e,t){return t}function dd(e,t){if(Oe){var a=Le.formState;if(a!==null){e:{var l=Ne;if(Oe){if($e){t:{for(var i=$e,u=$t;i.nodeType!==8;){if(!u){i=null;break t}if(i=Gt(i.nextSibling),i===null){i=null;break t}}u=i.data,i=u==="F!"||u==="F"?i:null}if(i){$e=Gt(i.nextSibling),l=i.data==="F!";break e}}ls(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},a.queue=l,a=Rd.bind(null,Ne,l),l.dispatch=a,l=sc(!1),u=oc.bind(null,Ne,!1,l.queue),l=pt(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=jp.bind(null,Ne,i,u,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function fd(e){var t=Pe();return md(t,_e,e)}function md(e,t,a){if(t=tc(e,t,ud)[0],e=Pn(ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ll(t)}catch(p){throw p===kl?$n:p}else l=t;t=Pe();var i=t.queue,u=i.dispatch;return a!==t.memoizedState&&(Ne.flags|=2048,Is(9,Jn(),Np.bind(null,i,a),null)),[l,u,e]}function Np(e,t){e.action=t}function hd(e){var t=Pe(),a=_e;if(a!==null)return md(t,a,e);Pe(),t=t.memoizedState,a=Pe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Is(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Wr(),Ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Jn(){return{destroy:void 0,resource:void 0}}function gd(){return Pe().memoizedState}function Wn(e,t,a,l){var i=pt();l=l===void 0?null:l,Ne.flags|=e,i.memoizedState=Is(1|t,Jn(),a,l)}function Hl(e,t,a,l){var i=Pe();l=l===void 0?null:l;var u=i.memoizedState.inst;_e!==null&&l!==null&&Qr(l,_e.memoizedState.deps)?i.memoizedState=Is(t,u,a,l):(Ne.flags|=e,i.memoizedState=Is(1|t,u,a,l))}function pd(e,t){Wn(8390656,8,e,t)}function xd(e,t){Hl(2048,8,e,t)}function yd(e,t){return Hl(4,2,e,t)}function vd(e,t){return Hl(4,4,e,t)}function bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,a){a=a!=null?a.concat([e]):null,Hl(4,4,bd.bind(null,t,e),a)}function nc(){}function Nd(e,t){var a=Pe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Qr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Sd(e,t){var a=Pe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Qr(t,l[1]))return l[0];if(l=e(),cs){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[l,t],l}function ic(e,t,a){return a===void 0||(Aa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Af(),Ne.lanes|=e,Ma|=e,a)}function wd(e,t,a,l){return St(a,t)?a:Ls.current!==null?(e=ic(e,a,l),St(e,t)||(at=!0),e):(Aa&42)===0?(at=!0,e.memoizedState=a):(e=Af(),Ne.lanes|=e,Ma|=e,t)}function Cd(e,t,a,l,i){var u=W.p;W.p=u!==0&&8>u?u:8;var p=D.T,v={};D.T=v,oc(e,!1,t,a);try{var w=i(),q=D.S;if(q!==null&&q(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=yp(w,l);Bl(e,t,X,Tt(e))}else Bl(e,t,l,Tt(e))}catch(P){Bl(e,t,{then:function(){},status:"rejected",reason:P},Tt())}finally{W.p=u,D.T=p}}function Sp(){}function rc(e,t,a,l){if(e.tag!==5)throw Error(r(476));var i=Dd(e).queue;Cd(e,i,t,re,a===null?Sp:function(){return Ad(e),a(l)})}function Dd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ad(e){var t=Dd(e).next.queue;Bl(e,t,{},Tt())}function cc(){return ut(ln)}function Td(){return Pe().memoizedState}function Od(){return Pe().memoizedState}function wp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Tt();e=Ca(a);var l=Da(t,e,a);l!==null&&(Ot(l,t,a),Ml(l,t,a)),t={cache:Lr()},e.payload=t;return}t=t.return}}function Cp(e,t,a){var l=Tt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ei(e)?Ed(t,a):(a=Tr(e,t,a,l),a!==null&&(Ot(a,e,l),kd(a,t,l)))}function Rd(e,t,a){var l=Tt();Bl(e,t,a,l)}function Bl(e,t,a,l){var i={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ei(e))Ed(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,a);if(i.hasEagerState=!0,i.eagerState=v,St(v,p))return qn(e,t,i,0),Le===null&&Un(),!1}catch{}finally{}if(a=Tr(e,t,i,l),a!==null)return Ot(a,e,l),kd(a,t,l),!0}return!1}function oc(e,t,a,l){if(l={lane:2,revertLane:Ic(),action:l,hasEagerState:!1,eagerState:null,next:null},ei(e)){if(t)throw Error(r(479))}else t=Tr(e,a,l,2),t!==null&&Ot(t,e,2)}function ei(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Ed(e,t){Hs=Qn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function kd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bo(e,a)}}var ti={readContext:ut,use:Zn,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},_d={readContext:ut,use:Zn,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:pd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Wn(4194308,4,bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wn(4194308,4,e,t)},useInsertionEffect:function(e,t){Wn(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(cs){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var i=a(t);if(cs){ba(!0);try{a(t)}finally{ba(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=Cp.bind(null,Ne,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=sc(e);var t=e.queue,a=Rd.bind(null,Ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:nc,useDeferredValue:function(e,t){var a=pt();return ic(a,e,t)},useTransition:function(){var e=sc(!1);return e=Cd.bind(null,Ne,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ne,i=pt();if(Oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Le===null)throw Error(r(349));(Ae&124)!==0||ed(l,t,a)}i.memoizedState=a;var u={value:a,getSnapshot:t};return i.queue=u,pd(ad.bind(null,l,u,e),[e]),l.flags|=2048,Is(9,Jn(),td.bind(null,l,u,a,t),null),a},useId:function(){var e=pt(),t=Le.identifierPrefix;if(Oe){var a=la,l=sa;a=(l&~(1<<32-Nt(l)-1)).toString(32)+a,t=""+t+"R"+a,a=Kn++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=vp++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:cc,useFormState:dd,useActionState:dd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=oc.bind(null,Ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:ec,useCacheRefresh:function(){return pt().memoizedState=wp.bind(null,Ne)}},Md={readContext:ut,use:Zn,useCallback:Nd,useContext:ut,useEffect:xd,useImperativeHandle:jd,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:Sd,useReducer:Pn,useRef:gd,useState:function(){return Pn(ra)},useDebugValue:nc,useDeferredValue:function(e,t){var a=Pe();return wd(a,_e.memoizedState,e,t)},useTransition:function(){var e=Pn(ra)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:Wu,useId:Td,useHostTransitionStatus:cc,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=Pe();return nd(a,_e,e,t)},useMemoCache:ec,useCacheRefresh:Od},Dp={readContext:ut,use:Zn,useCallback:Nd,useContext:ut,useEffect:xd,useImperativeHandle:jd,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:Sd,useReducer:ac,useRef:gd,useState:function(){return ac(ra)},useDebugValue:nc,useDeferredValue:function(e,t){var a=Pe();return _e===null?ic(a,e,t):wd(a,_e.memoizedState,e,t)},useTransition:function(){var e=ac(ra)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:Wu,useId:Td,useHostTransitionStatus:cc,useFormState:hd,useActionState:hd,useOptimistic:function(e,t){var a=Pe();return _e!==null?nd(a,_e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Od},Vs=null,Il=0;function ai(e){var t=Il;return Il+=1,Vs===null&&(Vs=[]),$u(Vs,e,t)}function Vl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function si(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zd(e){var t=e._init;return t(e._payload)}function Ud(e){function t(E,R){if(e){var z=E.deletions;z===null?(E.deletions=[R],E.flags|=16):z.push(R)}}function a(E,R){if(!e)return null;for(;R!==null;)t(E,R),R=R.sibling;return null}function l(E){for(var R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function i(E,R){return E=aa(E,R),E.index=0,E.sibling=null,E}function u(E,R,z){return E.index=z,e?(z=E.alternate,z!==null?(z=z.index,z<R?(E.flags|=67108866,R):z):(E.flags|=67108866,R)):(E.flags|=1048576,R)}function p(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,R,z,K){return R===null||R.tag!==6?(R=Rr(z,E.mode,K),R.return=E,R):(R=i(R,z),R.return=E,R)}function w(E,R,z,K){var de=z.type;return de===S?X(E,R,z.props.children,K,z.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&zd(de)===R.type)?(R=i(R,z.props),Vl(R,z),R.return=E,R):(R=Hn(z.type,z.key,z.props,null,E.mode,K),Vl(R,z),R.return=E,R)}function q(E,R,z,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=Er(z,E.mode,K),R.return=E,R):(R=i(R,z.children||[]),R.return=E,R)}function X(E,R,z,K,de){return R===null||R.tag!==7?(R=es(z,E.mode,K,de),R.return=E,R):(R=i(R,z),R.return=E,R)}function P(E,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Rr(""+R,E.mode,z),R.return=E,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return z=Hn(R.type,R.key,R.props,null,E.mode,z),Vl(z,R),z.return=E,z;case A:return R=Er(R,E.mode,z),R.return=E,R;case ne:var K=R._init;return R=K(R._payload),P(E,R,z)}if(ae(R)||J(R))return R=es(R,E.mode,z,null),R.return=E,R;if(typeof R.then=="function")return P(E,ai(R),z);if(R.$$typeof===Z)return P(E,Gn(E,R),z);si(E,R)}return null}function L(E,R,z,K){var de=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:v(E,R,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return z.key===de?w(E,R,z,K):null;case A:return z.key===de?q(E,R,z,K):null;case ne:return de=z._init,z=de(z._payload),L(E,R,z,K)}if(ae(z)||J(z))return de!==null?null:X(E,R,z,K,null);if(typeof z.then=="function")return L(E,R,ai(z),K);if(z.$$typeof===Z)return L(E,R,Gn(E,z),K);si(E,z)}return null}function I(E,R,z,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return E=E.get(z)||null,v(R,E,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return E=E.get(K.key===null?z:K.key)||null,w(R,E,K,de);case A:return E=E.get(K.key===null?z:K.key)||null,q(R,E,K,de);case ne:var Se=K._init;return K=Se(K._payload),I(E,R,z,K,de)}if(ae(K)||J(K))return E=E.get(z)||null,X(R,E,K,de,null);if(typeof K.then=="function")return I(E,R,z,ai(K),de);if(K.$$typeof===Z)return I(E,R,z,Gn(R,K),de);si(R,K)}return null}function xe(E,R,z,K){for(var de=null,Se=null,fe=R,pe=R=0,lt=null;fe!==null&&pe<z.length;pe++){fe.index>pe?(lt=fe,fe=null):lt=fe.sibling;var Te=L(E,fe,z[pe],K);if(Te===null){fe===null&&(fe=lt);break}e&&fe&&Te.alternate===null&&t(E,fe),R=u(Te,R,pe),Se===null?de=Te:Se.sibling=Te,Se=Te,fe=lt}if(pe===z.length)return a(E,fe),Oe&&as(E,pe),de;if(fe===null){for(;pe<z.length;pe++)fe=P(E,z[pe],K),fe!==null&&(R=u(fe,R,pe),Se===null?de=fe:Se.sibling=fe,Se=fe);return Oe&&as(E,pe),de}for(fe=l(fe);pe<z.length;pe++)lt=I(fe,E,pe,z[pe],K),lt!==null&&(e&&lt.alternate!==null&&fe.delete(lt.key===null?pe:lt.key),R=u(lt,R,pe),Se===null?de=lt:Se.sibling=lt,Se=lt);return e&&fe.forEach(function(Ga){return t(E,Ga)}),Oe&&as(E,pe),de}function ge(E,R,z,K){if(z==null)throw Error(r(151));for(var de=null,Se=null,fe=R,pe=R=0,lt=null,Te=z.next();fe!==null&&!Te.done;pe++,Te=z.next()){fe.index>pe?(lt=fe,fe=null):lt=fe.sibling;var Ga=L(E,fe,Te.value,K);if(Ga===null){fe===null&&(fe=lt);break}e&&fe&&Ga.alternate===null&&t(E,fe),R=u(Ga,R,pe),Se===null?de=Ga:Se.sibling=Ga,Se=Ga,fe=lt}if(Te.done)return a(E,fe),Oe&&as(E,pe),de;if(fe===null){for(;!Te.done;pe++,Te=z.next())Te=P(E,Te.value,K),Te!==null&&(R=u(Te,R,pe),Se===null?de=Te:Se.sibling=Te,Se=Te);return Oe&&as(E,pe),de}for(fe=l(fe);!Te.done;pe++,Te=z.next())Te=I(fe,E,pe,Te.value,K),Te!==null&&(e&&Te.alternate!==null&&fe.delete(Te.key===null?pe:Te.key),R=u(Te,R,pe),Se===null?de=Te:Se.sibling=Te,Se=Te);return e&&fe.forEach(function(Ax){return t(E,Ax)}),Oe&&as(E,pe),de}function ze(E,R,z,K){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case T:e:{for(var de=z.key;R!==null;){if(R.key===de){if(de=z.type,de===S){if(R.tag===7){a(E,R.sibling),K=i(R,z.props.children),K.return=E,E=K;break e}}else if(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&zd(de)===R.type){a(E,R.sibling),K=i(R,z.props),Vl(K,z),K.return=E,E=K;break e}a(E,R);break}else t(E,R);R=R.sibling}z.type===S?(K=es(z.props.children,E.mode,K,z.key),K.return=E,E=K):(K=Hn(z.type,z.key,z.props,null,E.mode,K),Vl(K,z),K.return=E,E=K)}return p(E);case A:e:{for(de=z.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){a(E,R.sibling),K=i(R,z.children||[]),K.return=E,E=K;break e}else{a(E,R);break}else t(E,R);R=R.sibling}K=Er(z,E.mode,K),K.return=E,E=K}return p(E);case ne:return de=z._init,z=de(z._payload),ze(E,R,z,K)}if(ae(z))return xe(E,R,z,K);if(J(z)){if(de=J(z),typeof de!="function")throw Error(r(150));return z=de.call(z),ge(E,R,z,K)}if(typeof z.then=="function")return ze(E,R,ai(z),K);if(z.$$typeof===Z)return ze(E,R,Gn(E,z),K);si(E,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(a(E,R.sibling),K=i(R,z),K.return=E,E=K):(a(E,R),K=Rr(z,E.mode,K),K.return=E,E=K),p(E)):a(E,R)}return function(E,R,z,K){try{Il=0;var de=ze(E,R,z,K);return Vs=null,de}catch(fe){if(fe===kl||fe===$n)throw fe;var Se=wt(29,fe,null,E.mode);return Se.lanes=K,Se.return=E,Se}finally{}}}var Gs=Ud(!0),qd=Ud(!1),Ut=G(null),Yt=null;function Ta(e){var t=e.alternate;$(We,We.current&1),$(Ut,e),Yt===null&&(t===null||Ls.current!==null||t.memoizedState!==null)&&(Yt=e)}function Ld(e){if(e.tag===22){if($(We,We.current),$(Ut,e),Yt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yt=e)}}else Oa()}function Oa(){$(We,We.current),$(Ut,Ut.current)}function ca(e){B(Ut),Yt===e&&(Yt=null),B(We)}var We=G(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function uc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Tt(),i=Ca(l);i.payload=t,a!=null&&(i.callback=a),t=Da(e,i,l),t!==null&&(Ot(t,e,l),Ml(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Tt(),i=Ca(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Da(e,i,l),t!==null&&(Ot(t,e,l),Ml(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tt(),l=Ca(a);l.tag=2,t!=null&&(l.callback=t),t=Da(e,l,a),t!==null&&(Ot(t,e,a),Ml(t,e,a))}};function Hd(e,t,a,l,i,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,p):t.prototype&&t.prototype.isPureReactComponent?!wl(a,l)||!wl(i,u):!0}function Bd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function os(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Id(e){ni(e)}function Vd(e){console.error(e)}function Gd(e){ni(e)}function ii(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Fd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fc(e,t,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){ii(e,t)},a}function $d(e){return e=Ca(e),e.tag=3,e}function Yd(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var u=l.value;e.payload=function(){return i(u)},e.callback=function(){Fd(t,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Fd(t,a,l),typeof i!="function"&&(za===null?za=new Set([this]):za.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Ap(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Ol(t,a,i,!0),a=Ut.current,a!==null){switch(a.tag){case 13:return Yt===null?Uc():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===Ir?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Lc(e,l,i)),!1;case 22:return a.flags|=65536,l===Ir?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Lc(e,l,i)),!1}throw Error(r(435,a.tag))}return Lc(e,l,i),Uc(),!1}if(Oe)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==Mr&&(e=Error(r(422),{cause:l}),Tl(kt(e,a)))):(l!==Mr&&(t=Error(r(423),{cause:l}),Tl(kt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=kt(l,a),i=fc(e.stateNode,l,i),Fr(e,i),Ye!==4&&(Ye=2)),!1;var u=Error(r(520),{cause:l});if(u=kt(u,a),Kl===null?Kl=[u]:Kl.push(u),Ye!==4&&(Ye=2),t===null)return!0;l=kt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=fc(a.stateNode,l,e),Fr(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(za===null||!za.has(u))))return a.flags|=65536,i&=-i,a.lanes|=i,i=$d(i),Yd(i,e,a,l),Fr(a,i),!1}a=a.return}while(a!==null);return!1}var Xd=Error(r(461)),at=!1;function nt(e,t,a,l){t.child=e===null?qd(t,null,a,l):Gs(t,e.child,a,l)}function Qd(e,t,a,l,i){a=a.render;var u=t.ref;if("ref"in l){var p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}else p=l;return is(t),l=Kr(e,t,a,p,u,i),v=Zr(),e!==null&&!at?(Pr(e,t,i),oa(e,t,i)):(Oe&&v&&kr(t),t.flags|=1,nt(e,t,l,i),t.child)}function Kd(e,t,a,l,i){if(e===null){var u=a.type;return typeof u=="function"&&!Or(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Zd(e,t,u,l,i)):(e=Hn(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!bc(e,i)){var p=u.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(p,l)&&e.ref===t.ref)return oa(e,t,i)}return t.flags|=1,e=aa(u,l),e.ref=t.ref,e.return=t,t.child=e}function Zd(e,t,a,l,i){if(e!==null){var u=e.memoizedProps;if(wl(u,l)&&e.ref===t.ref)if(at=!1,t.pendingProps=l=u,bc(e,i))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,oa(e,t,i)}return mc(e,t,a,l,i)}function Pd(e,t,a){var l=t.pendingProps,i=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return Jd(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fn(t,u!==null?u.cachePool:null),u!==null?Zu(t,u):Yr(),Ld(t);else return t.lanes=t.childLanes=536870912,Jd(e,t,u!==null?u.baseLanes|a:a,a)}else u!==null?(Fn(t,u.cachePool),Zu(t,u),Oa(),t.memoizedState=null):(e!==null&&Fn(t,null),Yr(),Oa());return nt(e,t,i,a),t.child}function Jd(e,t,a,l){var i=Br();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Fn(t,null),Yr(),Ld(t),e!==null&&Ol(e,t,l,!0),null}function ri(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mc(e,t,a,l,i){return is(t),a=Kr(e,t,a,l,void 0,i),l=Zr(),e!==null&&!at?(Pr(e,t,i),oa(e,t,i)):(Oe&&l&&kr(t),t.flags|=1,nt(e,t,a,i),t.child)}function Wd(e,t,a,l,i,u){return is(t),t.updateQueue=null,a=Ju(t,l,a,i),Pu(e),l=Zr(),e!==null&&!at?(Pr(e,t,u),oa(e,t,u)):(Oe&&l&&kr(t),t.flags|=1,nt(e,t,a,u),t.child)}function ef(e,t,a,l,i){if(is(t),t.stateNode===null){var u=_s,p=a.contextType;typeof p=="object"&&p!==null&&(u=ut(p)),u=new a(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=dc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Vr(t),p=a.contextType,u.context=typeof p=="object"&&p!==null?ut(p):_s,u.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(uc(t,a,p,l),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&dc.enqueueReplaceState(u,u.state,null),Ul(t,l,u,i),zl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=os(a,v);u.props=w;var q=u.context,X=a.contextType;p=_s,typeof X=="object"&&X!==null&&(p=ut(X));var P=a.getDerivedStateFromProps;X=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,X||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||q!==p)&&Bd(t,u,l,p),wa=!1;var L=t.memoizedState;u.state=L,Ul(t,l,u,i),zl(),q=t.memoizedState,v||L!==q||wa?(typeof P=="function"&&(uc(t,a,P,l),q=t.memoizedState),(w=wa||Hd(t,a,w,l,L,q,p))?(X||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),u.props=l,u.state=q,u.context=p,l=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Gr(e,t),p=t.memoizedProps,X=os(a,p),u.props=X,P=t.pendingProps,L=u.context,q=a.contextType,w=_s,typeof q=="object"&&q!==null&&(w=ut(q)),v=a.getDerivedStateFromProps,(q=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==P||L!==w)&&Bd(t,u,l,w),wa=!1,L=t.memoizedState,u.state=L,Ul(t,l,u,i),zl();var I=t.memoizedState;p!==P||L!==I||wa||e!==null&&e.dependencies!==null&&Vn(e.dependencies)?(typeof v=="function"&&(uc(t,a,v,l),I=t.memoizedState),(X=wa||Hd(t,a,X,l,L,I,w)||e!==null&&e.dependencies!==null&&Vn(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,I,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,I,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=I),u.props=l,u.state=I,u.context=w,l=X):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,ri(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Gs(t,e.child,null,i),t.child=Gs(t,null,a,i)):nt(e,t,a,i),t.memoizedState=u.state,e=t.child):e=oa(e,t,i),e}function tf(e,t,a,l){return Al(),t.flags|=256,nt(e,t,a,l),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:Vu()}}function pc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function af(e,t,a){var l=t.pendingProps,i=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(i?Ta(t):Oa(),Oe){var v=$e,w;if(w=v){e:{for(w=v,v=$t;w.nodeType!==8;){if(!v){v=null;break e}if(w=Gt(w.nextSibling),w===null){v=null;break e}}v=w}v!==null?(t.memoizedState={dehydrated:v,treeContext:ts!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},w=wt(18,null,null,0),w.stateNode=v,w.return=t,t.child=w,mt=t,$e=null,w=!0):w=!1}w||ls(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Wc(v)?t.lanes=32:t.lanes=536870912,null;ca(t)}return v=l.children,l=l.fallback,i?(Oa(),i=t.mode,v=ci({mode:"hidden",children:v},i),l=es(l,i,a,null),v.return=t,l.return=t,v.sibling=l,t.child=v,i=t.child,i.memoizedState=gc(a),i.childLanes=pc(e,p,a),t.memoizedState=hc,l):(Ta(t),xc(t,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Ta(t),t.flags&=-257,t=yc(e,t,a)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),i=l.fallback,v=t.mode,l=ci({mode:"visible",children:l.children},v),i=es(i,v,a,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,Gs(t,e.child,null,a),l=t.child,l.memoizedState=gc(a),l.childLanes=pc(e,p,a),t.memoizedState=hc,t=i);else if(Ta(t),Wc(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var q=p.dgst;p=q,l=Error(r(419)),l.stack="",l.digest=p,Tl({value:l,source:null,stack:null}),t=yc(e,t,a)}else if(at||Ol(e,t,a,!1),p=(a&e.childLanes)!==0,at||p){if(p=Le,p!==null&&(l=a&-a,l=(l&42)!==0?1:er(l),l=(l&(p.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ks(e,l),Ot(p,e,l),Xd;v.data==="$?"||Uc(),t=yc(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,$e=Gt(v.nextSibling),mt=t,Oe=!0,ss=null,$t=!1,e!==null&&(Mt[zt++]=sa,Mt[zt++]=la,Mt[zt++]=ts,sa=e.id,la=e.overflow,ts=t),t=xc(t,l.children),t.flags|=4096);return t}return i?(Oa(),i=l.fallback,v=t.mode,w=e.child,q=w.sibling,l=aa(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,q!==null?i=aa(q,i):(i=es(i,v,a,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,v=e.child.memoizedState,v===null?v=gc(a):(w=v.cachePool,w!==null?(q=Je._currentValue,w=w.parent!==q?{parent:q,pool:q}:w):w=Vu(),v={baseLanes:v.baseLanes|a,cachePool:w}),i.memoizedState=v,i.childLanes=pc(e,p,a),t.memoizedState=hc,l):(Ta(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function xc(e,t){return t=ci({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ci(e,t){return e=wt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yc(e,t,a){return Gs(t,e.child,null,a),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ur(e.return,t,a)}function vc(e,t,a,l,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=a,u.tailMode=i)}function lf(e,t,a){var l=t.pendingProps,i=l.revealOrder,u=l.tail;if(nt(e,t,l.children,a),l=We.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,a,t);else if(e.tag===19)sf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($(We,l),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&li(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),vc(t,!1,i,a,u);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&li(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}vc(t,!0,a,null,u);break;case"together":vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ol(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vn(e)))}function Tp(e,t,a){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),Sa(t,Je,e.memoizedState.cache),Al();break;case 27:case 5:He(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:Sa(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ta(t),t.flags|=128,null):(a&t.child.childLanes)!==0?af(e,t,a):(Ta(t),e=oa(e,t,a),e!==null?e.sibling:null);Ta(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Ol(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return lf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(We,We.current),l)break;return null;case 22:case 23:return t.lanes=0,Pd(e,t,a);case 24:Sa(t,Je,e.memoizedState.cache)}return oa(e,t,a)}function nf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!bc(e,a)&&(t.flags&128)===0)return at=!1,Tp(e,t,a);at=(e.flags&131072)!==0}else at=!1,Oe&&(t.flags&1048576)!==0&&zu(t,In,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,i=l._init;if(l=i(l._payload),t.type=l,typeof l=="function")Or(l)?(e=os(l,e),t.tag=1,t=ef(null,t,l,e,a)):(t.tag=0,t=mc(null,t,l,e,a));else{if(l!=null){if(i=l.$$typeof,i===Q){t.tag=11,t=Qd(null,t,l,e,a);break e}else if(i===oe){t.tag=14,t=Kd(null,t,l,e,a);break e}}throw t=Y(l)||l,Error(r(306,t,""))}}return t;case 0:return mc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=os(l,t.pendingProps),ef(e,t,l,i,a);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var u=t.memoizedState;i=u.element,Gr(e,t),Ul(t,l,null,a);var p=t.memoizedState;if(l=p.cache,Sa(t,Je,l),l!==u.cache&&qr(t,[Je],a,!0),zl(),l=p.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=tf(e,t,l,a);break e}else if(l!==i){i=kt(Error(r(424)),t),Tl(i),t=tf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Gt(e.firstChild),mt=t,Oe=!0,ss=null,$t=!0,a=qd(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Al(),l===i){t=oa(e,t,a);break e}nt(e,t,l,a)}t=t.child}return t;case 26:return ri(e,t),e===null?(a=um(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,l=Ni(ce.current).createElement(a),l[ot]=t,l[ht]=e,rt(l,a,e),tt(l),t.stateNode=l):t.memoizedState=um(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&Oe&&(l=t.stateNode=rm(t.type,t.pendingProps,ce.current),mt=t,$t=!0,i=$e,La(t.type)?(eo=i,$e=Gt(l.firstChild)):$e=i),nt(e,t,t.pendingProps.children,a),ri(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((i=l=$e)&&(l=ax(l,t.type,t.pendingProps,$t),l!==null?(t.stateNode=l,mt=t,$e=Gt(l.firstChild),$t=!1,i=!0):i=!1),i||ls(t)),He(t),i=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,l=u.children,Zc(i,u)?l=null:p!==null&&Zc(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=Kr(e,t,bp,null,null,a),ln._currentValue=i),ri(e,t),nt(e,t,l,a),t.child;case 6:return e===null&&Oe&&((e=a=$e)&&(a=sx(a,t.pendingProps,$t),a!==null?(t.stateNode=a,mt=t,$e=null,e=!0):e=!1),e||ls(t)),null;case 13:return af(e,t,a);case 4:return se(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Gs(t,null,l,a):nt(e,t,l,a),t.child;case 11:return Qd(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Sa(t,t.type,l.value),nt(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,is(t),i=ut(i),l=l(i),t.flags|=1,nt(e,t,l,a),t.child;case 14:return Kd(e,t,t.type,t.pendingProps,a);case 15:return Zd(e,t,t.type,t.pendingProps,a);case 19:return lf(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=ci(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=aa(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Pd(e,t,a);case 24:return is(t),l=ut(Je),e===null?(i=Br(),i===null&&(i=Le,u=Lr(),i.pooledCache=u,u.refCount++,u!==null&&(i.pooledCacheLanes|=a),i=u),t.memoizedState={parent:l,cache:i},Vr(t),Sa(t,Je,i)):((e.lanes&a)!==0&&(Gr(e,t),Ul(t,null,null,a),zl()),i=e.memoizedState,u=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Sa(t,Je,l)):(l=u.cache,Sa(t,Je,l),l!==i.cache&&qr(t,[Je],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ua(e){e.flags|=4}function rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(t)){if(t=Ut.current,t!==null&&((Ae&4194048)===Ae?Yt!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||t!==Yt))throw _l=Ir,Gu;e.flags|=8192}}function oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lo():536870912,e.lanes|=t,Xs|=t)}function Gl(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Op(e,t,a){var l=t.pendingProps;switch(_r(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ia(Je),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Dl(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lu())),Ve(t),null;case 26:return a=t.memoizedState,e===null?(ua(t),a!==null?(Ve(t),rf(t,a)):(Ve(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ua(t),Ve(t),rf(t,a)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==l&&ua(t),Ve(t),t.flags&=-16777217),null;case 27:Xe(t),a=ce.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=ie.current,Dl(t)?Uu(t):(e=rm(i,l,a),t.stateNode=e,ua(t))}return Ve(t),null;case 5:if(Xe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(e=ie.current,Dl(t))Uu(t);else{switch(i=Ni(ce.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?i.createElement("select",{is:l.is}):i.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?i.createElement(a,{is:l.is}):i.createElement(a)}}e[ot]=t,e[ht]=l;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(rt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ua(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,Dl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=mt,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||em(e.nodeValue,a)),e||ls(t)}else e=Ni(e).createTextNode(l),e[ot]=t,t.stateNode=e}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Dl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[ot]=t}else Al(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),i=!1}else i=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ca(t),t):(ca(t),null)}if(ca(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==i&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),oi(t,t.updateQueue),Ve(t),null;case 4:return De(),e===null&&$c(t.stateNode.containerInfo),Ve(t),null;case 10:return ia(t.type),Ve(t),null;case 19:if(B(We),i=t.memoizedState,i===null)return Ve(t),null;if(l=(t.flags&128)!==0,u=i.rendering,u===null)if(l)Gl(i,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=li(e),u!==null){for(t.flags|=128,Gl(i,!1),e=u.updateQueue,t.updateQueue=e,oi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Mu(a,e),a=a.sibling;return $(We,We.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ft()>fi&&(t.flags|=128,l=!0,Gl(i,!1),t.lanes=4194304)}else{if(!l)if(e=li(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,oi(t,e),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Oe)return Ve(t),null}else 2*Ft()-i.renderingStartTime>fi&&a!==536870912&&(t.flags|=128,l=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=We.current,$(We,l?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return ca(t),Xr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&oi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&B(rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(Je),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Rp(e,t){switch(_r(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Je),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xe(t),null;case 13:if(ca(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(We),null;case 4:return De(),null;case 10:return ia(t.type),null;case 22:case 23:return ca(t),Xr(),e!==null&&B(rs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Je),null;case 25:return null;default:return null}}function cf(e,t){switch(_r(t),t.tag){case 3:ia(Je),De();break;case 26:case 27:case 5:Xe(t);break;case 4:De();break;case 13:ca(t);break;case 19:B(We);break;case 10:ia(t.type);break;case 22:case 23:ca(t),Xr(),e!==null&&B(rs);break;case 24:ia(Je)}}function Fl(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var u=a.create,p=a.inst;l=u(),p.destroy=l}a=a.next}while(a!==i)}}catch(v){qe(t,t.return,v)}}function Ra(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var u=i.next;l=u;do{if((l.tag&e)===e){var p=l.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,i=t;var w=a,q=v;try{q()}catch(X){qe(i,w,X)}}}l=l.next}while(l!==u)}}catch(X){qe(t,t.return,X)}}function of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ku(t,a)}catch(l){qe(e,e.return,l)}}}function uf(e,t,a){a.props=os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){qe(e,t,l)}}function $l(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){qe(e,t,i)}}function Xt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){qe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){qe(e,t,i)}else a.current=null}function df(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){qe(e,e.return,i)}}function jc(e,t,a){try{var l=e.stateNode;Pp(l,e.type,a,t),l[ht]=t}catch(i){qe(e,e.return,i)}}function ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ji));else if(l!==4&&(l===27&&La(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Sc(e,t,a),e=e.sibling;e!==null;)Sc(e,t,a),e=e.sibling}function ui(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&La(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ui(e,t,a),e=e.sibling;e!==null;)ui(e,t,a),e=e.sibling}function mf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rt(t,l,a),t[ot]=e,t[ht]=a}catch(u){qe(e,e.return,u)}}var da=!1,Ke=!1,wc=!1,hf=typeof WeakSet=="function"?WeakSet:Set,st=null;function Ep(e,t){if(e=e.containerInfo,Qc=Ti,e=wu(e),Nr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var p=0,v=-1,w=-1,q=0,X=0,P=e,L=null;t:for(;;){for(var I;P!==a||i!==0&&P.nodeType!==3||(v=p+i),P!==u||l!==0&&P.nodeType!==3||(w=p+l),P.nodeType===3&&(p+=P.nodeValue.length),(I=P.firstChild)!==null;)L=P,P=I;for(;;){if(P===e)break t;if(L===a&&++q===i&&(v=p),L===u&&++X===l&&(w=p),(I=P.nextSibling)!==null)break;P=L,L=P.parentNode}P=I}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kc={focusedElem:e,selectionRange:a},Ti=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,i=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var xe=os(a.type,i,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(xe,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(ge){qe(a,a.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Jc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function gf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(e,a),l&4&&Fl(5,a);break;case 1:if(Ea(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){qe(a,a.return,p)}else{var i=os(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){qe(a,a.return,p)}}l&64&&of(a),l&512&&$l(a,a.return);break;case 3:if(Ea(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ku(e,t)}catch(p){qe(a,a.return,p)}}break;case 27:t===null&&l&4&&mf(a);case 26:case 5:Ea(e,a),t===null&&l&4&&df(a),l&512&&$l(a,a.return);break;case 12:Ea(e,a);break;case 13:Ea(e,a),l&4&&yf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Bp.bind(null,a),lx(e,a))));break;case 22:if(l=a.memoizedState!==null||da,!l){t=t!==null&&t.memoizedState!==null||Ke,i=da;var u=Ke;da=l,(Ke=t)&&!u?ka(e,a,(a.subtreeFlags&8772)!==0):Ea(e,a),da=i,Ke=u}break;case 30:break;default:Ea(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,xt=!1;function fa(e,t,a){for(a=a.child;a!==null;)xf(e,t,a),a=a.sibling}function xf(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(fl,a)}catch{}switch(a.tag){case 26:Ke||Xt(a,t),fa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||Xt(a,t);var l=Be,i=xt;La(a.type)&&(Be=a.stateNode,xt=!1),fa(e,t,a),en(a.stateNode),Be=l,xt=i;break;case 5:Ke||Xt(a,t);case 6:if(l=Be,i=xt,Be=null,fa(e,t,a),Be=l,xt=i,Be!==null)if(xt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(u){qe(a,t,u)}else try{Be.removeChild(a.stateNode)}catch(u){qe(a,t,u)}break;case 18:Be!==null&&(xt?(e=Be,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),on(e)):nm(Be,a.stateNode));break;case 4:l=Be,i=xt,Be=a.stateNode.containerInfo,xt=!0,fa(e,t,a),Be=l,xt=i;break;case 0:case 11:case 14:case 15:Ke||Ra(2,a,t),Ke||Ra(4,a,t),fa(e,t,a);break;case 1:Ke||(Xt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uf(a,t,l)),fa(e,t,a);break;case 21:fa(e,t,a);break;case 22:Ke=(l=Ke)||a.memoizedState!==null,fa(e,t,a),Ke=l;break;default:fa(e,t,a)}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{on(e)}catch(a){qe(t,t.return,a)}}function kp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hf),t;default:throw Error(r(435,e.tag))}}function Cc(e,t){var a=kp(e);t.forEach(function(l){var i=Ip.bind(null,e,l);a.has(l)||(a.add(l),l.then(i,i))})}function Ct(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(La(v.type)){Be=v.stateNode,xt=!1;break e}break;case 5:Be=v.stateNode,xt=!1;break e;case 3:case 4:Be=v.stateNode.containerInfo,xt=!0;break e}v=v.return}if(Be===null)throw Error(r(160));xf(u,p,i),Be=null,xt=!1,u=i.alternate,u!==null&&(u.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var Vt=null;function vf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Dt(e),l&4&&(Ra(3,e,e.return),Fl(3,e),Ra(5,e,e.return));break;case 1:Ct(t,e),Dt(e),l&512&&(Ke||a===null||Xt(a,a.return)),l&64&&da&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=Vt;if(Ct(t,e),Dt(e),l&512&&(Ke||a===null||Xt(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":u=i.getElementsByTagName("title")[0],(!u||u[gl]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=i.createElement(l),i.head.insertBefore(u,i.querySelector("head > title"))),rt(u,l,a),u[ot]=e,tt(u),l=u;break e;case"link":var p=mm("link","href",i).get(l+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(u=p[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}u=i.createElement(l),rt(u,l,a),i.head.appendChild(u);break;case"meta":if(p=mm("meta","content",i).get(l+(a.content||""))){for(v=0;v<p.length;v++)if(u=p[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}u=i.createElement(l),rt(u,l,a),i.head.appendChild(u);break;default:throw Error(r(468,l))}u[ot]=e,tt(u),l=u}e.stateNode=l}else hm(i,e.type,e.stateNode);else e.stateNode=fm(i,l,e.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?hm(i,e.type,e.stateNode):fm(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ct(t,e),Dt(e),l&512&&(Ke||a===null||Xt(a,a.return)),a!==null&&l&4&&jc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ct(t,e),Dt(e),l&512&&(Ke||a===null||Xt(a,a.return)),e.flags&32){i=e.stateNode;try{Cs(i,"")}catch(I){qe(e,e.return,I)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,jc(e,i,a!==null?a.memoizedProps:i)),l&1024&&(wc=!0);break;case 6:if(Ct(t,e),Dt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(I){qe(e,e.return,I)}}break;case 3:if(Ci=null,i=Vt,Vt=Si(t.containerInfo),Ct(t,e),Vt=i,Dt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{on(t.containerInfo)}catch(I){qe(e,e.return,I)}wc&&(wc=!1,bf(e));break;case 4:l=Vt,Vt=Si(e.stateNode.containerInfo),Ct(t,e),Dt(e),Vt=l;break;case 12:Ct(t,e),Dt(e);break;case 13:Ct(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=Ft()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 22:i=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,q=da,X=Ke;if(da=q||i,Ke=X||w,Ct(t,e),Ke=X,da=q,Dt(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||w||da||Ke||us(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,i)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=w.stateNode;var P=w.memoizedProps.style,L=P!=null&&P.hasOwnProperty("display")?P.display:null;v.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(I){qe(w,w.return,I)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=i?"":w.memoizedProps}catch(I){qe(w,w.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(e,a))));break;case 19:Ct(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 30:break;case 21:break;default:Ct(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ff(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,u=Nc(e);ui(e,u,i);break;case 5:var p=a.stateNode;a.flags&32&&(Cs(p,""),a.flags&=-33);var v=Nc(e);ui(e,v,p);break;case 3:case 4:var w=a.stateNode.containerInfo,q=Nc(e);Sc(e,q,w);break;default:throw Error(r(161))}}catch(X){qe(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gf(e,t.alternate,t),t=t.sibling}function us(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ra(4,t,t.return),us(t);break;case 1:Xt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&uf(t,t.return,a),us(t);break;case 27:en(t.stateNode);case 26:case 5:Xt(t,t.return),us(t);break;case 22:t.memoizedState===null&&us(t);break;case 30:us(t);break;default:us(t)}e=e.sibling}}function ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:ka(i,u,a),Fl(4,u);break;case 1:if(ka(i,u,a),l=u,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(q){qe(l,l.return,q)}if(l=u,i=l.updateQueue,i!==null){var v=l.stateNode;try{var w=i.shared.hiddenCallbacks;if(w!==null)for(i.shared.hiddenCallbacks=null,i=0;i<w.length;i++)Qu(w[i],v)}catch(q){qe(l,l.return,q)}}a&&p&64&&of(u),$l(u,u.return);break;case 27:mf(u);case 26:case 5:ka(i,u,a),a&&l===null&&p&4&&df(u),$l(u,u.return);break;case 12:ka(i,u,a);break;case 13:ka(i,u,a),a&&p&4&&yf(i,u);break;case 22:u.memoizedState===null&&ka(i,u,a),$l(u,u.return);break;case 30:break;default:ka(i,u,a)}t=t.sibling}}function Dc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Rl(a))}function Ac(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e))}function Qt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jf(e,t,a,l),t=t.sibling}function jf(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,l),i&2048&&Fl(9,t);break;case 1:Qt(e,t,a,l);break;case 3:Qt(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e)));break;case 12:if(i&2048){Qt(e,t,a,l),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,v=u.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){qe(t,t.return,w)}}else Qt(e,t,a,l);break;case 13:Qt(e,t,a,l);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?Qt(e,t,a,l):Yl(e,t):u._visibility&2?Qt(e,t,a,l):(u._visibility|=2,Fs(e,t,a,l,(t.subtreeFlags&10256)!==0)),i&2048&&Dc(p,t);break;case 24:Qt(e,t,a,l),i&2048&&Ac(t.alternate,t);break;default:Qt(e,t,a,l)}}function Fs(e,t,a,l,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,p=t,v=a,w=l,q=p.flags;switch(p.tag){case 0:case 11:case 15:Fs(u,p,v,w,i),Fl(8,p);break;case 23:break;case 22:var X=p.stateNode;p.memoizedState!==null?X._visibility&2?Fs(u,p,v,w,i):Yl(u,p):(X._visibility|=2,Fs(u,p,v,w,i)),i&&q&2048&&Dc(p.alternate,p);break;case 24:Fs(u,p,v,w,i),i&&q&2048&&Ac(p.alternate,p);break;default:Fs(u,p,v,w,i)}t=t.sibling}}function Yl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:Yl(a,l),i&2048&&Dc(l.alternate,l);break;case 24:Yl(a,l),i&2048&&Ac(l.alternate,l);break;default:Yl(a,l)}t=t.sibling}}var Xl=8192;function $s(e){if(e.subtreeFlags&Xl)for(e=e.child;e!==null;)Nf(e),e=e.sibling}function Nf(e){switch(e.tag){case 26:$s(e),e.flags&Xl&&e.memoizedState!==null&&xx(Vt,e.memoizedState,e.memoizedProps);break;case 5:$s(e);break;case 3:case 4:var t=Vt;Vt=Si(e.stateNode.containerInfo),$s(e),Vt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Xl,Xl=16777216,$s(e),Xl=t):$s(e));break;default:$s(e)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,Cf(l,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Ra(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,di(e)):Ql(e);break;default:Ql(e)}}function di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,Cf(l,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ra(8,t,t.return),di(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,di(t));break;default:di(t)}e=e.sibling}}function Cf(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=e;st!==null;){l=st;var i=l.sibling,u=l.return;if(pf(l),l===a){st=null;break e}if(i!==null){i.return=u,st=i;break e}st=u}}}var _p={getCacheForType:function(e){var t=ut(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Mp=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,we=null,Ae=0,Ee=0,At=null,_a=!1,Ys=!1,Tc=!1,ma=0,Ye=0,Ma=0,ds=0,Oc=0,qt=0,Xs=0,Kl=null,yt=null,Rc=!1,Ec=0,fi=1/0,mi=null,za=null,it=0,Ua=null,Qs=null,Ks=0,kc=0,_c=null,Df=null,Zl=0,Mc=null;function Tt(){if((Re&2)!==0&&Ae!==0)return Ae&-Ae;if(D.T!==null){var e=Us;return e!==0?e:Ic()}return Io()}function Af(){qt===0&&(qt=(Ae&536870912)===0||Oe?qo():536870912);var e=Ut.current;return e!==null&&(e.flags|=32),qt}function Ot(e,t,a){(e===Le&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),qa(e,Ae,qt,!1)),hl(e,a),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(ds|=a),Ye===4&&qa(e,Ae,qt,!1)),Kt(e))}function Tf(e,t,a){if((Re&6)!==0)throw Error(r(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ml(e,t),i=l?qp(e,t):qc(e,t,!0),u=l;do{if(i===0){Ys&&!l&&qa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!zp(a)){i=qc(e,t,!1),u=!1;continue}if(i===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;i=Kl;var w=v.current.memoizedState.isDehydrated;if(w&&(Zs(v,p).flags|=256),p=qc(v,p,!1),p!==2){if(Tc&&!w){v.errorRecoveryDisabledLanes|=u,ds|=u,i=4;break e}u=yt,yt=i,u!==null&&(yt===null?yt=u:yt.push.apply(yt,u))}i=p}if(u=!1,i!==2)continue}}if(i===1){Zs(e,0),qa(e,t,0,!0);break}e:{switch(l=e,u=i,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:qa(l,t,qt,!_a);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=Ec+300-Ft(),10<i)){if(qa(l,t,qt,!_a),wn(l,0,!0)!==0)break e;l.timeoutHandle=sm(Of.bind(null,l,a,yt,mi,Rc,t,qt,ds,Xs,_a,u,2,-0,0),i);break e}Of(l,a,yt,mi,Rc,t,qt,ds,Xs,_a,u,0,-0,0)}}break}while(!0);Kt(e)}function Of(e,t,a,l,i,u,p,v,w,q,X,P,L,I){if(e.timeoutHandle=-1,P=t.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(sn={stylesheets:null,count:0,unsuspend:px},Nf(t),P=yx(),P!==null)){e.cancelPendingCommit=P(Uf.bind(null,e,t,u,a,l,i,p,v,w,X,1,L,I)),qa(e,u,p,!q);return}Uf(e,t,u,a,l,i,p,v,w)}function zp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],u=i.getSnapshot;i=i.value;try{if(!St(u(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,a,l){t&=~Oc,t&=~ds,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var u=31-Nt(i),p=1<<u;l[u]=-1,i&=~p}a!==0&&Ho(e,a,t)}function hi(){return(Re&6)===0?(Pl(0),!1):!0}function zc(){if(we!==null){if(Ee===0)var e=we.return;else e=we,na=ns=null,Jr(e),Vs=null,Il=0,e=we;for(;e!==null;)cf(e.alternate,e),e=e.return;we=null}}function Zs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zc(),Le=e,we=a=aa(e.current,null),Ae=t,Ee=0,At=null,_a=!1,Ys=ml(e,t),Tc=!1,Xs=qt=Oc=ds=Ma=Ye=0,yt=Kl=null,Rc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-Nt(l),u=1<<i;t|=e[i],l&=~u}return ma=t,Un(),a}function Rf(e,t){Ne=null,D.H=ti,t===kl||t===$n?(t=Yu(),Ee=3):t===Gu?(t=Yu(),Ee=4):Ee=t===Xd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,we===null&&(Ye=1,ii(e,kt(t,e.current)))}function Ef(){var e=D.H;return D.H=ti,e===null?ti:e}function kf(){var e=D.A;return D.A=_p,e}function Uc(){Ye=4,_a||(Ae&4194048)!==Ae&&Ut.current!==null||(Ys=!0),(Ma&134217727)===0&&(ds&134217727)===0||Le===null||qa(Le,Ae,qt,!1)}function qc(e,t,a){var l=Re;Re|=2;var i=Ef(),u=kf();(Le!==e||Ae!==t)&&(mi=null,Zs(e,t)),t=!1;var p=Ye;e:do try{if(Ee!==0&&we!==null){var v=we,w=At;switch(Ee){case 8:zc(),p=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var q=Ee;if(Ee=0,At=null,Ps(e,v,w,q),a&&Ys){p=0;break e}break;default:q=Ee,Ee=0,At=null,Ps(e,v,w,q)}}Up(),p=Ye;break}catch(X){Rf(e,X)}while(!0);return t&&e.shellSuspendCounter++,na=ns=null,Re=l,D.H=i,D.A=u,we===null&&(Le=null,Ae=0,Un()),p}function Up(){for(;we!==null;)_f(we)}function qp(e,t){var a=Re;Re|=2;var l=Ef(),i=kf();Le!==e||Ae!==t?(mi=null,fi=Ft()+500,Zs(e,t)):Ys=ml(e,t);e:do try{if(Ee!==0&&we!==null){t=we;var u=At;t:switch(Ee){case 1:Ee=0,At=null,Ps(e,t,u,1);break;case 2:case 9:if(Fu(u)){Ee=0,At=null,Mf(t);break}t=function(){Ee!==2&&Ee!==9||Le!==e||(Ee=7),Kt(e)},u.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Fu(u)?(Ee=0,At=null,Mf(t)):(Ee=0,At=null,Ps(e,t,u,7));break;case 5:var p=null;switch(we.tag){case 26:p=we.memoizedState;case 5:case 27:var v=we;if(!p||gm(p)){Ee=0,At=null;var w=v.sibling;if(w!==null)we=w;else{var q=v.return;q!==null?(we=q,gi(q)):we=null}break t}}Ee=0,At=null,Ps(e,t,u,5);break;case 6:Ee=0,At=null,Ps(e,t,u,6);break;case 8:zc(),Ye=6;break e;default:throw Error(r(462))}}Lp();break}catch(X){Rf(e,X)}while(!0);return na=ns=null,D.H=l,D.A=i,Re=a,we!==null?0:(Le=null,Ae=0,Un(),Ye)}function Lp(){for(;we!==null&&!ig();)_f(we)}function _f(e){var t=nf(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?gi(e):we=t}function Mf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wd(a,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Wd(a,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Jr(t);default:cf(a,t),t=we=Mu(t,ma),t=nf(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?gi(e):we=t}function Ps(e,t,a,l){na=ns=null,Jr(t),Vs=null,Il=0;var i=t.return;try{if(Ap(e,i,t,a,Ae)){Ye=1,ii(e,kt(a,e.current)),we=null;return}}catch(u){if(i!==null)throw we=i,u;Ye=1,ii(e,kt(a,e.current)),we=null;return}t.flags&32768?(Oe||l===1?e=!0:Ys||(Ae&536870912)!==0?e=!1:(_a=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),zf(t,e)):gi(t)}function gi(e){var t=e;do{if((t.flags&32768)!==0){zf(t,_a);return}e=t.return;var a=Op(t.alternate,t,ma);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ye===0&&(Ye=5)}function zf(e,t){do{var a=Rp(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ye=6,we=null}function Uf(e,t,a,l,i,u,p,v,w){e.cancelPendingCommit=null;do pi();while(it!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Ar,pg(e,a,u,p,v,w),e===Le&&(we=Le=null,Ae=0),Qs=t,Ua=e,Ks=a,kc=u,_c=i,Df=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vp(jn,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,i=W.p,W.p=2,p=Re,Re|=4;try{Ep(e,t,a)}finally{Re=p,W.p=i,D.T=l}}it=1,qf(),Lf(),Hf()}}function qf(){if(it===1){it=0;var e=Ua,t=Qs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=W.p;W.p=2;var i=Re;Re|=4;try{vf(t,e);var u=Kc,p=wu(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&Su(v.ownerDocument.documentElement,v)){if(w!==null&&Nr(v)){var q=w.start,X=w.end;if(X===void 0&&(X=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(X,v.value.length);else{var P=v.ownerDocument||document,L=P&&P.defaultView||window;if(L.getSelection){var I=L.getSelection(),xe=v.textContent.length,ge=Math.min(w.start,xe),ze=w.end===void 0?ge:Math.min(w.end,xe);!I.extend&&ge>ze&&(p=ze,ze=ge,ge=p);var E=Nu(v,ge),R=Nu(v,ze);if(E&&R&&(I.rangeCount!==1||I.anchorNode!==E.node||I.anchorOffset!==E.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var z=P.createRange();z.setStart(E.node,E.offset),I.removeAllRanges(),ge>ze?(I.addRange(z),I.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),I.addRange(z))}}}}for(P=[],I=v;I=I.parentNode;)I.nodeType===1&&P.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<P.length;v++){var K=P[v];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ti=!!Qc,Kc=Qc=null}finally{Re=i,W.p=l,D.T=a}}e.current=t,it=2}}function Lf(){if(it===2){it=0;var e=Ua,t=Qs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=W.p;W.p=2;var i=Re;Re|=4;try{gf(e,t.alternate,t)}finally{Re=i,W.p=l,D.T=a}}it=3}}function Hf(){if(it===4||it===3){it=0,rg();var e=Ua,t=Qs,a=Ks,l=Df;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Qs=Ua=null,Bf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(za=null),tr(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,i=W.p,W.p=2,D.T=null;try{for(var u=e.onRecoverableError,p=0;p<l.length;p++){var v=l[p];u(v.value,{componentStack:v.stack})}}finally{D.T=t,W.p=i}}(Ks&3)!==0&&pi(),Kt(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===Mc?Zl++:(Zl=0,Mc=e):Zl=0,Pl(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rl(t)))}function pi(e){return qf(),Lf(),Hf(),If()}function If(){if(it!==5)return!1;var e=Ua,t=kc;kc=0;var a=tr(Ks),l=D.T,i=W.p;try{W.p=32>a?32:a,D.T=null,a=_c,_c=null;var u=Ua,p=Ks;if(it=0,Qs=Ua=null,Ks=0,(Re&6)!==0)throw Error(r(331));var v=Re;if(Re|=4,wf(u.current),jf(u,u.current,p,a),Re=v,Pl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(fl,u)}catch{}return!0}finally{W.p=i,D.T=l,Bf(e,t)}}function Vf(e,t,a){t=kt(a,t),t=fc(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(hl(e,2),Kt(e))}function qe(e,t,a){if(e.tag===3)Vf(e,e,a);else for(;t!==null;){if(t.tag===3){Vf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){e=kt(a,e),a=$d(2),l=Da(t,a,2),l!==null&&(Yd(a,l,t,e),hl(l,2),Kt(l));break}}t=t.return}}function Lc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Mp;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(Tc=!0,i.add(a),e=Hp.bind(null,e,t,a),t.then(e,e))}function Hp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Ae&a)===a&&(Ye===4||Ye===3&&(Ae&62914560)===Ae&&300>Ft()-Ec?(Re&2)===0&&Zs(e,0):Oc|=a,Xs===Ae&&(Xs=0)),Kt(e)}function Gf(e,t){t===0&&(t=Lo()),e=ks(e,t),e!==null&&(hl(e,t),Kt(e))}function Bp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Gf(e,a)}function Ip(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Gf(e,a)}function Vp(e,t){return Pi(e,t)}var xi=null,Js=null,Hc=!1,yi=!1,Bc=!1,fs=0;function Kt(e){e!==Js&&e.next===null&&(Js===null?xi=Js=e:Js=Js.next=e),yi=!0,Hc||(Hc=!0,Fp())}function Pl(e,t){if(!Bc&&yi){Bc=!0;do for(var a=!1,l=xi;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var u=0;else{var p=l.suspendedLanes,v=l.pingedLanes;u=(1<<31-Nt(42|e)+1)-1,u&=i&~(p&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Xf(l,u))}else u=Ae,u=wn(l,l===Le?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||ml(l,u)||(a=!0,Xf(l,u));l=l.next}while(a);Bc=!1}}function Gp(){Ff()}function Ff(){yi=Hc=!1;var e=0;fs!==0&&(Jp()&&(e=fs),fs=0);for(var t=Ft(),a=null,l=xi;l!==null;){var i=l.next,u=$f(l,t);u===0?(l.next=null,a===null?xi=i:a.next=i,i===null&&(Js=a)):(a=l,(e!==0||(u&3)!==0)&&(yi=!0)),l=i}Pl(e)}function $f(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-Nt(u),v=1<<p,w=i[p];w===-1?((v&a)===0||(v&l)!==0)&&(i[p]=gg(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=Le,a=Ae,a=wn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ml(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ji(l),tr(a)){case 2:case 8:a=zo;break;case 32:a=jn;break;case 268435456:a=Uo;break;default:a=jn}return l=Yf.bind(null,e),a=Pi(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ji(l),e.callbackPriority=2,e.callbackNode=null,2}function Yf(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pi()&&e.callbackNode!==a)return null;var l=Ae;return l=wn(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tf(e,l,t),$f(e,Ft()),e.callbackNode!=null&&e.callbackNode===a?Yf.bind(null,e):null)}function Xf(e,t){if(pi())return null;Tf(e,t,!0)}function Fp(){ex(function(){(Re&6)!==0?Pi(Mo,Gp):Ff()})}function Ic(){return fs===0&&(fs=qo()),fs}function Qf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:On(""+e)}function Kf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function $p(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var u=Qf((i[ht]||null).action),p=l.submitter;p&&(t=(t=p[ht]||null)?Qf(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var v=new _n("action","action",null,l,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var w=p?Kf(i,p):new FormData(i);rc(a,{pending:!0,data:w,method:i.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=p?Kf(i,p):new FormData(i),rc(a,{pending:!0,data:w,method:i.method,action:u},u,w))},currentTarget:i}]})}}for(var Vc=0;Vc<Dr.length;Vc++){var Gc=Dr[Vc],Yp=Gc.toLowerCase(),Xp=Gc[0].toUpperCase()+Gc.slice(1);It(Yp,"on"+Xp)}It(Au,"onAnimationEnd"),It(Tu,"onAnimationIteration"),It(Ou,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(up,"onTransitionRun"),It(dp,"onTransitionStart"),It(fp,"onTransitionCancel"),It(Ru,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function Zf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var p=l.length-1;0<=p;p--){var v=l[p],w=v.instance,q=v.currentTarget;if(v=v.listener,w!==u&&i.isPropagationStopped())break e;u=v,i.currentTarget=q;try{u(i)}catch(X){ni(X)}i.currentTarget=null,u=w}else for(p=0;p<l.length;p++){if(v=l[p],w=v.instance,q=v.currentTarget,v=v.listener,w!==u&&i.isPropagationStopped())break e;u=v,i.currentTarget=q;try{u(i)}catch(X){ni(X)}i.currentTarget=null,u=w}}}}function Ce(e,t){var a=t[ar];a===void 0&&(a=t[ar]=new Set);var l=e+"__bubble";a.has(l)||(Pf(t,e,2,!1),a.add(l))}function Fc(e,t,a){var l=0;t&&(l|=4),Pf(a,e,l,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[vi]){e[vi]=!0,Go.forEach(function(a){a!=="selectionchange"&&(Qp.has(a)||Fc(a,!1,e),Fc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,Fc("selectionchange",!1,t))}}function Pf(e,t,a,l){switch(jm(t)){case 2:var i=jx;break;case 8:i=Nx;break;default:i=no}a=i.bind(null,t,a,e),i=void 0,!mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Yc(e,t,a,l,i){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var v=l.stateNode.containerInfo;if(v===i)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;v!==null;){if(p=vs(v),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){l=u=p;continue e}v=v.parentNode}}l=l.return}su(function(){var q=u,X=dr(a),P=[];e:{var L=Eu.get(e);if(L!==void 0){var I=_n,xe=e;switch(e){case"keypress":if(En(a)===0)break e;case"keydown":case"keyup":I=Vg;break;case"focusin":xe="focus",I=xr;break;case"focusout":xe="blur",I=xr;break;case"beforeblur":case"afterblur":I=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=$g;break;case Au:case Tu:case Ou:I=_g;break;case Ru:I=Xg;break;case"scroll":case"scrollend":I=Tg;break;case"wheel":I=Kg;break;case"copy":case"cut":case"paste":I=zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=cu;break;case"toggle":case"beforetoggle":I=Pg}var ge=(t&4)!==0,ze=!ge&&(e==="scroll"||e==="scrollend"),E=ge?L!==null?L+"Capture":null:L;ge=[];for(var R=q,z;R!==null;){var K=R;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||E===null||(K=xl(R,E),K!=null&&ge.push(Wl(R,K,z))),ze)break;R=R.return}0<ge.length&&(L=new I(L,xe,null,a,X),P.push({event:L,listeners:ge}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",L&&a!==ur&&(xe=a.relatedTarget||a.fromElement)&&(vs(xe)||xe[ys]))break e;if((I||L)&&(L=X.window===X?X:(L=X.ownerDocument)?L.defaultView||L.parentWindow:window,I?(xe=a.relatedTarget||a.toElement,I=q,xe=xe?vs(xe):null,xe!==null&&(ze=f(xe),ge=xe.tag,xe!==ze||ge!==5&&ge!==27&&ge!==6)&&(xe=null)):(I=null,xe=q),I!==xe)){if(ge=iu,K="onMouseLeave",E="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ge=cu,K="onPointerLeave",E="onPointerEnter",R="pointer"),ze=I==null?L:pl(I),z=xe==null?L:pl(xe),L=new ge(K,R+"leave",I,a,X),L.target=ze,L.relatedTarget=z,K=null,vs(X)===q&&(ge=new ge(E,R+"enter",xe,a,X),ge.target=z,ge.relatedTarget=ze,K=ge),ze=K,I&&xe)t:{for(ge=I,E=xe,R=0,z=ge;z;z=Ws(z))R++;for(z=0,K=E;K;K=Ws(K))z++;for(;0<R-z;)ge=Ws(ge),R--;for(;0<z-R;)E=Ws(E),z--;for(;R--;){if(ge===E||E!==null&&ge===E.alternate)break t;ge=Ws(ge),E=Ws(E)}ge=null}else ge=null;I!==null&&Jf(P,L,I,ge,!1),xe!==null&&ze!==null&&Jf(P,ze,xe,ge,!0)}}e:{if(L=q?pl(q):window,I=L.nodeName&&L.nodeName.toLowerCase(),I==="select"||I==="input"&&L.type==="file")var de=pu;else if(hu(L))if(xu)de=rp;else{de=np;var Se=lp}else I=L.nodeName,!I||I.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?q&&or(q.elementType)&&(de=pu):de=ip;if(de&&(de=de(e,q))){gu(P,de,a,X);break e}Se&&Se(e,L,q),e==="focusout"&&q&&L.type==="number"&&q.memoizedProps.value!=null&&cr(L,"number",L.value)}switch(Se=q?pl(q):window,e){case"focusin":(hu(Se)||Se.contentEditable==="true")&&(Os=Se,Sr=q,Cl=null);break;case"focusout":Cl=Sr=Os=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Cu(P,a,X);break;case"selectionchange":if(op)break;case"keydown":case"keyup":Cu(P,a,X)}var fe;if(vr)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ts?fu(e,a)&&(pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(ou&&a.locale!=="ko"&&(Ts||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ts&&(fe=lu()):(Na=X,hr="value"in Na?Na.value:Na.textContent,Ts=!0)),Se=bi(q,pe),0<Se.length&&(pe=new ru(pe,e,null,a,X),P.push({event:pe,listeners:Se}),fe?pe.data=fe:(fe=mu(a),fe!==null&&(pe.data=fe)))),(fe=Wg?ep(e,a):tp(e,a))&&(pe=bi(q,"onBeforeInput"),0<pe.length&&(Se=new ru("onBeforeInput","beforeinput",null,a,X),P.push({event:Se,listeners:pe}),Se.data=fe)),$p(P,e,q,a,X)}Zf(P,t)})}function Wl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function bi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,u=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||u===null||(i=xl(e,a),i!=null&&l.unshift(Wl(e,i,u)),i=xl(e,t),i!=null&&l.push(Wl(e,i,u))),e.tag===3)return l;e=e.return}return[]}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jf(e,t,a,l,i){for(var u=t._reactName,p=[];a!==null&&a!==l;){var v=a,w=v.alternate,q=v.stateNode;if(v=v.tag,w!==null&&w===l)break;v!==5&&v!==26&&v!==27||q===null||(w=q,i?(q=xl(a,u),q!=null&&p.unshift(Wl(a,q,w))):i||(q=xl(a,u),q!=null&&p.push(Wl(a,q,w)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Kp=/\r\n?/g,Zp=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Zp,"")}function em(e,t){return t=Wf(t),Wf(e)===t}function ji(){}function Me(e,t,a,l,i,u){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Cs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Cs(e,""+l);break;case"className":Dn(e,"class",l);break;case"tabIndex":Dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(e,a,l);break;case"style":tu(e,l,u);break;case"data":if(t!=="object"){Dn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=On(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",i.name,i,null),Me(e,t,"formEncType",i.formEncType,i,null),Me(e,t,"formMethod",i.formMethod,i,null),Me(e,t,"formTarget",i.formTarget,i,null)):(Me(e,t,"encType",i.encType,i,null),Me(e,t,"method",i.method,i,null),Me(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=On(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ji);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=On(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Cn(e,"popover",l);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dg.get(a)||a,Cn(e,a,l))}}function Xc(e,t,a,l,i,u){switch(a){case"style":tu(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Cs(e,l):(typeof l=="number"||typeof l=="bigint")&&Cs(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),u=e[ht]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,i),typeof l=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Cn(e,a,l)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,i=!1,u;for(u in a)if(a.hasOwnProperty(u)){var p=a[u];if(p!=null)switch(u){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,u,p,a,null)}}i&&Me(e,t,"srcSet",a.srcSet,a,null),l&&Me(e,t,"src",a.src,a,null);return;case"input":Ce("invalid",e);var v=u=p=i=null,w=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":i=X;break;case"type":p=X;break;case"checked":w=X;break;case"defaultChecked":q=X;break;case"value":u=X;break;case"defaultValue":v=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:Me(e,t,l,X,a,null)}}Po(e,u,v,w,q,p,i,!1),An(e);return;case"select":Ce("invalid",e),l=p=u=null;for(i in a)if(a.hasOwnProperty(i)&&(v=a[i],v!=null))switch(i){case"value":u=v;break;case"defaultValue":p=v;break;case"multiple":l=v;default:Me(e,t,i,v,a,null)}t=u,a=p,e.multiple=!!l,t!=null?ws(e,!!l,t,!1):a!=null&&ws(e,!!l,a,!0);return;case"textarea":Ce("invalid",e),u=i=l=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":l=v;break;case"defaultValue":i=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Me(e,t,p,v,a,null)}Wo(e,l,i,u),An(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,w,l,a,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Ce(Jl[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,q,l,a,null)}return;default:if(or(t)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Xc(e,t,X,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Me(e,t,v,l,a,null))}function Pp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,u=null,p=null,v=null,w=null,q=null,X=null;for(I in a){var P=a[I];if(a.hasOwnProperty(I)&&P!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":w=P;default:l.hasOwnProperty(I)||Me(e,t,I,null,l,P)}}for(var L in l){var I=l[L];if(P=a[L],l.hasOwnProperty(L)&&(I!=null||P!=null))switch(L){case"type":u=I;break;case"name":i=I;break;case"checked":q=I;break;case"defaultChecked":X=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,t));break;default:I!==P&&Me(e,t,L,I,l,P)}}rr(e,p,v,w,q,X,u,i);return;case"select":I=p=v=L=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":I=w;default:l.hasOwnProperty(u)||Me(e,t,u,null,l,w)}for(i in l)if(u=l[i],w=a[i],l.hasOwnProperty(i)&&(u!=null||w!=null))switch(i){case"value":L=u;break;case"defaultValue":v=u;break;case"multiple":p=u;default:u!==w&&Me(e,t,i,u,l,w)}t=v,a=p,l=I,L!=null?ws(e,!!a,L,!1):!!l!=!!a&&(t!=null?ws(e,!!a,t,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":I=L=null;for(v in a)if(i=a[v],a.hasOwnProperty(v)&&i!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Me(e,t,v,null,l,i)}for(p in l)if(i=l[p],u=a[p],l.hasOwnProperty(p)&&(i!=null||u!=null))switch(p){case"value":L=i;break;case"defaultValue":I=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==u&&Me(e,t,p,i,l,u)}Jo(e,L,I);return;case"option":for(var xe in a)if(L=a[xe],a.hasOwnProperty(xe)&&L!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Me(e,t,xe,null,l,L)}for(w in l)if(L=l[w],I=a[w],l.hasOwnProperty(w)&&L!==I&&(L!=null||I!=null))switch(w){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Me(e,t,w,L,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)L=a[ge],a.hasOwnProperty(ge)&&L!=null&&!l.hasOwnProperty(ge)&&Me(e,t,ge,null,l,L);for(q in l)if(L=l[q],I=a[q],l.hasOwnProperty(q)&&L!==I&&(L!=null||I!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Me(e,t,q,L,l,I)}return;default:if(or(t)){for(var ze in a)L=a[ze],a.hasOwnProperty(ze)&&L!==void 0&&!l.hasOwnProperty(ze)&&Xc(e,t,ze,void 0,l,L);for(X in l)L=l[X],I=a[X],!l.hasOwnProperty(X)||L===I||L===void 0&&I===void 0||Xc(e,t,X,L,l,I);return}}for(var E in a)L=a[E],a.hasOwnProperty(E)&&L!=null&&!l.hasOwnProperty(E)&&Me(e,t,E,null,l,L);for(P in l)L=l[P],I=a[P],!l.hasOwnProperty(P)||L===I||L==null&&I==null||Me(e,t,P,L,l,I)}var Qc=null,Kc=null;function Ni(e){return e.nodeType===9?e:e.ownerDocument}function tm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function am(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=null;function Jp(){var e=window.event;return e&&e.type==="popstate"?e===Pc?!1:(Pc=e,!0):(Pc=null,!1)}var sm=typeof setTimeout=="function"?setTimeout:void 0,Wp=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(tx)}:sm;function tx(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function nm(e,t){var a=t,l=0,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(0<l&&8>l){a=l;var p=e.ownerDocument;if(a&1&&en(p.documentElement),a&2&&en(p.body),a&4)for(a=p.head,en(a),p=a.firstChild;p;){var v=p.nextSibling,w=p.nodeName;p[gl]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=v}}if(i===0){e.removeChild(u),on(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:l=a.charCodeAt(0)-48;else l=0;a=u}while(a);on(t)}function Jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jc(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ax(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function sx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function Wc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lx(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var eo=null;function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function rm(e,t,a){switch(t=Ni(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function en(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sr(e)}var Lt=new Map,cm=new Set;function Si(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=W.d;W.d={f:nx,r:ix,D:rx,C:cx,L:ox,m:ux,X:fx,S:dx,M:mx};function nx(){var e=ha.f(),t=hi();return e||t}function ix(e){var t=bs(e);t!==null&&t.tag===5&&t.type==="form"?Ad(t):ha.r(e)}var el=typeof document>"u"?null:document;function om(e,t,a){var l=el;if(l&&typeof t=="string"&&t){var i=Et(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),cm.has(i)||(cm.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),rt(t,"link",e),tt(t),l.head.appendChild(t)))}}function rx(e){ha.D(e),om("dns-prefetch",e,null)}function cx(e,t){ha.C(e,t),om("preconnect",e,t)}function ox(e,t,a){ha.L(e,t,a);var l=el;if(l&&e&&t){var i='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Et(a.imageSizes)+'"]')):i+='[href="'+Et(e)+'"]';var u=i;switch(t){case"style":u=tl(e);break;case"script":u=al(e)}Lt.has(u)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(u,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(tn(u))||t==="script"&&l.querySelector(an(u))||(t=l.createElement("link"),rt(t,"link",e),tt(t),l.head.appendChild(t)))}}function ux(e,t){ha.m(e,t);var a=el;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(e)+'"]',u=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=al(e)}if(!Lt.has(u)&&(e=y({rel:"modulepreload",href:e},t),Lt.set(u,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(an(u)))return}l=a.createElement("link"),rt(l,"link",e),tt(l),a.head.appendChild(l)}}}function dx(e,t,a){ha.S(e,t,a);var l=el;if(l&&e){var i=js(l).hoistableStyles,u=tl(e);t=t||"default";var p=i.get(u);if(!p){var v={loading:0,preload:null};if(p=l.querySelector(tn(u)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(u))&&to(e,a);var w=p=l.createElement("link");tt(w),rt(w,"link",e),w._p=new Promise(function(q,X){w.onload=q,w.onerror=X}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,wi(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:v},i.set(u,p)}}}function fx(e,t){ha.X(e,t);var a=el;if(a&&e){var l=js(a).hoistableScripts,i=al(e),u=l.get(i);u||(u=a.querySelector(an(i)),u||(e=y({src:e,async:!0},t),(t=Lt.get(i))&&ao(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(i,u))}}function mx(e,t){ha.M(e,t);var a=el;if(a&&e){var l=js(a).hoistableScripts,i=al(e),u=l.get(i);u||(u=a.querySelector(an(i)),u||(e=y({src:e,async:!0,type:"module"},t),(t=Lt.get(i))&&ao(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(i,u))}}function um(e,t,a,l){var i=(i=ce.current)?Si(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=tl(a.href),a=js(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=tl(a.href);var u=js(i).hoistableStyles,p=u.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=i.querySelector(tn(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),u||hx(i,e,a,p.state))),t&&l===null)throw Error(r(528,""));return p}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=al(a),a=js(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function tl(e){return'href="'+Et(e)+'"'}function tn(e){return'link[rel="stylesheet"]['+e+"]"}function dm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function hx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),rt(t,"link",a),tt(t),e.head.appendChild(t))}function al(e){return'[src="'+Et(e)+'"]'}function an(e){return"script[async]"+e}function fm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return t.instance=l,tt(l),l;var i=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),rt(l,"style",i),wi(l,a.precedence,e),t.instance=l;case"stylesheet":i=tl(a.href);var u=e.querySelector(tn(i));if(u)return t.state.loading|=4,t.instance=u,tt(u),u;l=dm(a),(i=Lt.get(i))&&to(l,i),u=(e.ownerDocument||e).createElement("link"),tt(u);var p=u;return p._p=new Promise(function(v,w){p.onload=v,p.onerror=w}),rt(u,"link",l),t.state.loading|=4,wi(u,a.precedence,e),t.instance=u;case"script":return u=al(a.src),(i=e.querySelector(an(u)))?(t.instance=i,tt(i),i):(l=a,(i=Lt.get(u))&&(l=y({},a),ao(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),tt(i),rt(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,wi(l,a.precedence,e));return t.instance}function wi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,u=i,p=0;p<l.length;p++){var v=l[p];if(v.dataset.precedence===t)u=v;else if(u!==i)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function to(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ci=null;function mm(e,t,a){if(Ci===null){var l=new Map,i=Ci=new Map;i.set(a,l)}else i=Ci,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var u=a[i];if(!(u[gl]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var v=l.get(p);v?v.push(u):l.set(p,[u])}}return l}function hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sn=null;function px(){}function xx(e,t,a){if(sn===null)throw Error(r(475));var l=sn;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=tl(a.href),u=e.querySelector(tn(i));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Di.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,tt(u);return}u=e.ownerDocument||e,a=dm(a),(i=Lt.get(i))&&to(a,i),u=u.createElement("link"),tt(u);var p=u;p._p=new Promise(function(v,w){p.onload=v,p.onerror=w}),rt(u,"link",a),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Di.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function yx(){if(sn===null)throw Error(r(475));var e=sn;return e.stylesheets&&e.count===0&&so(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&so(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Di(){if(this.count--,this.count===0){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ai=null;function so(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ai=new Map,t.forEach(vx,e),Ai=null,Di.call(e))}function vx(e,t){if(!(t.state.loading&4)){var a=Ai.get(e);if(a)var l=a.get(null);else{a=new Map,Ai.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<i.length;u++){var p=i[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}i=t.instance,p=i.getAttribute("data-precedence"),u=a.get(p)||l,u===l&&a.set(null,i),a.set(p,i),this.count++,l=Di.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),u?u.parentNode.insertBefore(i,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ln={$$typeof:Z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function bx(e,t,a,l,i,u,p,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function pm(e,t,a,l,i,u,p,v,w,q,X,P){return e=new bx(e,t,a,p,v,w,q,P),t=1,u===!0&&(t|=24),u=wt(3,null,null,t),e.current=u,u.stateNode=e,t=Lr(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:t},Vr(u),e}function xm(e){return e?(e=_s,e):_s}function ym(e,t,a,l,i,u){i=xm(i),l.context===null?l.context=i:l.pendingContext=i,l=Ca(t),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=Da(e,l,t),a!==null&&(Ot(a,e,t),Ml(a,e,t))}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lo(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function bm(e){if(e.tag===13){var t=ks(e,67108864);t!==null&&Ot(t,e,67108864),lo(e,67108864)}}var Ti=!0;function jx(e,t,a,l){var i=D.T;D.T=null;var u=W.p;try{W.p=2,no(e,t,a,l)}finally{W.p=u,D.T=i}}function Nx(e,t,a,l){var i=D.T;D.T=null;var u=W.p;try{W.p=8,no(e,t,a,l)}finally{W.p=u,D.T=i}}function no(e,t,a,l){if(Ti){var i=io(l);if(i===null)Yc(e,t,l,Oi,a),Nm(e,l);else if(wx(i,e,t,a,l))l.stopPropagation();else if(Nm(e,l),t&4&&-1<Sx.indexOf(e)){for(;i!==null;){var u=bs(i);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=Ka(u.pendingLanes);if(p!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var w=1<<31-Nt(p);v.entanglements[1]|=w,p&=~w}Kt(u),(Re&6)===0&&(fi=Ft()+500,Pl(0))}}break;case 13:v=ks(u,2),v!==null&&Ot(v,u,2),hi(),lo(u,2)}if(u=io(l),u===null&&Yc(e,t,l,Oi,a),u===i)break;i=u}i!==null&&l.stopPropagation()}else Yc(e,t,l,null,a)}}function io(e){return e=dr(e),ro(e)}var Oi=null;function ro(e){if(Oi=null,e=vs(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Oi=e,null}function jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cg()){case Mo:return 2;case zo:return 8;case jn:case og:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var co=!1,Ha=null,Ba=null,Ia=null,nn=new Map,rn=new Map,Va=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nm(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":nn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(t.pointerId)}}function cn(e,t,a,l,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[i]},t!==null&&(t=bs(t),t!==null&&bm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wx(e,t,a,l,i){switch(t){case"focusin":return Ha=cn(Ha,e,t,a,l,i),!0;case"dragenter":return Ba=cn(Ba,e,t,a,l,i),!0;case"mouseover":return Ia=cn(Ia,e,t,a,l,i),!0;case"pointerover":var u=i.pointerId;return nn.set(u,cn(nn.get(u)||null,e,t,a,l,i)),!0;case"gotpointercapture":return u=i.pointerId,rn.set(u,cn(rn.get(u)||null,e,t,a,l,i)),!0}return!1}function Sm(e){var t=vs(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,xg(e.priority,function(){if(a.tag===13){var l=Tt();l=er(l);var i=ks(a,l);i!==null&&Ot(i,a,l),lo(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=io(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ur=l,a.target.dispatchEvent(l),ur=null}else return t=bs(a),t!==null&&bm(t),e.blockedOn=a,!1;t.shift()}return!0}function wm(e,t,a){Ri(e)&&a.delete(t)}function Cx(){co=!1,Ha!==null&&Ri(Ha)&&(Ha=null),Ba!==null&&Ri(Ba)&&(Ba=null),Ia!==null&&Ri(Ia)&&(Ia=null),nn.forEach(wm),rn.forEach(wm)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,co||(co=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Cx)))}var ki=null;function Cm(e){ki!==e&&(ki=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){ki===e&&(ki=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(ro(l||a)===null)continue;break}var u=bs(a);u!==null&&(e.splice(t,3),t-=3,rc(u,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function on(e){function t(w){return Ei(w,e)}Ha!==null&&Ei(Ha,e),Ba!==null&&Ei(Ba,e),Ia!==null&&Ei(Ia,e),nn.forEach(t),rn.forEach(t);for(var a=0;a<Va.length;a++){var l=Va[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)Sm(a),a.blockedOn===null&&Va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],u=a[l+1],p=i[ht]||null;if(typeof u=="function")p||Cm(a);else if(p){var v=null;if(u&&u.hasAttribute("formAction")){if(i=u,p=u[ht]||null)v=p.formAction;else if(ro(i)!==null)continue}else v=p.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Cm(a)}}}function oo(e){this._internalRoot=e}_i.prototype.render=oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Tt();ym(a,l,e,t,null,null)},_i.prototype.unmount=oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ym(e.current,2,null,e,null,null),hi(),t[ys]=null}};function _i(e){this._internalRoot=e}_i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Io();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Va.length&&t!==0&&t<Va[a].priority;a++);Va.splice(a,0,e),a===0&&Sm(e)}};var Dm=n.version;if(Dm!=="19.1.0")throw Error(r(527,Dm,"19.1.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Dx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{fl=Mi.inject(Dx),jt=Mi}catch{}}return dn.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,l="",i=Id,u=Vd,p=Gd,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=pm(e,1,!1,null,null,a,l,i,u,p,v,null),e[ys]=t.current,$c(e),new oo(t)},dn.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var l=!1,i="",u=Id,p=Vd,v=Gd,w=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),t=pm(e,1,!0,t,a??null,l,i,u,p,v,w,q),t.context=xm(null),a=t.current,l=Tt(),l=er(l),i=Ca(l),i.callback=null,Da(a,i,l),a=l,t.current.lanes=a,hl(t,a),Kt(t),e[ys]=t.current,$c(e),new _i(t)},dn.version="19.1.0",dn}var Um;function qx(){if(Um)return mo.exports;Um=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),mo.exports=Ux(),mo.exports}var Lx=qx();const Hx=Dh(Lx),ye=c=>typeof c=="string",fn=()=>{let c,n;const o=new Promise((r,d)=>{c=r,n=d});return o.resolve=c,o.reject=n,o},qm=c=>c==null?"":""+c,Bx=(c,n,o)=>{c.forEach(r=>{n[r]&&(o[r]=n[r])})},Ix=/###/g,Lm=c=>c&&c.indexOf("###")>-1?c.replace(Ix,"."):c,Hm=c=>!c||ye(c),hn=(c,n,o)=>{const r=ye(n)?n.split("."):n;let d=0;for(;d<r.length-1;){if(Hm(c))return{};const f=Lm(r[d]);!c[f]&&o&&(c[f]=new o),Object.prototype.hasOwnProperty.call(c,f)?c=c[f]:c={},++d}return Hm(c)?{}:{obj:c,k:Lm(r[d])}},Bm=(c,n,o)=>{const{obj:r,k:d}=hn(c,n,Object);if(r!==void 0||n.length===1){r[d]=o;return}let f=n[n.length-1],h=n.slice(0,n.length-1),x=hn(c,h,Object);for(;x.obj===void 0&&h.length;)f=`${h[h.length-1]}.${f}`,h=h.slice(0,h.length-1),x=hn(c,h,Object),x!=null&&x.obj&&typeof x.obj[`${x.k}.${f}`]<"u"&&(x.obj=void 0);x.obj[`${x.k}.${f}`]=o},Vx=(c,n,o,r)=>{const{obj:d,k:f}=hn(c,n,Object);d[f]=d[f]||[],d[f].push(o)},Li=(c,n)=>{const{obj:o,k:r}=hn(c,n);if(o&&Object.prototype.hasOwnProperty.call(o,r))return o[r]},Gx=(c,n,o)=>{const r=Li(c,o);return r!==void 0?r:Li(n,o)},Th=(c,n,o)=>{for(const r in n)r!=="__proto__"&&r!=="constructor"&&(r in c?ye(c[r])||c[r]instanceof String||ye(n[r])||n[r]instanceof String?o&&(c[r]=n[r]):Th(c[r],n[r],o):c[r]=n[r]);return c},sl=c=>c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Fx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $x=c=>ye(c)?c.replace(/[&<>"'\/]/g,n=>Fx[n]):c;class Yx{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const o=this.regExpMap.get(n);if(o!==void 0)return o;const r=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,r),this.regExpQueue.push(n),r}}const Xx=[" ",",","?","!",";"],Qx=new Yx(20),Kx=(c,n,o)=>{n=n||"",o=o||"";const r=Xx.filter(h=>n.indexOf(h)<0&&o.indexOf(h)<0);if(r.length===0)return!0;const d=Qx.getRegExp(`(${r.map(h=>h==="?"?"\\?":h).join("|")})`);let f=!d.test(c);if(!f){const h=c.indexOf(o);h>0&&!d.test(c.substring(0,h))&&(f=!0)}return f},bo=(c,n,o=".")=>{if(!c)return;if(c[n])return Object.prototype.hasOwnProperty.call(c,n)?c[n]:void 0;const r=n.split(o);let d=c;for(let f=0;f<r.length;){if(!d||typeof d!="object")return;let h,x="";for(let m=f;m<r.length;++m)if(m!==f&&(x+=o),x+=r[m],h=d[x],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&m<r.length-1)continue;f+=m-f+1;break}d=h}return d},gn=c=>c==null?void 0:c.replace("_","-"),Zx={type:"logger",log(c){this.output("log",c)},warn(c){this.output("warn",c)},error(c){this.output("error",c)},output(c,n){var o,r;(r=(o=console==null?void 0:console[c])==null?void 0:o.apply)==null||r.call(o,console,n)}};class Hi{constructor(n,o={}){this.init(n,o)}init(n,o={}){this.prefix=o.prefix||"i18next:",this.logger=n||Zx,this.options=o,this.debug=o.debug}log(...n){return this.forward(n,"log","",!0)}warn(...n){return this.forward(n,"warn","",!0)}error(...n){return this.forward(n,"error","")}deprecate(...n){return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(n,o,r,d){return d&&!this.debug?null:(ye(n[0])&&(n[0]=`${r}${this.prefix} ${n[0]}`),this.logger[o](n))}create(n){return new Hi(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Hi(this.logger,n)}}var Zt=new Hi;class Yi{constructor(){this.observers={}}on(n,o){return n.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const d=this.observers[r].get(o)||0;this.observers[r].set(o,d+1)}),this}off(n,o){if(this.observers[n]){if(!o){delete this.observers[n];return}this.observers[n].delete(o)}}emit(n,...o){this.observers[n]&&Array.from(this.observers[n].entries()).forEach(([d,f])=>{for(let h=0;h<f;h++)d(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([d,f])=>{for(let h=0;h<f;h++)d.apply(d,[n,...o])})}}class Im extends Yi{constructor(n,o={ns:["translation"],defaultNS:"translation"}){super(),this.data=n||{},this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const o=this.options.ns.indexOf(n);o>-1&&this.options.ns.splice(o,1)}getResource(n,o,r,d={}){var g,y;const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,h=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure;let x;n.indexOf(".")>-1?x=n.split("."):(x=[n,o],r&&(Array.isArray(r)?x.push(...r):ye(r)&&f?x.push(...r.split(f)):x.push(r)));const m=Li(this.data,x);return!m&&!o&&!r&&n.indexOf(".")>-1&&(n=x[0],o=x[1],r=x.slice(2).join(".")),m||!h||!ye(r)?m:bo((y=(g=this.data)==null?void 0:g[n])==null?void 0:y[o],r,f)}addResource(n,o,r,d,f={silent:!1}){const h=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator;let x=[n,o];r&&(x=x.concat(h?r.split(h):r)),n.indexOf(".")>-1&&(x=n.split("."),d=o,o=x[1]),this.addNamespaces(o),Bm(this.data,x,d),f.silent||this.emit("added",n,o,r,d)}addResources(n,o,r,d={silent:!1}){for(const f in r)(ye(r[f])||Array.isArray(r[f]))&&this.addResource(n,o,f,r[f],{silent:!0});d.silent||this.emit("added",n,o,r)}addResourceBundle(n,o,r,d,f,h={silent:!1,skipCopy:!1}){let x=[n,o];n.indexOf(".")>-1&&(x=n.split("."),d=r,r=o,o=x[1]),this.addNamespaces(o);let m=Li(this.data,x)||{};h.skipCopy||(r=JSON.parse(JSON.stringify(r))),d?Th(m,r,f):m={...m,...r},Bm(this.data,x,m),h.silent||this.emit("added",n,o,r)}removeResourceBundle(n,o){this.hasResourceBundle(n,o)&&delete this.data[n][o],this.removeNamespaces(o),this.emit("removed",n,o)}hasResourceBundle(n,o){return this.getResource(n,o)!==void 0}getResourceBundle(n,o){return o||(o=this.options.defaultNS),this.getResource(n,o)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const o=this.getDataByLanguage(n);return!!(o&&Object.keys(o)||[]).find(d=>o[d]&&Object.keys(o[d]).length>0)}toJSON(){return this.data}}var Oh={processors:{},addPostProcessor(c){this.processors[c.name]=c},handle(c,n,o,r,d){return c.forEach(f=>{var h;n=((h=this.processors[f])==null?void 0:h.process(n,o,r,d))??n}),n}};const Vm={},Gm=c=>!ye(c)&&typeof c!="boolean"&&typeof c!="number";class Bi extends Yi{constructor(n,o={}){super(),Bx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zt.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n,o={interpolation:{}}){const r={...o};if(n==null)return!1;const d=this.resolve(n,r);return(d==null?void 0:d.res)!==void 0}extractFromKey(n,o){let r=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=o.ns||this.options.defaultNS||[];const h=r&&n.indexOf(r)>-1,x=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!Kx(n,r,d);if(h&&!x){const m=n.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:n,namespaces:ye(f)?[f]:f};const g=n.split(r);(r!==d||r===d&&this.options.ns.indexOf(g[0])>-1)&&(f=g.shift()),n=g.join(d)}return{key:n,namespaces:ye(f)?[f]:f}}translate(n,o,r){let d=typeof o=="object"?{...o}:o;if(typeof d!="object"&&this.options.overloadTranslationOptionHandler&&(d=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(d={...d}),d||(d={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const f=d.returnDetails!==void 0?d.returnDetails:this.options.returnDetails,h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,{key:x,namespaces:m}=this.extractFromKey(n[n.length-1],d),g=m[m.length-1];let y=d.nsSeparator!==void 0?d.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=d.lng||this.language,T=d.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((b==null?void 0:b.toLowerCase())==="cimode")return T?f?{res:`${g}${y}${x}`,usedKey:x,exactUsedKey:x,usedLng:b,usedNS:g,usedParams:this.getUsedParamsDetails(d)}:`${g}${y}${x}`:f?{res:x,usedKey:x,exactUsedKey:x,usedLng:b,usedNS:g,usedParams:this.getUsedParamsDetails(d)}:x;const A=this.resolve(n,d);let S=A==null?void 0:A.res;const M=(A==null?void 0:A.usedKey)||x,O=(A==null?void 0:A.exactUsedKey)||x,C=["[object Number]","[object Function]","[object RegExp]"],H=d.joinArrays!==void 0?d.joinArrays:this.options.joinArrays,Z=!this.i18nFormat||this.i18nFormat.handleAsObject,Q=d.count!==void 0&&!ye(d.count),F=Bi.hasDefaultValue(d),ee=Q?this.pluralResolver.getSuffix(b,d.count,d):"",oe=d.ordinal&&Q?this.pluralResolver.getSuffix(b,d.count,{ordinal:!1}):"",ne=Q&&!d.ordinal&&d.count===0,U=ne&&d[`defaultValue${this.options.pluralSeparator}zero`]||d[`defaultValue${ee}`]||d[`defaultValue${oe}`]||d.defaultValue;let k=S;Z&&!S&&F&&(k=U);const V=Gm(k),J=Object.prototype.toString.apply(k);if(Z&&k&&V&&C.indexOf(J)<0&&!(ye(H)&&Array.isArray(k))){if(!d.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,k,{...d,ns:m}):`key '${x} (${this.language})' returned an object instead of string.`;return f?(A.res=_,A.usedParams=this.getUsedParamsDetails(d),A):_}if(h){const _=Array.isArray(k),Y=_?[]:{},ae=_?O:M;for(const D in k)if(Object.prototype.hasOwnProperty.call(k,D)){const W=`${ae}${h}${D}`;F&&!S?Y[D]=this.translate(W,{...d,defaultValue:Gm(U)?U[D]:void 0,joinArrays:!1,ns:m}):Y[D]=this.translate(W,{...d,joinArrays:!1,ns:m}),Y[D]===W&&(Y[D]=k[D])}S=Y}}else if(Z&&ye(H)&&Array.isArray(S))S=S.join(H),S&&(S=this.extendTranslation(S,n,d,r));else{let _=!1,Y=!1;!this.isValidLookup(S)&&F&&(_=!0,S=U),this.isValidLookup(S)||(Y=!0,S=x);const D=(d.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:S,W=F&&U!==S&&this.options.updateMissing;if(Y||_||W){if(this.logger.log(W?"updateKey":"missingKey",b,g,x,W?U:S),h){const G=this.resolve(x,{...d,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,d.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let G=0;G<me.length;G++)re.push(me[G]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(d.lng||this.language):re.push(d.lng||this.language);const j=(G,B,$)=>{var he;const ie=F&&$!==S?$:D;this.options.missingKeyHandler?this.options.missingKeyHandler(G,g,B,ie,W,d):(he=this.backendConnector)!=null&&he.saveMissing&&this.backendConnector.saveMissing(G,g,B,ie,W,d),this.emit("missingKey",G,g,B,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?re.forEach(G=>{const B=this.pluralResolver.getSuffixes(G,d);ne&&d[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach($=>{j([G],x+$,d[`defaultValue${$}`]||U)})}):j(re,x,U))}S=this.extendTranslation(S,n,d,A,r),Y&&S===x&&this.options.appendNamespaceToMissingKey&&(S=`${g}${y}${x}`),(Y||_)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${x}`:x,_?S:void 0,d))}return f?(A.res=S,A.usedParams=this.getUsedParamsDetails(d),A):S}extendTranslation(n,o,r,d,f){var m,g;if((m=this.i18nFormat)!=null&&m.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const y=ye(n)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(y){const A=n.match(this.interpolator.nestingRegexp);b=A&&A.length}let T=r.replace&&!ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(T={...this.options.interpolation.defaultVariables,...T}),n=this.interpolator.interpolate(n,T,r.lng||this.language||d.usedLng,r),y){const A=n.match(this.interpolator.nestingRegexp),S=A&&A.length;b<S&&(r.nest=!1)}!r.lng&&d&&d.res&&(r.lng=this.language||d.usedLng),r.nest!==!1&&(n=this.interpolator.nest(n,(...A)=>(f==null?void 0:f[0])===A[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${A[0]} in key: ${o[0]}`),null):this.translate(...A,o),r)),r.interpolation&&this.interpolator.reset()}const h=r.postProcess||this.options.postProcess,x=ye(h)?[h]:h;return n!=null&&(x!=null&&x.length)&&r.applyPostProcessor!==!1&&(n=Oh.handle(x,n,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...d,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),n}resolve(n,o={}){let r,d,f,h,x;return ye(n)&&(n=[n]),n.forEach(m=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(m,o),y=g.key;d=y;let b=g.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const T=o.count!==void 0&&!ye(o.count),A=T&&!o.ordinal&&o.count===0,S=o.context!==void 0&&(ye(o.context)||typeof o.context=="number")&&o.context!=="",M=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);b.forEach(O=>{var C,H;this.isValidLookup(r)||(x=O,!Vm[`${M[0]}-${O}`]&&((C=this.utils)!=null&&C.hasLoadedNamespace)&&!((H=this.utils)!=null&&H.hasLoadedNamespace(x))&&(Vm[`${M[0]}-${O}`]=!0,this.logger.warn(`key "${d}" for languages "${M.join(", ")}" won't get resolved as namespace "${x}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(Z=>{var ee;if(this.isValidLookup(r))return;h=Z;const Q=[y];if((ee=this.i18nFormat)!=null&&ee.addLookupKeys)this.i18nFormat.addLookupKeys(Q,y,Z,O,o);else{let oe;T&&(oe=this.pluralResolver.getSuffix(Z,o.count,o));const ne=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(Q.push(y+oe),o.ordinal&&oe.indexOf(U)===0&&Q.push(y+oe.replace(U,this.options.pluralSeparator)),A&&Q.push(y+ne)),S){const k=`${y}${this.options.contextSeparator}${o.context}`;Q.push(k),T&&(Q.push(k+oe),o.ordinal&&oe.indexOf(U)===0&&Q.push(k+oe.replace(U,this.options.pluralSeparator)),A&&Q.push(k+ne))}}let F;for(;F=Q.pop();)this.isValidLookup(r)||(f=F,r=this.getResource(Z,O,F,o))}))})}),{res:r,usedKey:d,exactUsedKey:f,usedLng:h,usedNS:x}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,o,r,d={}){var f;return(f=this.i18nFormat)!=null&&f.getResource?this.i18nFormat.getResource(n,o,r,d):this.resourceStore.getResource(n,o,r,d)}getUsedParamsDetails(n={}){const o=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=n.replace&&!ye(n.replace);let d=r?n.replace:n;if(r&&typeof n.count<"u"&&(d.count=n.count),this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),!r){d={...d};for(const f of o)delete d[f]}return d}static hasDefaultValue(n){const o="defaultValue";for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&o===r.substring(0,o.length)&&n[r]!==void 0)return!0;return!1}}class Fm{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zt.create("languageUtils")}getScriptPartFromCode(n){if(n=gn(n),!n||n.indexOf("-")<0)return null;const o=n.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(n){if(n=gn(n),!n||n.indexOf("-")<0)return n;const o=n.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(n){if(ye(n)&&n.indexOf("-")>-1){let o;try{o=Intl.getCanonicalLocales(n)[0]}catch{}return o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o||(this.options.lowerCaseLng?n.toLowerCase():n)}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let o;return n.forEach(r=>{if(o)return;const d=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(d))&&(o=d)}),!o&&this.options.supportedLngs&&n.forEach(r=>{if(o)return;const d=this.getScriptPartFromCode(r);if(this.isSupportedCode(d))return o=d;const f=this.getLanguagePartFromCode(r);if(this.isSupportedCode(f))return o=f;o=this.options.supportedLngs.find(h=>{if(h===f)return h;if(!(h.indexOf("-")<0&&f.indexOf("-")<0)&&(h.indexOf("-")>0&&f.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===f||h.indexOf(f)===0&&f.length>1))return h})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}getFallbackCodes(n,o){if(!n)return[];if(typeof n=="function"&&(n=n(o)),ye(n)&&(n=[n]),Array.isArray(n))return n;if(!o)return n.default||[];let r=n[o];return r||(r=n[this.getScriptPartFromCode(o)]),r||(r=n[this.formatLanguageCode(o)]),r||(r=n[this.getLanguagePartFromCode(o)]),r||(r=n.default),r||[]}toResolveHierarchy(n,o){const r=this.getFallbackCodes((o===!1?[]:o)||this.options.fallbackLng||[],n),d=[],f=h=>{h&&(this.isSupportedCode(h)?d.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return ye(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&f(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&f(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&f(this.getLanguagePartFromCode(n))):ye(n)&&f(this.formatLanguageCode(n)),r.forEach(h=>{d.indexOf(h)<0&&f(this.formatLanguageCode(h))}),d}}const $m={zero:0,one:1,two:2,few:3,many:4,other:5},Ym={select:c=>c===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Px{constructor(n,o={}){this.languageUtils=n,this.options=o,this.logger=Zt.create("pluralResolver"),this.pluralRulesCache={}}addRule(n,o){this.rules[n]=o}clearCache(){this.pluralRulesCache={}}getRule(n,o={}){const r=gn(n==="dev"?"en":n),d=o.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:r,type:d});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];let h;try{h=new Intl.PluralRules(r,{type:d})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ym;if(!n.match(/-|_/))return Ym;const m=this.languageUtils.getLanguagePartFromCode(n);h=this.getRule(m,o)}return this.pluralRulesCache[f]=h,h}needsPlural(n,o={}){let r=this.getRule(n,o);return r||(r=this.getRule("dev",o)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(n,o,r={}){return this.getSuffixes(n,r).map(d=>`${o}${d}`)}getSuffixes(n,o={}){let r=this.getRule(n,o);return r||(r=this.getRule("dev",o)),r?r.resolvedOptions().pluralCategories.sort((d,f)=>$m[d]-$m[f]).map(d=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${d}`):[]}getSuffix(n,o,r={}){const d=this.getRule(n,r);return d?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${d.select(o)}`:(this.logger.warn(`no plural rule found for: ${n}`),this.getSuffix("dev",o,r))}}const Xm=(c,n,o,r=".",d=!0)=>{let f=Gx(c,n,o);return!f&&d&&ye(o)&&(f=bo(c,o,r),f===void 0&&(f=bo(n,o,r))),f},xo=c=>c.replace(/\$/g,"$$$$");class Jx{constructor(n={}){var o;this.logger=Zt.create("interpolator"),this.options=n,this.format=((o=n==null?void 0:n.interpolation)==null?void 0:o.format)||(r=>r),this.init(n)}init(n={}){n.interpolation||(n.interpolation={escapeValue:!0});const{escape:o,escapeValue:r,useRawValueToEscape:d,prefix:f,prefixEscaped:h,suffix:x,suffixEscaped:m,formatSeparator:g,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:T,nestingPrefixEscaped:A,nestingSuffix:S,nestingSuffixEscaped:M,nestingOptionsSeparator:O,maxReplaces:C,alwaysFormat:H}=n.interpolation;this.escape=o!==void 0?o:$x,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=d!==void 0?d:!1,this.prefix=f?sl(f):h||"{{",this.suffix=x?sl(x):m||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=T?sl(T):A||sl("$t("),this.nestingSuffix=S?sl(S):M||sl(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=C||1e3,this.alwaysFormat=H!==void 0?H:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(o,r)=>(o==null?void 0:o.source)===r?(o.lastIndex=0,o):new RegExp(r,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,o,r,d){var A;let f,h,x;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=S=>{if(S.indexOf(this.formatSeparator)<0){const H=Xm(o,m,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,r,{...d,...o,interpolationkey:S}):H}const M=S.split(this.formatSeparator),O=M.shift().trim(),C=M.join(this.formatSeparator).trim();return this.format(Xm(o,m,O,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...d,...o,interpolationkey:O})};this.resetRegExp();const y=(d==null?void 0:d.missingInterpolationHandler)||this.options.missingInterpolationHandler,b=((A=d==null?void 0:d.interpolation)==null?void 0:A.skipOnVariables)!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>xo(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?xo(this.escape(S)):xo(S)}].forEach(S=>{for(x=0;f=S.regex.exec(n);){const M=f[1].trim();if(h=g(M),h===void 0)if(typeof y=="function"){const C=y(n,f,d);h=ye(C)?C:""}else if(d&&Object.prototype.hasOwnProperty.call(d,M))h="";else if(b){h=f[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${n}`),h="";else!ye(h)&&!this.useRawValueToEscape&&(h=qm(h));const O=S.safeValue(h);if(n=n.replace(f[0],O),b?(S.regex.lastIndex+=h.length,S.regex.lastIndex-=f[0].length):S.regex.lastIndex=0,x++,x>=this.maxReplaces)break}}),n}nest(n,o,r={}){let d,f,h;const x=(m,g)=>{const y=this.nestingOptionsSeparator;if(m.indexOf(y)<0)return m;const b=m.split(new RegExp(`${y}[ ]*{`));let T=`{${b[1]}`;m=b[0],T=this.interpolate(T,h);const A=T.match(/'/g),S=T.match(/"/g);(((A==null?void 0:A.length)??0)%2===0&&!S||S.length%2!==0)&&(T=T.replace(/'/g,'"'));try{h=JSON.parse(T),g&&(h={...g,...h})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,M),`${m}${y}${T}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,m};for(;d=this.nestingRegexp.exec(n);){let m=[];h={...r},h=h.replace&&!ye(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const g=/{.*}/.test(d[1])?d[1].lastIndexOf("}")+1:d[1].indexOf(this.formatSeparator);if(g!==-1&&(m=d[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),d[1]=d[1].slice(0,g)),f=o(x.call(this,d[1].trim(),h),h),f&&d[0]===n&&!ye(f))return f;ye(f)||(f=qm(f)),f||(this.logger.warn(`missed to resolve ${d[1]} for nesting ${n}`),f=""),m.length&&(f=m.reduce((y,b)=>this.format(y,b,r.lng,{...r,interpolationkey:d[1].trim()}),f.trim())),n=n.replace(d[0],f),this.regexp.lastIndex=0}return n}}const Wx=c=>{let n=c.toLowerCase().trim();const o={};if(c.indexOf("(")>-1){const r=c.split("(");n=r[0].toLowerCase().trim();const d=r[1].substring(0,r[1].length-1);n==="currency"&&d.indexOf(":")<0?o.currency||(o.currency=d.trim()):n==="relativetime"&&d.indexOf(":")<0?o.range||(o.range=d.trim()):d.split(";").forEach(h=>{if(h){const[x,...m]=h.split(":"),g=m.join(":").trim().replace(/^'+|'+$/g,""),y=x.trim();o[y]||(o[y]=g),g==="false"&&(o[y]=!1),g==="true"&&(o[y]=!0),isNaN(g)||(o[y]=parseInt(g,10))}})}return{formatName:n,formatOptions:o}},Qm=c=>{const n={};return(o,r,d)=>{let f=d;d&&d.interpolationkey&&d.formatParams&&d.formatParams[d.interpolationkey]&&d[d.interpolationkey]&&(f={...f,[d.interpolationkey]:void 0});const h=r+JSON.stringify(f);let x=n[h];return x||(x=c(gn(r),d),n[h]=x),x(o)}},e0=c=>(n,o,r)=>c(gn(o),r)(n);class t0{constructor(n={}){this.logger=Zt.create("formatter"),this.options=n,this.init(n)}init(n,o={interpolation:{}}){this.formatSeparator=o.interpolation.formatSeparator||",";const r=o.cacheInBuiltFormats?Qm:e0;this.formats={number:r((d,f)=>{const h=new Intl.NumberFormat(d,{...f});return x=>h.format(x)}),currency:r((d,f)=>{const h=new Intl.NumberFormat(d,{...f,style:"currency"});return x=>h.format(x)}),datetime:r((d,f)=>{const h=new Intl.DateTimeFormat(d,{...f});return x=>h.format(x)}),relativetime:r((d,f)=>{const h=new Intl.RelativeTimeFormat(d,{...f});return x=>h.format(x,f.range||"day")}),list:r((d,f)=>{const h=new Intl.ListFormat(d,{...f});return x=>h.format(x)})}}add(n,o){this.formats[n.toLowerCase().trim()]=o}addCached(n,o){this.formats[n.toLowerCase().trim()]=Qm(o)}format(n,o,r,d={}){const f=o.split(this.formatSeparator);if(f.length>1&&f[0].indexOf("(")>1&&f[0].indexOf(")")<0&&f.find(x=>x.indexOf(")")>-1)){const x=f.findIndex(m=>m.indexOf(")")>-1);f[0]=[f[0],...f.splice(1,x)].join(this.formatSeparator)}return f.reduce((x,m)=>{var b;const{formatName:g,formatOptions:y}=Wx(m);if(this.formats[g]){let T=x;try{const A=((b=d==null?void 0:d.formatParams)==null?void 0:b[d.interpolationkey])||{},S=A.locale||A.lng||d.locale||d.lng||r;T=this.formats[g](x,S,{...y,...d,...A})}catch(A){this.logger.warn(A)}return T}else this.logger.warn(`there was no format function for ${g}`);return x},n)}}const a0=(c,n)=>{c.pending[n]!==void 0&&(delete c.pending[n],c.pendingCount--)};class s0 extends Yi{constructor(n,o,r,d={}){var f,h;super(),this.backend=n,this.store=o,this.services=r,this.languageUtils=r.languageUtils,this.options=d,this.logger=Zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],(h=(f=this.backend)==null?void 0:f.init)==null||h.call(f,r,d.backend,d)}queueLoad(n,o,r,d){const f={},h={},x={},m={};return n.forEach(g=>{let y=!0;o.forEach(b=>{const T=`${g}|${b}`;!r.reload&&this.store.hasResourceBundle(g,b)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?h[T]===void 0&&(h[T]=!0):(this.state[T]=1,y=!1,h[T]===void 0&&(h[T]=!0),f[T]===void 0&&(f[T]=!0),m[b]===void 0&&(m[b]=!0)))}),y||(x[g]=!0)}),(Object.keys(f).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(f),pending:Object.keys(h),toLoadLanguages:Object.keys(x),toLoadNamespaces:Object.keys(m)}}loaded(n,o,r){const d=n.split("|"),f=d[0],h=d[1];o&&this.emit("failedLoading",f,h,o),!o&&r&&this.store.addResourceBundle(f,h,r,void 0,void 0,{skipCopy:!0}),this.state[n]=o?-1:2,o&&r&&(this.state[n]=0);const x={};this.queue.forEach(m=>{Vx(m.loaded,[f],h),a0(m,n),o&&m.errors.push(o),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(g=>{x[g]||(x[g]={});const y=m.loaded[g];y.length&&y.forEach(b=>{x[g][b]===void 0&&(x[g][b]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",x),this.queue=this.queue.filter(m=>!m.done)}read(n,o,r,d=0,f=this.retryTimeout,h){if(!n.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:o,fcName:r,tried:d,wait:f,callback:h});return}this.readingCalls++;const x=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(g&&y&&d<this.maxRetries){setTimeout(()=>{this.read.call(this,n,o,r,d+1,f*2,h)},f);return}h(g,y)},m=this.backend[r].bind(this.backend);if(m.length===2){try{const g=m(n,o);g&&typeof g.then=="function"?g.then(y=>x(null,y)).catch(x):x(null,g)}catch(g){x(g)}return}return m(n,o,x)}prepareLoading(n,o,r={},d){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();ye(n)&&(n=this.languageUtils.toResolveHierarchy(n)),ye(o)&&(o=[o]);const f=this.queueLoad(n,o,r,d);if(!f.toLoad.length)return f.pending.length||d(),null;f.toLoad.forEach(h=>{this.loadOne(h)})}load(n,o,r){this.prepareLoading(n,o,{},r)}reload(n,o,r){this.prepareLoading(n,o,{reload:!0},r)}loadOne(n,o=""){const r=n.split("|"),d=r[0],f=r[1];this.read(d,f,"read",void 0,void 0,(h,x)=>{h&&this.logger.warn(`${o}loading namespace ${f} for language ${d} failed`,h),!h&&x&&this.logger.log(`${o}loaded namespace ${f} for language ${d}`,x),this.loaded(n,h,x)})}saveMissing(n,o,r,d,f,h={},x=()=>{}){var m,g,y,b,T;if((g=(m=this.services)==null?void 0:m.utils)!=null&&g.hasLoadedNamespace&&!((b=(y=this.services)==null?void 0:y.utils)!=null&&b.hasLoadedNamespace(o))){this.logger.warn(`did not save key "${r}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((T=this.backend)!=null&&T.create){const A={...h,isUpdate:f},S=this.backend.create.bind(this.backend);if(S.length<6)try{let M;S.length===5?M=S(n,o,r,d,A):M=S(n,o,r,d),M&&typeof M.then=="function"?M.then(O=>x(null,O)).catch(x):x(null,M)}catch(M){x(M)}else S(n,o,r,d,x,A)}!n||!n[0]||this.store.addResource(n[0],o,r,d)}}}const Km=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:c=>{let n={};if(typeof c[1]=="object"&&(n=c[1]),ye(c[1])&&(n.defaultValue=c[1]),ye(c[2])&&(n.tDescription=c[2]),typeof c[2]=="object"||typeof c[3]=="object"){const o=c[3]||c[2];Object.keys(o).forEach(r=>{n[r]=o[r]})}return n},interpolation:{escapeValue:!0,format:c=>c,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Zm=c=>{var n,o;return ye(c.ns)&&(c.ns=[c.ns]),ye(c.fallbackLng)&&(c.fallbackLng=[c.fallbackLng]),ye(c.fallbackNS)&&(c.fallbackNS=[c.fallbackNS]),((o=(n=c.supportedLngs)==null?void 0:n.indexOf)==null?void 0:o.call(n,"cimode"))<0&&(c.supportedLngs=c.supportedLngs.concat(["cimode"])),typeof c.initImmediate=="boolean"&&(c.initAsync=c.initImmediate),c},zi=()=>{},l0=c=>{Object.getOwnPropertyNames(Object.getPrototypeOf(c)).forEach(o=>{typeof c[o]=="function"&&(c[o]=c[o].bind(c))})};class pn extends Yi{constructor(n={},o){if(super(),this.options=Zm(n),this.services={},this.logger=Zt,this.modules={external:[]},l0(this),o&&!this.isInitialized&&!n.isClone){if(!this.options.initAsync)return this.init(n,o),this;setTimeout(()=>{this.init(n,o)},0)}}init(n={},o){this.isInitializing=!0,typeof n=="function"&&(o=n,n={}),n.defaultNS==null&&n.ns&&(ye(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=Km();this.options={...r,...this.options,...Zm(n)},this.options.interpolation={...r.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const d=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Zt.init(d(this.modules.logger),this.options):Zt.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=t0;const y=new Fm(this.options);this.store=new Im(this.options.resources,this.options);const b=this.services;b.logger=Zt,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new Px(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(b.formatter=d(g),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new Jx(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new s0(d(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(T,...A)=>{this.emit(T,...A)}),this.modules.languageDetector&&(b.languageDetector=d(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=d(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Bi(this.services,this.options),this.translator.on("*",(T,...A)=>{this.emit(T,...A)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,o||(o=zi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const x=fn(),m=()=>{const g=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),x.resolve(b),o(y,b)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),x}loadResources(n,o=zi){var f,h;let r=o;const d=ye(n)?n:this.language;if(typeof n=="function"&&(r=n),!this.options.resources||this.options.partialBundledLanguages){if((d==null?void 0:d.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const x=[],m=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(b=>{b!=="cimode"&&x.indexOf(b)<0&&x.push(b)})};d?m(d):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>m(y)),(h=(f=this.options.preload)==null?void 0:f.forEach)==null||h.call(f,g=>m(g)),this.services.backendConnector.load(x,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(n,o,r){const d=fn();return typeof n=="function"&&(r=n,n=void 0),typeof o=="function"&&(r=o,o=void 0),n||(n=this.languages),o||(o=this.options.ns),r||(r=zi),this.services.backendConnector.reload(n,o,f=>{d.resolve(),r(f)}),d}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Oh.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1)){for(let o=0;o<this.languages.length;o++){const r=this.languages[o];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(n)<0&&this.store.hasLanguageSomeTranslations(n)&&(this.resolvedLanguage=n,this.languages.unshift(n))}}changeLanguage(n,o){this.isLanguageChangingTo=n;const r=fn();this.emit("languageChanging",n);const d=x=>{this.language=x,this.languages=this.services.languageUtils.toResolveHierarchy(x),this.resolvedLanguage=void 0,this.setResolvedLanguage(x)},f=(x,m)=>{m?this.isLanguageChangingTo===n&&(d(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),o&&o(x,(...g)=>this.t(...g))},h=x=>{var y,b;!n&&!x&&this.services.languageDetector&&(x=[]);const m=ye(x)?x:x&&x[0],g=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(ye(x)?[x]:x);g&&(this.language||d(g),this.translator.language||this.translator.changeLanguage(g),(b=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||b.call(y,g)),this.loadResources(g,T=>{f(T,g)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(n),r}getFixedT(n,o,r){const d=(f,h,...x)=>{let m;typeof h!="object"?m=this.options.overloadTranslationOptionHandler([f,h].concat(x)):m={...h},m.lng=m.lng||d.lng,m.lngs=m.lngs||d.lngs,m.ns=m.ns||d.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||r||d.keyPrefix);const g=this.options.keySeparator||".";let y;return m.keyPrefix&&Array.isArray(f)?y=f.map(b=>`${m.keyPrefix}${g}${b}`):y=m.keyPrefix?`${m.keyPrefix}${g}${f}`:f,this.t(y,m)};return ye(n)?d.lng=n:d.lngs=n,d.ns=o,d.keyPrefix=r,d}t(...n){var o;return(o=this.translator)==null?void 0:o.translate(...n)}exists(...n){var o;return(o=this.translator)==null?void 0:o.exists(...n)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n,o={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=o.lng||this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const h=(x,m)=>{const g=this.services.backendConnector.state[`${x}|${m}`];return g===-1||g===0||g===2};if(o.precheck){const x=o.precheck(this,h);if(x!==void 0)return x}return!!(this.hasResourceBundle(r,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(r,n)&&(!d||h(f,n)))}loadNamespaces(n,o){const r=fn();return this.options.ns?(ye(n)&&(n=[n]),n.forEach(d=>{this.options.ns.indexOf(d)<0&&this.options.ns.push(d)}),this.loadResources(d=>{r.resolve(),o&&o(d)}),r):(o&&o(),Promise.resolve())}loadLanguages(n,o){const r=fn();ye(n)&&(n=[n]);const d=this.options.preload||[],f=n.filter(h=>d.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return f.length?(this.options.preload=d.concat(f),this.loadResources(h=>{r.resolve(),o&&o(h)}),r):(o&&o(),Promise.resolve())}dir(n){var d,f;if(n||(n=this.resolvedLanguage||(((d=this.languages)==null?void 0:d.length)>0?this.languages[0]:this.language)),!n)return"rtl";if(Intl.Locale){const h=new Intl.Locale(n);if(h&&h.getTextInfo){const x=h.getTextInfo();if(x&&x.direction)return x.direction}}const o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((f=this.services)==null?void 0:f.languageUtils)||new Fm(Km());return n.toLowerCase().indexOf("-latn")>1?"ltr":o.indexOf(r.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(n={},o){return new pn(n,o)}cloneInstance(n={},o=zi){const r=n.forkResourceStore;r&&delete n.forkResourceStore;const d={...this.options,...n,isClone:!0},f=new pn(d);if((n.debug!==void 0||n.prefix!==void 0)&&(f.logger=f.logger.clone(n)),["store","services","language"].forEach(x=>{f[x]=this[x]}),f.services={...this.services},f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},r){const x=Object.keys(this.store.data).reduce((m,g)=>(m[g]={...this.store.data[g]},m[g]=Object.keys(m[g]).reduce((y,b)=>(y[b]={...m[g][b]},y),m[g]),m),{});f.store=new Im(x,d),f.services.resourceStore=f.store}return f.translator=new Bi(f.services,d),f.translator.on("*",(x,...m)=>{f.emit(x,...m)}),f.init(d,o),f.translator.options=d,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const et=pn.createInstance();et.createInstance=pn.createInstance;et.createInstance;et.dir;et.init;et.loadResources;et.reloadResources;et.use;et.changeLanguage;et.getFixedT;et.t;et.exists;et.setDefaultNamespace;et.hasLoadedNamespace;et.loadNamespaces;et.loadLanguages;const n0=(c,n,o,r)=>{var f,h,x,m;const d=[o,{code:n,...r||{}}];if((h=(f=c==null?void 0:c.services)==null?void 0:f.logger)!=null&&h.forward)return c.services.logger.forward(d,"warn","react-i18next::",!0);hs(d[0])&&(d[0]=`react-i18next:: ${d[0]}`),(m=(x=c==null?void 0:c.services)==null?void 0:x.logger)!=null&&m.warn?c.services.logger.warn(...d):console!=null&&console.warn&&console.warn(...d)},Pm={},jo=(c,n,o,r)=>{hs(o)&&Pm[o]||(hs(o)&&(Pm[o]=new Date),n0(c,n,o,r))},Rh=(c,n)=>()=>{if(c.isInitialized)n();else{const o=()=>{setTimeout(()=>{c.off("initialized",o)},0),n()};c.on("initialized",o)}},No=(c,n,o)=>{c.loadNamespaces(n,Rh(c,o))},Jm=(c,n,o,r)=>{if(hs(o)&&(o=[o]),c.options.preload&&c.options.preload.indexOf(n)>-1)return No(c,o,r);o.forEach(d=>{c.options.ns.indexOf(d)<0&&c.options.ns.push(d)}),c.loadLanguages(n,Rh(c,r))},i0=(c,n,o={})=>!n.languages||!n.languages.length?(jo(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(c,{lng:o.lng,precheck:(r,d)=>{var f;if(((f=o.bindI18n)==null?void 0:f.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!d(r.isLanguageChangingTo,c))return!1}}),hs=c=>typeof c=="string",r0=c=>typeof c=="object"&&c!==null,c0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,o0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},u0=c=>o0[c],d0=c=>c.replace(c0,u0);let So={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:d0};const f0=(c={})=>{So={...So,...c}},m0=()=>So;let Eh;const h0=c=>{Eh=c},g0=()=>Eh,p0={type:"3rdParty",init(c){f0(c.options.react),h0(c)}},x0=N.createContext();class y0{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(o=>{this.usedNamespaces[o]||(this.usedNamespaces[o]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const v0=(c,n)=>{const o=N.useRef();return N.useEffect(()=>{o.current=c},[c,n]),o.current},kh=(c,n,o,r)=>c.getFixedT(n,o,r),b0=(c,n,o,r)=>N.useCallback(kh(c,n,o,r),[c,n,o,r]),Bt=(c,n={})=>{var Q,F,ee,oe;const{i18n:o}=n,{i18n:r,defaultNS:d}=N.useContext(x0)||{},f=o||r||g0();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new y0),!f){jo(f,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ne=(k,V)=>hs(V)?V:r0(V)&&hs(V.defaultValue)?V.defaultValue:Array.isArray(k)?k[k.length-1]:k,U=[ne,{},!1];return U.t=ne,U.i18n={},U.ready=!1,U}(Q=f.options.react)!=null&&Q.wait&&jo(f,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h={...m0(),...f.options.react,...n},{useSuspense:x,keyPrefix:m}=h;let g=d||((F=f.options)==null?void 0:F.defaultNS);g=hs(g)?[g]:g||["translation"],(oe=(ee=f.reportNamespaces).addUsedNamespaces)==null||oe.call(ee,g);const y=(f.isInitialized||f.initializedStoreOnce)&&g.every(ne=>i0(ne,f,h)),b=b0(f,n.lng||null,h.nsMode==="fallback"?g:g[0],m),T=()=>b,A=()=>kh(f,n.lng||null,h.nsMode==="fallback"?g:g[0],m),[S,M]=N.useState(T);let O=g.join();n.lng&&(O=`${n.lng}${O}`);const C=v0(O),H=N.useRef(!0);N.useEffect(()=>{const{bindI18n:ne,bindI18nStore:U}=h;H.current=!0,!y&&!x&&(n.lng?Jm(f,n.lng,g,()=>{H.current&&M(A)}):No(f,g,()=>{H.current&&M(A)})),y&&C&&C!==O&&H.current&&M(A);const k=()=>{H.current&&M(A)};return ne&&(f==null||f.on(ne,k)),U&&(f==null||f.store.on(U,k)),()=>{H.current=!1,f&&(ne==null||ne.split(" ").forEach(V=>f.off(V,k))),U&&f&&U.split(" ").forEach(V=>f.store.off(V,k))}},[f,O]),N.useEffect(()=>{H.current&&y&&M(T)},[f,m,y]);const Z=[S,f,y];if(Z.t=S,Z.i18n=f,Z.ready=y,y||!y&&!x)return Z;throw new Promise(ne=>{n.lng?Jm(f,n.lng,g,()=>ne()):No(f,g,()=>ne())})},{slice:j0,forEach:N0}=[];function S0(c){return N0.call(j0.call(arguments,1),n=>{if(n)for(const o in n)c[o]===void 0&&(c[o]=n[o])}),c}function w0(c){return typeof c!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(o=>o.test(c))}const Wm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,C0=function(c,n){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},d=encodeURIComponent(n);let f=`${c}=${d}`;if(r.maxAge>0){const h=r.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");f+=`; Max-Age=${Math.floor(h)}`}if(r.domain){if(!Wm.test(r.domain))throw new TypeError("option domain is invalid");f+=`; Domain=${r.domain}`}if(r.path){if(!Wm.test(r.path))throw new TypeError("option path is invalid");f+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(f+="; HttpOnly"),r.secure&&(f+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(f+="; Partitioned"),f},eh={create(c,n,o,r){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(d.expires=new Date,d.expires.setTime(d.expires.getTime()+o*60*1e3)),r&&(d.domain=r),document.cookie=C0(c,n,d)},read(c){const n=`${c}=`,o=document.cookie.split(";");for(let r=0;r<o.length;r++){let d=o[r];for(;d.charAt(0)===" ";)d=d.substring(1,d.length);if(d.indexOf(n)===0)return d.substring(n.length,d.length)}return null},remove(c,n){this.create(c,"",-1,n)}};var D0={name:"cookie",lookup(c){let{lookupCookie:n}=c;if(n&&typeof document<"u")return eh.read(n)||void 0},cacheUserLanguage(c,n){let{lookupCookie:o,cookieMinutes:r,cookieDomain:d,cookieOptions:f}=n;o&&typeof document<"u"&&eh.create(o,c,r,d,f)}},A0={name:"querystring",lookup(c){var r;let{lookupQuerystring:n}=c,o;if(typeof window<"u"){let{search:d}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(d=window.location.hash.substring(window.location.hash.indexOf("?")));const h=d.substring(1).split("&");for(let x=0;x<h.length;x++){const m=h[x].indexOf("=");m>0&&h[x].substring(0,m)===n&&(o=h[x].substring(m+1))}}return o}},T0={name:"hash",lookup(c){var d;let{lookupHash:n,lookupFromHashIndex:o}=c,r;if(typeof window<"u"){const{hash:f}=window.location;if(f&&f.length>2){const h=f.substring(1);if(n){const x=h.split("&");for(let m=0;m<x.length;m++){const g=x[m].indexOf("=");g>0&&x[m].substring(0,g)===n&&(r=x[m].substring(g+1))}}if(r)return r;if(!r&&o>-1){const x=f.match(/\/([a-zA-Z-]*)/g);return Array.isArray(x)?(d=x[typeof o=="number"?o:0])==null?void 0:d.replace("/",""):void 0}}}return r}};let ll=null;const th=()=>{if(ll!==null)return ll;try{if(ll=typeof window<"u"&&window.localStorage!==null,!ll)return!1;const c="i18next.translate.boo";window.localStorage.setItem(c,"foo"),window.localStorage.removeItem(c)}catch{ll=!1}return ll};var O0={name:"localStorage",lookup(c){let{lookupLocalStorage:n}=c;if(n&&th())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(c,n){let{lookupLocalStorage:o}=n;o&&th()&&window.localStorage.setItem(o,c)}};let nl=null;const ah=()=>{if(nl!==null)return nl;try{if(nl=typeof window<"u"&&window.sessionStorage!==null,!nl)return!1;const c="i18next.translate.boo";window.sessionStorage.setItem(c,"foo"),window.sessionStorage.removeItem(c)}catch{nl=!1}return nl};var R0={name:"sessionStorage",lookup(c){let{lookupSessionStorage:n}=c;if(n&&ah())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(c,n){let{lookupSessionStorage:o}=n;o&&ah()&&window.sessionStorage.setItem(o,c)}},E0={name:"navigator",lookup(c){const n=[];if(typeof navigator<"u"){const{languages:o,userLanguage:r,language:d}=navigator;if(o)for(let f=0;f<o.length;f++)n.push(o[f]);r&&n.push(r),d&&n.push(d)}return n.length>0?n:void 0}},k0={name:"htmlTag",lookup(c){let{htmlTag:n}=c,o;const r=n||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(o=r.getAttribute("lang")),o}},_0={name:"path",lookup(c){var d;let{lookupFromPathIndex:n}=c;if(typeof window>"u")return;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(d=o[typeof n=="number"?n:0])==null?void 0:d.replace("/",""):void 0}},M0={name:"subdomain",lookup(c){var d,f;let{lookupFromSubdomainIndex:n}=c;const o=typeof n=="number"?n+1:1,r=typeof window<"u"&&((f=(d=window.location)==null?void 0:d.hostname)==null?void 0:f.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[o]}};let _h=!1;try{document.cookie,_h=!0}catch{}const Mh=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_h||Mh.splice(1,1);const z0=()=>({order:Mh,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:c=>c});class zh{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,o)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=S0(o,this.options||{},z0()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=d=>d.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(D0),this.addDetector(A0),this.addDetector(O0),this.addDetector(R0),this.addDetector(E0),this.addDetector(k0),this.addDetector(_0),this.addDetector(M0),this.addDetector(T0)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,o=[];return n.forEach(r=>{if(this.detectors[r]){let d=this.detectors[r].lookup(this.options);d&&typeof d=="string"&&(d=[d]),d&&(o=o.concat(d))}}),o=o.filter(r=>r!=null&&!w0(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}cacheUserLanguage(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||o.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(n,this.options)}))}}zh.type="languageDetector";const U0={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",create:"Create",update:"Update",submit:"Submit",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",search:"Search",filter:"Filter",clear:"Clear",download:"Download",upload:"Upload",export:"Export",import:"Import",refresh:"Refresh",settings:"Settings",logout:"Logout",profile:"Profile",help:"Help",about:"About",actions:"Actions",active:"Active",inactive:"Inactive",warning:"Warning",info:"Information"},q0={login:"Login",loginTitle:"Welcome to GovFlow",loginSubtitle:"Sign in to your account",employeeId:"Employee ID",password:"Password",employeeIdPlaceholder:"e.g., FD001",passwordPlaceholder:"Enter your password",loginButton:"Sign In",loginError:"Invalid employee ID or password",logoutConfirm:"Are you sure you want to logout?",username:"Username"},L0={dashboard:"Dashboard",newRequest:"New Request",myTasks:"My Tasks",commandCenter:"Command Center",adminPanel:"Admin Panel",workflows:"Workflows",users:"Users",offices:"Offices",templates:"Templates"},H0={title:"Dashboard",welcome:"Welcome back",stats:{totalRequests:"Total Requests",pendingReview:"Pending Review",completedToday:"Completed Today",processingTime:"Avg Processing Time"},recentActivity:"Recent Activity",quickActions:"Quick Actions",noActivity:"No recent activity",pendingTasks:"Pending Tasks",completedTasks:"Completed Tasks",totalRequests:"Total Requests"},B0={title:"New Request",description:"Description",selectService:"Select Service",fillDetails:"Fill Details",uploadDocuments:"Upload Documents",submit:"Submit Request",serviceCategory:"Service Category",requestType:"Request Type",documents:"Documents",citizenInfo:"Citizen Information",nicNumber:"NIC Number",nicPlaceholder:"Citizen's National Identity Card Number",citizenName:"Full Name",namePlaceholder:"Full Name",citizenAddress:"Address",addressPlaceholder:"Residential Address",citizenContact:"Contact Number",contactPlaceholder:"Phone Number (10 digits)"},I0={title:"Task Queue",description:"Manage and process workflow tasks",pending:"Pending",inProgress:"In Progress",completed:"Completed",overdue:"Overdue",assignToMe:"Assign to Me",dueDate:"Due Date",priority:"Priority",status:"Status",assignedTo:"Assigned To",noTasks:"No tasks available",claimTask:"Claim Task",viewDetails:"View Details"},V0={title:"Task Details",citizenInfo:"Citizen Information",serviceInfo:"Service Information",currentStep:"Current Step",documents:"Documents",history:"History",actions:"Actions",submitData:"Submit Data",forward:"Forward",approve:"Approve",reject:"Reject",requestCorrection:"Request Correction",comments:"Comments",commentsPlaceholder:"Add any comments...",rejectionReason:"Rejection Reason",rejectionPlaceholder:"Provide a clear reason for rejection",correctionComment:"Correction Comment",correctionPlaceholder:"Clearly state what needs to be corrected"},G0={title:"Command Center",subtitle:"Overview of all service requests",searchPlaceholder:"Search SR ID, NIC, Name...",allStatuses:"All Statuses",allOffices:"All Offices",noRequests:"No service requests match the current filters",viewDetails:"View Details"},F0={dashboard:{title:"Admin Dashboard",systemOverview:"System Overview",totalUsers:"Total Users",totalOffices:"Total Offices",activeWorkflows:"Active Workflows",recentActivity:"Recent System Activity"},workflows:"Workflows",users:{title:"User Management",createUser:"Create New User",editUser:"Edit User",deleteUser:"Delete User",employeeId:"Employee ID",name:"Full Name",role:"Role",office:"Office",actions:"Actions"},offices:{title:"Office Management",createOffice:"Create New Office",editOffice:"Edit Office",deleteOffice:"Delete Office",officeName:"Office Name",officeNamePlaceholder:"Enter office name"},templates:"Templates",userManagement:"User Management",officeManagement:"Office Management",workflowManagement:"Workflow Management",templateManagement:"Template Management",settings:"Settings"},$0={studio:{title:"Workflow Studio",createNew:"Create New Workflow",steps:"Steps",addStep:"Add Step",stepName:"Step Name",stepType:"Step Type",approvalType:"Approval Type",order:"Order",estimatedDays:"Estimated Days",estimatedDuration:"Estimated Duration (hours)",description:"Description",required:"Required",canRunParallel:"Can run in parallel",workflowName:"Workflow Name",serviceCategory:"Service Category",selectWorkflow:"Select a workflow to edit",selectWorkflowDescription:"Choose a workflow from the list to view and edit its configuration"},stepTypes:{approval:"Approval",review:"Review",notification:"Notification",assignment:"Assignment",decision:"Decision"},admin:{title:"Workflow Management",description:"Create, edit, and manage workflow definitions for different service categories",createNew:"Create New Workflow",editWorkflow:"Edit Workflow",createWorkflow:"Create Workflow",createNewDescription:"Design a new workflow for service requests",search:"Search workflows",searchPlaceholder:"Enter workflow name...",filterByCategory:"Filter by Category",allCategories:"All Categories",name:"Name",category:"Category",steps:"Steps",lastModified:"Last Modified",noWorkflows:"No workflows found",noWorkflowsDescription:"Get started by creating your first workflow",createFirstWorkflow:"Create First Workflow",confirmDelete:"Are you sure you want to delete this workflow?",totalWorkflows:"Total Workflows",activeWorkflows:"Active Workflows",avgSteps:"Avg Steps",categories:"Categories",stepCount:"steps"},execution:{title:"Workflow Execution",start:"Start Workflow",pause:"Pause Workflow",resume:"Resume Workflow",cancel:"Cancel Workflow",complete:"Complete Step",approve:"Approve",reject:"Reject",currentStep:"Current Step",nextStep:"Next Step",progress:"Progress",estimatedTime:"Estimated Time",status:{running:"Running",paused:"Paused",completed:"Completed",failed:"Failed"}},validation:{title:"Workflow Validation",validating:"Validating workflow...",valid:"Workflow is valid!",invalid:"Workflow has validation errors",errors:"Errors",warnings:"Warnings",info:"Information",tips:"Validation Tips",revalidate:"Revalidate"},simulation:{title:"Workflow Simulator",startSimulation:"Start Simulation",reset:"Reset",running:"Running...",progress:"Progress",overallStatus:"Overall Status",stepDetails:"Step Details",formData:"Form Data",comments:"Comments",simulationSummary:"Simulation Summary",totalDuration:"Total Duration",stepsCompleted:"Steps Completed",successRate:"Success Rate"}},Y0={admin:{title:"Template Management",description:"Description",documentTemplates:"Document Templates",customFields:"Custom Fields",createTemplate:"Create Template",createField:"Create Field",editTemplate:"Edit Template",editField:"Edit Field",templateName:"Template Name",fileType:"File Type",version:"Version",isActive:"Is Active",fieldName:"Field Name",fieldLabel:"Field Label",fieldType:"Field Type",category:"Category",required:"Required",confirmDeleteTemplate:"Are you sure you want to delete this template?",confirmDeleteField:"Are you sure you want to delete this field?"}},X0={title:"Settings",general:"General",appearance:"Appearance",language:"Language",notifications:"Notifications",security:"Security",system:"System",appName:"Application Name",appLogo:"Application Logo",primaryColor:"Primary Color",secondaryColor:"Secondary Color",accentColor:"Accent Color",theme:"Theme",light:"Light",dark:"Dark",auto:"Auto",languageSelection:"Language Selection",english:"English",sinhala:"",tamil:"",saveSettings:"Save Settings",resetSettings:"Reset to Default",settingsSaved:"Settings saved successfully!",settingsReset:"Settings reset to default!"},Q0={businessNameRegistration:"Business Name Registration",treeFellingPermit:"Tree Felling Permit",eldersIdIssuance:"Elders ID Issuance",gramaNiladhariAttestation:"Grama Niladhari Attestation",nutritionCertificate:"Nutrition Certificate",revenueCertificate:"Revenue Certificate",sandMiningPermit:"Sand Mining Permit",scholarshipRecommendation:"Scholarship Recommendation",timberTransportPermit:"Timber Transport Permit",landAdministration:"Land Administration"},K0={frontDesk:"Front Desk",officer:"Officer",sectionHead:"Section Head",departmentHead:"Department Head",admin:"Admin"},Z0={general:"Something went wrong. Please try again.",network:"Network error. Please check your connection.",unauthorized:"You are not authorized to perform this action.",notFound:"The requested resource was not found.",validation:"Please check your input and try again.",fileUpload:"File upload failed. Please try again.",sessionExpired:"Your session has expired. Please login again."},P0={saved:"Changes saved successfully!",deleted:"Item deleted successfully!",created:"Item created successfully!",updated:"Item updated successfully!",uploaded:"File uploaded successfully!",exported:"Data exported successfully!"},J0={title:"Notifications",markAllRead:"Mark All as Read",noNotifications:"No notifications",newTask:"New task assigned",taskCompleted:"Task completed",workflowStarted:"Workflow started",approvalRequired:"Approval required"},W0={common:U0,auth:q0,navigation:L0,dashboard:H0,intake:B0,tasks:I0,taskDetail:V0,commandCenter:G0,admin:F0,workflow:$0,template:Y0,settings:X0,services:Q0,roles:K0,errors:Z0,success:P0,notifications:J0},ey={loading:" ...",error:"",success:"",cancel:" ",save:"",delete:"",edit:" ",view:"",create:"",update:" ",submit:" ",back:"",next:"",previous:"",close:"",confirm:" ",yes:"",no:"",search:"",filter:"",clear:"",download:" ",upload:" ",export:" ",import:" ",refresh:" ",settings:"",logout:"",profile:"",help:"",about:""},ty={login:"",loginTitle:"GovFlow   ",loginSubtitle:"  ",employeeId:" ",password:"",employeeIdPlaceholder:": FD001",passwordPlaceholder:"   ",loginButton:"",loginError:"    ",logoutConfirm:"    ?"},ay={dashboard:" ",newRequest:" ",myTasks:" ",commandCenter:" ",adminPanel:" ",workflows:" ",users:"",offices:"",templates:""},sy={title:" ",welcome:"  ",stats:{totalRequests:" ",pendingReview:"   ",completedToday:"   ",processingTime:"  "},recentActivity:" ",quickActions:" ",noActivity:"  "},ly={title:"  ",subtitle:"     ",citizenInfo:" ",nicNumber:"  ",nicPlaceholder:"   ",citizenName:" ",namePlaceholder:" ",citizenAddress:"",addressPlaceholder:" ",citizenContact:" ",contactPlaceholder:"  (10 )",serviceInfo:" ",serviceCategory:" ",serviceCategoryPlaceholder:"  ",preferredDateTime:"   ",initialDocuments:" ",documentsPresent:" ",documentsNotPresent:" ",submitRequest:"  ",submitting:" ...",requestSubmitted:"    !"},ny={title:" ",noTasks:" ",claimTask:" ",viewDetails:" ",priority:{low:"",medium:"",high:"",urgent:""},status:{new:"",inProgress:"",pendingReview:"   ",pendingApproval:"    ",correctionRequested:"  ",completed:"  ",rejected:"  "}},iy={title:" ",citizenInfo:" ",serviceInfo:" ",currentStep:" ",documents:"",history:"",actions:"",submitData:"  ",forward:"",approve:" ",reject:" ",requestCorrection:" ",comments:"",commentsPlaceholder:"  ...",rejectionReason:"  ",rejectionPlaceholder:"    ",correctionComment:" ",correctionPlaceholder:"       "},ry={title:" ",subtitle:"     ",searchPlaceholder:"SR , NIC,  ...",allStatuses:" ",allOffices:" ",noRequests:"      ",viewDetails:" "},cy={dashboard:{title:"  ",systemOverview:"  ",totalUsers:" ",totalOffices:" ",activeWorkflows:"  ",recentActivity:"  "},workflows:{title:"  ",createWorkflow:"   ",editWorkflow:"   ",deleteWorkflow:"  ",workflowDetails:"  ",noWorkflows:"    ",createFirstWorkflow:"    ",features:{title:"  Studio ",visualDesign:"   ",visualDesignDesc:"      drag-and-drop .",formBuilder:" ",formBuilderDesc:"   ,        .",documentManagement:" ",documentManagementDesc:"             .",approvalGates:"  ",approvalGatesDesc:"             .",officeAssignment:" ",officeAssignmentDesc:"            .",outputTemplates:" ",outputTemplatesDesc:",           ."}},users:{title:" ",createUser:"  ",editUser:"  ",deleteUser:" ",employeeId:" ",name:" ",role:"",office:"",actions:""},offices:{title:" ",createOffice:"  ",editOffice:"  ",deleteOffice:" ",officeName:" ",officeNamePlaceholder:"   "},templates:{title:" ",customFields:" ",documentTemplates:" "}},oy={title:"  Studio",workflowName:"  ",workflowNamePlaceholder:"    ",serviceCategory:" ",steps:"",addStep:"  ",stepName:" ",stepDescription:" ",approvalType:"  ",noApproval:"  ",sectionHead:" ",departmentHead:" ",formFields:" ",requiredDocuments:" ",addField:"  ",fieldType:" ",fieldLabel:" ",fieldName:" ",placeholder:" ",required:"",helpText:" ",validation:"",minLength:" ",maxLength:" ",minValue:" ",maxValue:" ",options:"",optionsPlaceholder:`1: 1
2: 2
3: 3`,saveWorkflow:"  ",cancel:" "},uy={title:"",general:"",appearance:"",language:"",notifications:"",security:"",system:"",appName:" ",appLogo:" ",primaryColor:" ",secondaryColor:" ",accentColor:" ",theme:"",light:"",dark:"",auto:"",languageSelection:" ",english:"English",sinhala:"",tamil:"",saveSettings:" ",resetSettings:"   ",settingsSaved:"   !",settingsReset:"     !"},dy={businessNameRegistration:"  ",treeFellingPermit:"  ",eldersIdIssuance:"   ",gramaNiladhariAttestation:"  ",nutritionCertificate:"  ",revenueCertificate:" ",sandMiningPermit:"  ",scholarshipRecommendation:" ",timberTransportPermit:"  ",landAdministration:" "},fy={frontDesk:" ",officer:"",sectionHead:" ",departmentHead:" ",admin:""},my={general:"  .   .",network:" .    .",unauthorized:"      .",notFound:"    .",validation:"      .",fileUpload:"    .   .",sessionExpired:"     .  ."},hy={saved:"   !",deleted:"    !",created:"   !",updated:"    !",uploaded:"    !",exported:"    !"},gy={common:ey,auth:ty,navigation:ay,dashboard:sy,intake:ly,tasks:ny,taskDetail:iy,commandCenter:ry,admin:cy,workflowStudio:oy,settings:uy,services:dy,roles:fy,errors:my,success:hy},py={loading:"...",error:"",success:"",cancel:" ",save:"",delete:"",edit:"",view:"",create:"",update:"",submit:"",back:"",next:"",previous:"",close:"",confirm:"",yes:"",no:"",search:"",filter:"",clear:"",download:"",upload:"",export:"",import:"",refresh:"",settings:"",logout:"",profile:"",help:"",about:""},xy={login:"",loginTitle:"GovFlow  ",loginSubtitle:"  ",employeeId:" ",password:"",employeeIdPlaceholder:".: FD001",passwordPlaceholder:"  ",loginButton:"",loginError:"    ",logoutConfirm:"    ?"},yy={dashboard:"",newRequest:" ",myTasks:" ",commandCenter:" ",adminPanel:" ",workflows:"",users:"",offices:"",templates:""},vy={title:"",welcome:" ",stats:{totalRequests:" ",pendingReview:" ",completedToday:" ",processingTime:"  "},recentActivity:" ",quickActions:" ",noActivity:"  "},by={title:"  ",subtitle:"    ",citizenInfo:" ",nicNumber:"   ",nicPlaceholder:"    ",citizenName:" ",namePlaceholder:" ",citizenAddress:"",addressPlaceholder:" ",citizenContact:" ",contactPlaceholder:"  (10 )",serviceInfo:" ",serviceCategory:" ",serviceCategoryPlaceholder:"  ",preferredDateTime:"   ",initialDocuments:" ",documentsPresent:" ",documentsNotPresent:" ",submitRequest:" ",submitting:"...",requestSubmitted:"  !"},jy={title:" ",noTasks:" ",claimTask:" ",viewDetails:" ",priority:{low:"",medium:"",high:"",urgent:""},status:{new:"",inProgress:"",pendingReview:" ",pendingApproval:" ",correctionRequested:" ",completed:"",rejected:""}},Ny={title:" ",citizenInfo:" ",serviceInfo:" ",currentStep:" ",documents:"",history:"",actions:"",submitData:" ",forward:"",approve:"",reject:"",requestCorrection:" ",comments:"",commentsPlaceholder:" ...",rejectionReason:" ",rejectionPlaceholder:"   ",correctionComment:" ",correctionPlaceholder:"     "},Sy={title:" ",subtitle:"   ",searchPlaceholder:"SR , NIC,  ...",allStatuses:" ",allOffices:" ",noRequests:"     ",viewDetails:" "},wy={dashboard:{title:" ",systemOverview:" ",totalUsers:" ",totalOffices:" ",activeWorkflows:"  ",recentActivity:"  "},workflows:{title:" ",createWorkflow:"  ",editWorkflow:" ",deleteWorkflow:" ",workflowDetails:" ",noWorkflows:"  ",createFirstWorkflow:"   ",features:{title:" Studio ",visualDesign:"  ",visualDesignDesc:"       drag-and-drop .",formBuilder:" ",formBuilderDesc:" ,      -  .",documentManagement:" ",documentManagementDesc:"         .",approvalGates:" ",approvalGatesDesc:"         .",officeAssignment:" ",officeAssignmentDesc:"        .",outputTemplates:" ",outputTemplatesDesc:",         ."}},users:{title:" ",createUser:"  ",editUser:" ",deleteUser:" ",employeeId:" ",name:" ",role:"",office:"",actions:""},offices:{title:" ",createOffice:"  ",editOffice:" ",deleteOffice:" ",officeName:" ",officeNamePlaceholder:"  "},templates:{title:" ",customFields:" ",documentTemplates:" "}},Cy={title:" Studio",workflowName:" ",workflowNamePlaceholder:"  ",serviceCategory:" ",steps:"",addStep:" ",stepName:" ",stepDescription:" ",approvalType:" ",noApproval:" ",sectionHead:" ",departmentHead:" ",formFields:" ",requiredDocuments:" ",addField:" ",fieldType:" ",fieldLabel:" ",fieldName:" ",placeholder:"",required:"",helpText:" ",validation:"",minLength:" ",maxLength:" ",minValue:" ",maxValue:" ",options:"",optionsPlaceholder:`1: 1
2: 2
3: 3`,saveWorkflow:" ",cancel:" "},Dy={title:"",general:"",appearance:"",language:"",notifications:"",security:"",system:"",appName:" ",appLogo:" ",primaryColor:" ",secondaryColor:"  ",accentColor:" ",theme:"",light:"",dark:"",auto:"",languageSelection:" ",english:"English",sinhala:"",tamil:"",saveSettings:" ",resetSettings:" ",settingsSaved:"  !",settingsReset:"  !"},Ay={businessNameRegistration:"  ",treeFellingPermit:"  ",eldersIdIssuance:"  ",gramaNiladhariAttestation:"  ",nutritionCertificate:" ",revenueCertificate:" ",sandMiningPermit:"  ",scholarshipRecommendation:" ",timberTransportPermit:"  ",landAdministration:" "},Ty={frontDesk:" ",officer:"",sectionHead:" ",departmentHead:" ",admin:""},Oy={general:"  .  .",network:" .   .",unauthorized:"     .",notFound:"  .",validation:"    .",fileUpload:"  .  .",sessionExpired:"  .  ."},Ry={saved:"  !",deleted:"  !",created:"  !",updated:"  !",uploaded:"  !",exported:"   !"},Ey={common:py,auth:xy,navigation:yy,dashboard:vy,intake:by,tasks:jy,taskDetail:Ny,commandCenter:Sy,admin:wy,workflowStudio:Cy,settings:Dy,services:Ay,roles:Ty,errors:Oy,success:Ry},ky={en:{translation:W0},si:{translation:gy},ta:{translation:Ey}};et.use(zh).use(p0).init({resources:ky,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});Ah();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xn(){return xn=Object.assign?Object.assign.bind():function(c){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(c[r]=o[r])}return c},xn.apply(this,arguments)}var $a;(function(c){c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE"})($a||($a={}));const sh="popstate";function _y(c){c===void 0&&(c={});function n(d,f){let{pathname:h="/",search:x="",hash:m=""}=xs(d.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),wo("",{pathname:h,search:x,hash:m},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function o(d,f){let h=d.document.querySelector("base"),x="";if(h&&h.getAttribute("href")){let m=d.location.href,g=m.indexOf("#");x=g===-1?m:m.slice(0,g)}return x+"#"+(typeof f=="string"?f:Ii(f))}function r(d,f){Ro(d.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(f)+")")}return zy(n,o,r,c)}function Ge(c,n){if(c===!1||c===null||typeof c>"u")throw new Error(n)}function Ro(c,n){if(!c){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function My(){return Math.random().toString(36).substr(2,8)}function lh(c,n){return{usr:c.state,key:c.key,idx:n}}function wo(c,n,o,r){return o===void 0&&(o=null),xn({pathname:typeof c=="string"?c:c.pathname,search:"",hash:""},typeof n=="string"?xs(n):n,{state:o,key:n&&n.key||r||My()})}function Ii(c){let{pathname:n="/",search:o="",hash:r=""}=c;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function xs(c){let n={};if(c){let o=c.indexOf("#");o>=0&&(n.hash=c.substr(o),c=c.substr(0,o));let r=c.indexOf("?");r>=0&&(n.search=c.substr(r),c=c.substr(0,r)),c&&(n.pathname=c)}return n}function zy(c,n,o,r){r===void 0&&(r={});let{window:d=document.defaultView,v5Compat:f=!1}=r,h=d.history,x=$a.Pop,m=null,g=y();g==null&&(g=0,h.replaceState(xn({},h.state,{idx:g}),""));function y(){return(h.state||{idx:null}).idx}function b(){x=$a.Pop;let O=y(),C=O==null?null:O-g;g=O,m&&m({action:x,location:M.location,delta:C})}function T(O,C){x=$a.Push;let H=wo(M.location,O,C);o&&o(H,O),g=y()+1;let Z=lh(H,g),Q=M.createHref(H);try{h.pushState(Z,"",Q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;d.location.assign(Q)}f&&m&&m({action:x,location:M.location,delta:1})}function A(O,C){x=$a.Replace;let H=wo(M.location,O,C);o&&o(H,O),g=y();let Z=lh(H,g),Q=M.createHref(H);h.replaceState(Z,"",Q),f&&m&&m({action:x,location:M.location,delta:0})}function S(O){let C=d.location.origin!=="null"?d.location.origin:d.location.href,H=typeof O=="string"?O:Ii(O);return H=H.replace(/ $/,"%20"),Ge(C,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,C)}let M={get action(){return x},get location(){return c(d,h)},listen(O){if(m)throw new Error("A history only accepts one active listener");return d.addEventListener(sh,b),m=O,()=>{d.removeEventListener(sh,b),m=null}},createHref(O){return n(d,O)},createURL:S,encodeLocation(O){let C=S(O);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:T,replace:A,go(O){return h.go(O)}};return M}var nh;(function(c){c.data="data",c.deferred="deferred",c.redirect="redirect",c.error="error"})(nh||(nh={}));function Uy(c,n,o){return o===void 0&&(o="/"),qy(c,n,o)}function qy(c,n,o,r){let d=typeof n=="string"?xs(n):n,f=rl(d.pathname||"/",o);if(f==null)return null;let h=Uh(c);Ly(h);let x=null;for(let m=0;x==null&&m<h.length;++m){let g=Ky(f);x=Xy(h[m],g)}return x}function Uh(c,n,o,r){n===void 0&&(n=[]),o===void 0&&(o=[]),r===void 0&&(r="");let d=(f,h,x)=>{let m={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};m.relativePath.startsWith("/")&&(Ge(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let g=Xa([r,m.relativePath]),y=o.concat(m);f.children&&f.children.length>0&&(Ge(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Uh(f.children,n,y,g)),!(f.path==null&&!f.index)&&n.push({path:g,score:$y(g,f.index),routesMeta:y})};return c.forEach((f,h)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))d(f,h);else for(let m of qh(f.path))d(f,h,m)}),n}function qh(c){let n=c.split("/");if(n.length===0)return[];let[o,...r]=n,d=o.endsWith("?"),f=o.replace(/\?$/,"");if(r.length===0)return d?[f,""]:[f];let h=qh(r.join("/")),x=[];return x.push(...h.map(m=>m===""?f:[f,m].join("/"))),d&&x.push(...h),x.map(m=>c.startsWith("/")&&m===""?"/":m)}function Ly(c){c.sort((n,o)=>n.score!==o.score?o.score-n.score:Yy(n.routesMeta.map(r=>r.childrenIndex),o.routesMeta.map(r=>r.childrenIndex)))}const Hy=/^:[\w-]+$/,By=3,Iy=2,Vy=1,Gy=10,Fy=-2,ih=c=>c==="*";function $y(c,n){let o=c.split("/"),r=o.length;return o.some(ih)&&(r+=Fy),n&&(r+=Iy),o.filter(d=>!ih(d)).reduce((d,f)=>d+(Hy.test(f)?By:f===""?Vy:Gy),r)}function Yy(c,n){return c.length===n.length&&c.slice(0,-1).every((r,d)=>r===n[d])?c[c.length-1]-n[n.length-1]:0}function Xy(c,n,o){let{routesMeta:r}=c,d={},f="/",h=[];for(let x=0;x<r.length;++x){let m=r[x],g=x===r.length-1,y=f==="/"?n:n.slice(f.length)||"/",b=Co({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),T=m.route;if(!b)return null;Object.assign(d,b.params),h.push({params:d,pathname:Xa([f,b.pathname]),pathnameBase:Wy(Xa([f,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(f=Xa([f,b.pathnameBase]))}return h}function Co(c,n){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[o,r]=Qy(c.path,c.caseSensitive,c.end),d=n.match(o);if(!d)return null;let f=d[0],h=f.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:r.reduce((g,y,b)=>{let{paramName:T,isOptional:A}=y;if(T==="*"){let M=x[b]||"";h=f.slice(0,f.length-M.length).replace(/(.)\/+$/,"$1")}const S=x[b];return A&&!S?g[T]=void 0:g[T]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:h,pattern:c}}function Qy(c,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),Ro(c==="*"||!c.endsWith("*")||c.endsWith("/*"),'Route path "'+c+'" will be treated as if it were '+('"'+c.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+c.replace(/\*$/,"/*")+'".'));let r=[],d="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,m)=>(r.push({paramName:x,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(r.push({paramName:"*"}),d+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":c!==""&&c!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),r]}function Ky(c){try{return c.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ro(!1,'The URL path "'+c+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),c}}function rl(c,n){if(n==="/")return c;if(!c.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,r=c.charAt(o);return r&&r!=="/"?null:c.slice(o)||"/"}function Zy(c,n){n===void 0&&(n="/");let{pathname:o,search:r="",hash:d=""}=typeof c=="string"?xs(c):c;return{pathname:o?o.startsWith("/")?o:Py(o,n):n,search:ev(r),hash:tv(d)}}function Py(c,n){let o=n.replace(/\/+$/,"").split("/");return c.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function yo(c,n,o,r){return"Cannot include a '"+c+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jy(c){return c.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Eo(c,n){let o=Jy(c);return n?o.map((r,d)=>d===o.length-1?r.pathname:r.pathnameBase):o.map(r=>r.pathnameBase)}function ko(c,n,o,r){r===void 0&&(r=!1);let d;typeof c=="string"?d=xs(c):(d=xn({},c),Ge(!d.pathname||!d.pathname.includes("?"),yo("?","pathname","search",d)),Ge(!d.pathname||!d.pathname.includes("#"),yo("#","pathname","hash",d)),Ge(!d.search||!d.search.includes("#"),yo("#","search","hash",d)));let f=c===""||d.pathname==="",h=f?"/":d.pathname,x;if(h==null)x=o;else{let b=n.length-1;if(!r&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),b-=1;d.pathname=T.join("/")}x=b>=0?n[b]:"/"}let m=Zy(d,x),g=h&&h!=="/"&&h.endsWith("/"),y=(f||h===".")&&o.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const Xa=c=>c.join("/").replace(/\/\/+/g,"/"),Wy=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),ev=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,tv=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function av(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}const Lh=["post","put","patch","delete"];new Set(Lh);const sv=["get",...Lh];new Set(sv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(c){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(c[r]=o[r])}return c},yn.apply(this,arguments)}const Xi=N.createContext(null),Hh=N.createContext(null),ya=N.createContext(null),Qi=N.createContext(null),Wt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Bh=N.createContext(null);function lv(c,n){let{relative:o}=n===void 0?{}:n;ol()||Ge(!1);let{basename:r,navigator:d}=N.useContext(ya),{hash:f,pathname:h,search:x}=Ki(c,{relative:o}),m=h;return r!=="/"&&(m=h==="/"?r:Xa([r,h])),d.createHref({pathname:m,search:x,hash:f})}function ol(){return N.useContext(Qi)!=null}function ul(){return ol()||Ge(!1),N.useContext(Qi).location}function Ih(c){N.useContext(ya).static||N.useLayoutEffect(c)}function va(){let{isDataRoute:c}=N.useContext(Wt);return c?vv():nv()}function nv(){ol()||Ge(!1);let c=N.useContext(Xi),{basename:n,future:o,navigator:r}=N.useContext(ya),{matches:d}=N.useContext(Wt),{pathname:f}=ul(),h=JSON.stringify(Eo(d,o.v7_relativeSplatPath)),x=N.useRef(!1);return Ih(()=>{x.current=!0}),N.useCallback(function(g,y){if(y===void 0&&(y={}),!x.current)return;if(typeof g=="number"){r.go(g);return}let b=ko(g,JSON.parse(h),f,y.relative==="path");c==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Xa([n,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[n,r,h,f,c])}const iv=N.createContext(null);function rv(c){let n=N.useContext(Wt).outlet;return n&&N.createElement(iv.Provider,{value:c},n)}function Vh(){let{matches:c}=N.useContext(Wt),n=c[c.length-1];return n?n.params:{}}function Ki(c,n){let{relative:o}=n===void 0?{}:n,{future:r}=N.useContext(ya),{matches:d}=N.useContext(Wt),{pathname:f}=ul(),h=JSON.stringify(Eo(d,r.v7_relativeSplatPath));return N.useMemo(()=>ko(c,JSON.parse(h),f,o==="path"),[c,h,f,o])}function cv(c,n){return ov(c,n)}function ov(c,n,o,r){ol()||Ge(!1);let{navigator:d}=N.useContext(ya),{matches:f}=N.useContext(Wt),h=f[f.length-1],x=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let g=ul(),y;if(n){var b;let O=typeof n=="string"?xs(n):n;m==="/"||(b=O.pathname)!=null&&b.startsWith(m)||Ge(!1),y=O}else y=g;let T=y.pathname||"/",A=T;if(m!=="/"){let O=m.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=Uy(c,{pathname:A}),M=hv(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},x,O.params),pathname:Xa([m,d.encodeLocation?d.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:Xa([m,d.encodeLocation?d.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),f,o,r);return n&&M?N.createElement(Qi.Provider,{value:{location:yn({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:$a.Pop}},M):M}function uv(){let c=yv(),n=av(c)?c.status+" "+c.statusText:c instanceof Error?c.message:JSON.stringify(c),o=c instanceof Error?c.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},n),o?N.createElement("pre",{style:d},o):null,null)}const dv=N.createElement(uv,null);class fv extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?N.createElement(Wt.Provider,{value:this.props.routeContext},N.createElement(Bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mv(c){let{routeContext:n,match:o,children:r}=c,d=N.useContext(Xi);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),N.createElement(Wt.Provider,{value:n},r)}function hv(c,n,o,r){var d;if(n===void 0&&(n=[]),o===void 0&&(o=null),r===void 0&&(r=null),c==null){var f;if(!o)return null;if(o.errors)c=o.matches;else if((f=r)!=null&&f.v7_partialHydration&&n.length===0&&!o.initialized&&o.matches.length>0)c=o.matches;else return null}let h=c,x=(d=o)==null?void 0:d.errors;if(x!=null){let y=h.findIndex(b=>b.route.id&&(x==null?void 0:x[b.route.id])!==void 0);y>=0||Ge(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,g=-1;if(o&&r&&r.v7_partialHydration)for(let y=0;y<h.length;y++){let b=h[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:T,errors:A}=o,S=b.route.loader&&T[b.route.id]===void 0&&(!A||A[b.route.id]===void 0);if(b.route.lazy||S){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((y,b,T)=>{let A,S=!1,M=null,O=null;o&&(A=x&&b.route.id?x[b.route.id]:void 0,M=b.route.errorElement||dv,m&&(g<0&&T===0?(bv("route-fallback"),S=!0,O=null):g===T&&(S=!0,O=b.route.hydrateFallbackElement||null)));let C=n.concat(h.slice(0,T+1)),H=()=>{let Z;return A?Z=M:S?Z=O:b.route.Component?Z=N.createElement(b.route.Component,null):b.route.element?Z=b.route.element:Z=y,N.createElement(mv,{match:b,routeContext:{outlet:y,matches:C,isDataRoute:o!=null},children:Z})};return o&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?N.createElement(fv,{location:o.location,revalidation:o.revalidation,component:M,error:A,children:H(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):H()},null)}var Gh=function(c){return c.UseBlocker="useBlocker",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c}(Gh||{}),Fh=function(c){return c.UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c}(Fh||{});function gv(c){let n=N.useContext(Xi);return n||Ge(!1),n}function pv(c){let n=N.useContext(Hh);return n||Ge(!1),n}function xv(c){let n=N.useContext(Wt);return n||Ge(!1),n}function $h(c){let n=xv(),o=n.matches[n.matches.length-1];return o.route.id||Ge(!1),o.route.id}function yv(){var c;let n=N.useContext(Bh),o=pv(),r=$h();return n!==void 0?n:(c=o.errors)==null?void 0:c[r]}function vv(){let{router:c}=gv(Gh.UseNavigateStable),n=$h(Fh.UseNavigateStable),o=N.useRef(!1);return Ih(()=>{o.current=!0}),N.useCallback(function(d,f){f===void 0&&(f={}),o.current&&(typeof d=="number"?c.navigate(d):c.navigate(d,yn({fromRouteId:n},f)))},[c,n])}const rh={};function bv(c,n,o){rh[c]||(rh[c]=!0)}function jv(c,n){c==null||c.v7_startTransition,c==null||c.v7_relativeSplatPath}function Vi(c){let{to:n,replace:o,state:r,relative:d}=c;ol()||Ge(!1);let{future:f,static:h}=N.useContext(ya),{matches:x}=N.useContext(Wt),{pathname:m}=ul(),g=va(),y=ko(n,Eo(x,f.v7_relativeSplatPath),m,d==="path"),b=JSON.stringify(y);return N.useEffect(()=>g(JSON.parse(b),{replace:o,state:r,relative:d}),[g,b,d,o,r]),null}function Nv(c){return rv(c.context)}function Ie(c){Ge(!1)}function Sv(c){let{basename:n="/",children:o=null,location:r,navigationType:d=$a.Pop,navigator:f,static:h=!1,future:x}=c;ol()&&Ge(!1);let m=n.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:m,navigator:f,static:h,future:yn({v7_relativeSplatPath:!1},x)}),[m,x,f,h]);typeof r=="string"&&(r=xs(r));let{pathname:y="/",search:b="",hash:T="",state:A=null,key:S="default"}=r,M=N.useMemo(()=>{let O=rl(y,m);return O==null?null:{location:{pathname:O,search:b,hash:T,state:A,key:S},navigationType:d}},[m,y,b,T,A,S,d]);return M==null?null:N.createElement(ya.Provider,{value:g},N.createElement(Qi.Provider,{children:o,value:M}))}function wv(c){let{children:n,location:o}=c;return cv(Do(n),o)}new Promise(()=>{});function Do(c,n){n===void 0&&(n=[]);let o=[];return N.Children.forEach(c,(r,d)=>{if(!N.isValidElement(r))return;let f=[...n,d];if(r.type===N.Fragment){o.push.apply(o,Do(r.props.children,f));return}r.type!==Ie&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Do(r.props.children,f)),o.push(h)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(c){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(c[r]=o[r])}return c},Gi.apply(this,arguments)}function Yh(c,n){if(c==null)return{};var o={},r=Object.keys(c),d,f;for(f=0;f<r.length;f++)d=r[f],!(n.indexOf(d)>=0)&&(o[d]=c[d]);return o}function Cv(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function Dv(c,n){return c.button===0&&(!n||n==="_self")&&!Cv(c)}const Av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ov="6";try{window.__reactRouterVersion=Ov}catch{}const Rv=N.createContext({isTransitioning:!1}),Ev="startTransition",ch=kx[Ev];function kv(c){let{basename:n,children:o,future:r,window:d}=c,f=N.useRef();f.current==null&&(f.current=_y({window:d,v5Compat:!0}));let h=f.current,[x,m]=N.useState({action:h.action,location:h.location}),{v7_startTransition:g}=r||{},y=N.useCallback(b=>{g&&ch?ch(()=>m(b)):m(b)},[m,g]);return N.useLayoutEffect(()=>h.listen(y),[h,y]),N.useEffect(()=>jv(r),[r]),N.createElement(Sv,{basename:n,children:o,location:x.location,navigationType:x.action,navigator:h,future:r})}const _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xh=N.forwardRef(function(n,o){let{onClick:r,relative:d,reloadDocument:f,replace:h,state:x,target:m,to:g,preventScrollReset:y,viewTransition:b}=n,T=Yh(n,Av),{basename:A}=N.useContext(ya),S,M=!1;if(typeof g=="string"&&Mv.test(g)&&(S=g,_v))try{let Z=new URL(window.location.href),Q=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),F=rl(Q.pathname,A);Q.origin===Z.origin&&F!=null?g=F+Q.search+Q.hash:M=!0}catch{}let O=lv(g,{relative:d}),C=qv(g,{replace:h,state:x,target:m,preventScrollReset:y,relative:d,viewTransition:b});function H(Z){r&&r(Z),Z.defaultPrevented||C(Z)}return N.createElement("a",Gi({},T,{href:S||O,onClick:M||f?r:H,ref:o,target:m}))}),zv=N.forwardRef(function(n,o){let{"aria-current":r="page",caseSensitive:d=!1,className:f="",end:h=!1,style:x,to:m,viewTransition:g,children:y}=n,b=Yh(n,Tv),T=Ki(m,{relative:b.relative}),A=ul(),S=N.useContext(Hh),{navigator:M,basename:O}=N.useContext(ya),C=S!=null&&Lv(T)&&g===!0,H=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,Z=A.pathname,Q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;d||(Z=Z.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&O&&(Q=rl(Q,O)||Q);const F=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ee=Z===H||!h&&Z.startsWith(H)&&Z.charAt(F)==="/",oe=Q!=null&&(Q===H||!h&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),ne={isActive:ee,isPending:oe,isTransitioning:C},U=ee?r:void 0,k;typeof f=="function"?k=f(ne):k=[f,ee?"active":null,oe?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof x=="function"?x(ne):x;return N.createElement(Xh,Gi({},b,{"aria-current":U,className:k,ref:o,style:V,to:m,viewTransition:g}),typeof y=="function"?y(ne):y)});var Ao;(function(c){c.UseScrollRestoration="useScrollRestoration",c.UseSubmit="useSubmit",c.UseSubmitFetcher="useSubmitFetcher",c.UseFetcher="useFetcher",c.useViewTransitionState="useViewTransitionState"})(Ao||(Ao={}));var oh;(function(c){c.UseFetcher="useFetcher",c.UseFetchers="useFetchers",c.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function Uv(c){let n=N.useContext(Xi);return n||Ge(!1),n}function qv(c,n){let{target:o,replace:r,state:d,preventScrollReset:f,relative:h,viewTransition:x}=n===void 0?{}:n,m=va(),g=ul(),y=Ki(c,{relative:h});return N.useCallback(b=>{if(Dv(b,o)){b.preventDefault();let T=r!==void 0?r:Ii(g)===Ii(y);m(c,{replace:T,state:d,preventScrollReset:f,relative:h,viewTransition:x})}},[g,m,y,r,d,o,c,f,h,x])}function Lv(c,n){n===void 0&&(n={});let o=N.useContext(Rv);o==null&&Ge(!1);let{basename:r}=Uv(Ao.useViewTransitionState),d=Ki(c,{relative:n.relative});if(!o.isTransitioning)return!1;let f=rl(o.currentLocation.pathname,r)||o.currentLocation.pathname,h=rl(o.nextLocation.pathname,r)||o.nextLocation.pathname;return Co(d.pathname,h)!=null||Co(d.pathname,f)!=null}var le=(c=>(c.FRONT_DESK="FrontDesk",c.OFFICER="Officer",c.SECTION_HEAD="SectionHead",c.DEPARTMENT_HEAD="DepartmentHead",c.ADMIN="Admin",c))(le||{});const Hv="GovFlow";le.FRONT_DESK,le.OFFICER,le.SECTION_HEAD,le.DEPARTMENT_HEAD,le.ADMIN;const il=[{id:"office1",name:"Land Registry Intake Section"},{id:"office2",name:"Land Survey Section"},{id:"office3",name:"Legal Review Section (Land)"},{id:"office4",name:"Business Permit Intake"},{id:"office5",name:"Business Inspection Unit"},{id:"office6",name:"Scholarship Desk"},{id:"office7",name:"Education Dept. Review"},{id:"office8",name:"Final Approval Office"}],Bv=[{id:"lsf1",name:"plotNumber",label:"Plot Number",type:"text",validationRules:{required:!0}},{id:"lsf2",name:"deedReference",label:"Deed Reference",type:"text",validationRules:{required:!0}}],Iv=[{id:"lsf3",name:"surveyDate",label:"Survey Date",type:"date",validationRules:{required:!0}},{id:"lsf4",name:"surveyorNotes",label:"Surveyor Notes",type:"textarea"}],Vv=[{id:"lsf5",name:"legalOpinion",label:"Legal Opinion",type:"textarea",validationRules:{required:!0}},{id:"lsf6",name:"meetsRegulations",label:"Meets All Regulations",type:"checkbox"}],Gv=[{id:"bpf1",name:"businessName",label:"Business Name",type:"text",validationRules:{required:!0}},{id:"bpf2",name:"businessType",label:"Type of Business",type:"text",validationRules:{required:!0}}],Fv=[{id:"bpf3",name:"inspectionDate",label:"Inspection Date",type:"date"},{id:"bpf4",name:"inspectionOutcome",label:"Inspection Outcome",type:"select",options:[{value:"pass",label:"Pass"},{value:"fail",label:"Fail"}]}];new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const $v=[{id:"wf_business_registration",name:"Business Registration Process",description:"Complete workflow for business registration including verification and approval",subjectId:"sub_business_registration",steps:[{id:"step_intake",name:"Initial Intake",description:"Collect basic business information and documents",sectionId:"sec_front_desk",officeId:"office_main",formFields:[{id:"field_business_name",label:"Business Name",name:"businessName",type:"text",required:!0,placeholder:"Enter business name"},{id:"field_business_type",label:"Business Type",name:"businessType",type:"select",required:!0,options:[{value:"sole_proprietorship",label:"Sole Proprietorship"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"llc",label:"Limited Liability Company"}]},{id:"field_business_address",label:"Business Address",name:"businessAddress",type:"textarea",required:!0,placeholder:"Enter complete business address"},{id:"field_business_plan",label:"Business Plan Document",name:"businessPlan",type:"file",required:!0,placeholder:"Upload business plan (PDF/DOC)"},{id:"field_identity_docs",label:"Identity Documents",name:"identityDocuments",type:"file",required:!0,placeholder:"Upload identity documents"}],requiredDocuments:["Business Plan","Identity Documents","Address Proof"],approvalType:"None",estimatedDuration:2},{id:"step_verification",name:"Document Verification",description:"Verify submitted documents and business information",sectionId:"sec_verification",officeId:"office_main",formFields:[{id:"field_verification_notes",label:"Verification Notes",name:"verificationNotes",type:"textarea",required:!1,placeholder:"Add verification notes"},{id:"field_documents_verified",label:"Documents Verified",name:"documentsVerified",type:"checkbox",required:!0},{id:"field_verification_report",label:"Verification Report",name:"verificationReport",type:"file",required:!0,placeholder:"Upload verification report"}],requiredDocuments:["Verification Report"],approvalType:"SectionHead",estimatedDuration:24},{id:"step_approval",name:"Department Approval",description:"Final approval by department head",sectionId:"sec_approval",officeId:"office_main",formFields:[{id:"field_approval_decision",label:"Approval Decision",name:"approvalDecision",type:"select",required:!0,options:[{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"pending_correction",label:"Pending Correction"}]},{id:"field_approval_comments",label:"Approval Comments",name:"approvalComments",type:"textarea",required:!1,placeholder:"Add approval comments"},{id:"field_approval_certificate",label:"Approval Certificate",name:"approvalCertificate",type:"file",required:!0,placeholder:"Upload approval certificate"}],requiredDocuments:["Approval Certificate"],approvalType:"DepartmentHead",estimatedDuration:48}],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf_license_renewal",name:"License Renewal Process",description:"Workflow for renewing business licenses",subjectId:"sub_license_renewal",steps:[{id:"step_renewal_intake",name:"Renewal Application",description:"Submit renewal application with updated information",sectionId:"sec_front_desk",officeId:"office_main",formFields:[{id:"field_current_license",label:"Current License Number",name:"currentLicenseNumber",type:"text",required:!0,placeholder:"Enter current license number"},{id:"field_renewal_reason",label:"Reason for Renewal",name:"renewalReason",type:"textarea",required:!0,placeholder:"Explain reason for renewal"}],requiredDocuments:["Current License","Updated Business Information"],approvalType:"None",estimatedDuration:1},{id:"step_renewal_review",name:"Renewal Review",description:"Review renewal application and verify compliance",sectionId:"sec_compliance",officeId:"office_main",formFields:[{id:"field_compliance_check",label:"Compliance Check",name:"complianceCheck",type:"checkbox",required:!0},{id:"field_compliance_notes",label:"Compliance Notes",name:"complianceNotes",type:"textarea",required:!1,placeholder:"Add compliance notes"}],requiredDocuments:["Compliance Report"],approvalType:"SectionHead",estimatedDuration:24},{id:"step_renewal_approval",name:"Renewal Approval",description:"Final approval for license renewal",sectionId:"sec_approval",officeId:"office_main",formFields:[{id:"field_renewal_decision",label:"Renewal Decision",name:"renewalDecision",type:"select",required:!0,options:[{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}]}],requiredDocuments:["Renewed License"],approvalType:"DepartmentHead",estimatedDuration:24}],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"}],Yv=[{id:"office_main",name:"Main Government Office"},{id:"office_branch1",name:"Branch Office 1"},{id:"office_branch2",name:"Branch Office 2"}],Xv=[{id:"sec_front_desk",name:"Front Desk",description:"Handles initial intake and customer service",officeId:"office_main",permissions:{canApprove:!1,canFillData:!0,canUploadDocuments:!0,canAssign:!1},services:["sub_business_registration","sub_license_renewal"],users:["user_fd001"]},{id:"sec_verification",name:"Verification Section",description:"Verifies documents and information",officeId:"office_main",permissions:{canApprove:!0,canFillData:!0,canUploadDocuments:!0,canAssign:!1},services:["sub_business_registration"],users:["user_sh001"]},{id:"sec_compliance",name:"Compliance Section",description:"Checks compliance with regulations",officeId:"office_main",permissions:{canApprove:!0,canFillData:!0,canUploadDocuments:!0,canAssign:!1},services:["sub_license_renewal"],users:["user_sh001"]},{id:"sec_approval",name:"Approval Section",description:"Final approval authority",officeId:"office_main",permissions:{canApprove:!0,canFillData:!1,canUploadDocuments:!1,canAssign:!0},services:["sub_business_registration","sub_license_renewal"],users:["user_dh001"]}],Qv=()=>{if(localStorage.getItem("govflow_workflows")||localStorage.setItem("govflow_workflows",JSON.stringify($v)),localStorage.getItem("govflow-offices")||localStorage.setItem("govflow-offices",JSON.stringify(Yv)),localStorage.getItem("govflow-sections")||localStorage.setItem("govflow-sections",JSON.stringify(Xv)),!localStorage.getItem("govflow-subjects")){const f=[{id:"sub_business_registration",name:"Business Registration"},{id:"sub_license_renewal",name:"License Renewal"},{id:"sub_new_request",name:"New Request"}];localStorage.setItem("govflow-subjects",JSON.stringify(f))}if(!localStorage.getItem("govflow-service-requests")){const f=[{id:"SR00001",serviceRequestData:{nicNumber:"123456789V",citizenName:"John Doe",citizenAddress:"123 Main Street, Colombo",citizenContact:"+94 11 2345678",subjectId:"sub_business_registration",preferredDateTime:"2024-01-15T10:00:00Z",initialDocumentsPresent:!0,businessName:"Tech Solutions Ltd",businessType:"corporation",businessAddress:"456 Business Avenue, Colombo"},status:"InProgress",currentStepId:"step_verification",assignedToOfficeId:"office_main",assignedToUserId:"user_of001",workflowDefinitionId:"wf_business_registration",createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z",history:[{stepId:"INTAKE",stepName:"Intake",userId:"user_fd001",userName:"Front Desk Officer",timestamp:"2024-01-15T09:00:00Z",action:"Service Request Created & Assigned",comment:"Assigned to Main Government Office",data:{businessName:"Tech Solutions Ltd",businessType:"corporation",businessAddress:"456 Business Avenue, Colombo"}},{stepId:"step_intake",stepName:"Initial Intake",userId:"user_of001",userName:"Office Officer",timestamp:"2024-01-15T10:30:00Z",action:"Data Submitted for Review/Approval",data:{businessName:"Tech Solutions Ltd",businessType:"corporation",businessAddress:"456 Business Avenue, Colombo"},documents:[{id:"doc_1",name:"business_plan.pdf",url:"blob:mock-url-1",uploadedAt:"2024-01-15T10:30:00Z",uploadedBy:"user_of001"},{id:"doc_2",name:"identity_documents.pdf",url:"blob:mock-url-2",uploadedAt:"2024-01-15T10:30:00Z",uploadedBy:"user_of001"}]}]}];localStorage.setItem("govflow-service-requests",JSON.stringify(f))}},Kv="http://localhost:4000/api",ms="password123";var bh,jh,Nh,Sh,wh,Ch;const Zv=[{id:"user1",nic:"123456789V",employeeId:"FD001",password:ms,name:"Kamal Silva",role:le.FRONT_DESK,officeId:"office1",officeName:(bh=il.find(c=>c.id==="office1"))==null?void 0:bh.name},{id:"user2",nic:"987654321V",employeeId:"OF001",password:ms,name:"Nimala Perera",role:le.OFFICER,officeId:"office1",officeName:(jh=il.find(c=>c.id==="office1"))==null?void 0:jh.name},{id:"user3",nic:"111222333V",employeeId:"SH001",password:ms,name:"Sunil Bandara",role:le.SECTION_HEAD,officeId:"office1",officeName:(Nh=il.find(c=>c.id==="office1"))==null?void 0:Nh.name},{id:"user4",nic:"444555666V",employeeId:"DH001",password:ms,name:"Geetha Kumari",role:le.DEPARTMENT_HEAD,officeId:"office8",officeName:(Sh=il.find(c=>c.id==="office8"))==null?void 0:Sh.name},{id:"user5",nic:"777888999V",employeeId:"ADM001",password:ms,name:"Admin User",role:le.ADMIN},{id:"user6",nic:"222333444V",employeeId:"OF002",password:ms,name:"Ravi Fernando",role:le.OFFICER,officeId:"office2",officeName:(wh=il.find(c=>c.id==="office2"))==null?void 0:wh.name},{id:"user7",nic:"555666777V",employeeId:"SH002",password:ms,name:"Saman Jayasinghe",role:le.SECTION_HEAD,officeId:"office2",officeName:(Ch=il.find(c=>c.id==="office2"))==null?void 0:Ch.name}],Qh=`${Kv}/auth`;async function Pv(c,n){const o=await fetch(`${Qh}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:c,password:n})});if(!o.ok)throw new Error("Login failed");return o.json()}async function uh(c){const n=await fetch(`${Qh}/me`,{headers:{Authorization:`Bearer ${c}`}});if(!n.ok)throw new Error("Failed to fetch user info");return n.json()}const Jv=()=>new Promise(c=>{setTimeout(()=>{c()},200)});Zv.filter(c=>{var n;return(n=c.subjectIds)==null?void 0:n.includes("new_request")});const Kh=N.createContext(void 0),Wv=({children:c})=>{const[n,o]=N.useState(null),[r,d]=N.useState(!0);N.useEffect(()=>{const x=localStorage.getItem("token");console.log("=== useAuth useEffect Debug ==="),console.log("Token exists:",!!x),console.log("Token value:",x?x.substring(0,20)+"...":"No token"),x?(async()=>{try{console.log("Fetching user info with token...");const g=await uh(x);console.log("User info received:",g),o(g||null)}catch(g){console.error("Session restore failed:",g),localStorage.removeItem("token")}finally{d(!1)}})():(console.log("No token found, setting loading to false"),d(!1))},[]);const f=async(x,m)=>{d(!0);try{const{token:g}=await Pv(x,m);localStorage.setItem("token",g);const y=await uh(g);o(y)}catch(g){throw console.error("Login failed:",g),o(null),localStorage.removeItem("token"),g}finally{d(!1)}},h=async()=>{d(!0);try{await Jv()}catch(x){console.error("Logout failed:",x)}finally{o(null),localStorage.removeItem("token"),d(!1)}};return s.jsx(Kh.Provider,{value:{user:n,loading:r,login:f,logout:h},children:c})},bt=()=>{const c=N.useContext(Kh);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c},Ui={language:"en",theme:"light",primaryColor:"#2563eb",secondaryColor:"#64748b",accentColor:"#f59e0b",appName:"GovFlow"},Zh=N.createContext(void 0),Ph=()=>{const c=N.useContext(Zh);return c||null},eb=({children:c})=>{const[n,o]=N.useState(()=>{const x=localStorage.getItem("govflow-settings");if(x)try{return{...Ui,...JSON.parse(x)}}catch{return Ui}return Ui});N.useEffect(()=>{if(localStorage.setItem("govflow-settings",JSON.stringify(n)),(async()=>{try{et.isInitialized?await et.changeLanguage(n.language):setTimeout(async()=>{try{await et.changeLanguage(n.language)}catch(m){console.warn("Failed to change language after delay:",m)}},100)}catch(m){console.warn("Failed to change language:",m)}})(),r(n.theme),d(n),n.favicon){let m=document.querySelector("link[rel*='icon']");m||(m=document.createElement("link"),m.rel="icon",document.head.appendChild(m)),m.type="image/x-icon",m.href=n.favicon}},[n]);const r=x=>{const m=document.documentElement;if(x==="auto"){const g=window.matchMedia("(prefers-color-scheme: dark)"),y=g.matches;m.classList.toggle("dark",y),g.addEventListener("change",b=>{m.classList.toggle("dark",b.matches)})}else m.classList.toggle("dark",x==="dark")},d=x=>{const m=document.documentElement;m.style.setProperty("--primary-color",x.primaryColor),m.style.setProperty("--secondary-color",x.secondaryColor),m.style.setProperty("--accent-color",x.accentColor)},f=x=>{o(m=>({...m,...x}))},h=()=>{o(Ui)};return s.jsx(Zh.Provider,{value:{settings:n,updateSettings:f,resetSettings:h},children:c})};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ab=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,r)=>r?r.toUpperCase():o.toLowerCase()),dh=c=>{const n=ab(c);return n.charAt(0).toUpperCase()+n.slice(1)},Jh=(...c)=>c.filter((n,o,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===o).join(" ").trim(),sb=c=>{for(const n in c)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=N.forwardRef(({color:c="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:d="",children:f,iconNode:h,...x},m)=>N.createElement("svg",{ref:m,...lb,width:n,height:n,stroke:c,strokeWidth:r?Number(o)*24/Number(n):o,className:Jh("lucide",d),...!f&&!sb(x)&&{"aria-hidden":"true"},...x},[...h.map(([g,y])=>N.createElement(g,y)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(c,n)=>{const o=N.forwardRef(({className:r,...d},f)=>N.createElement(nb,{ref:f,iconNode:n,className:Jh(`lucide-${tb(dh(c))}`,`lucide-${c}`,r),...d}));return o.displayName=dh(c),o};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qi=ve("activity",ib);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],cb=ve("archive",rb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wh=ve("arrow-left",ob);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fh=ve("bell",ub);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]],fb=ve("book-copy",db);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],gs=ve("building",mb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gb=ve("calendar",hb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vn=ve("circle-alert",pb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ht=ve("circle-check-big",xb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],vb=ve("circle-plus",yb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bn=ve("circle-x",bb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nb=ve("clipboard-list",jb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ft=ve("clock",Sb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Cb=ve("cloud-upload",wb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ab=ve("copy",Db);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ga=ve("download",Tb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pt=ve("eye",Ob);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Eb=ve("file-plus",Rb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ue=ve("file-text",kb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Mb=ve("file",_b);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ub=ve("funnel",zb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eg=ve("globe",qb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mh=ve("info",Lb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Bb=ve("layout-dashboard",Hb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Vb=ve("list-checks",Ib);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fb=ve("log-out",Gb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yb=ve("map-pin",$b);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],tg=ve("message-square",Xb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pa=ve("plus",Qb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hh=ve("printer",Kb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pb=ve("save",Zb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zi=ve("search",Jb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ej=ve("server",Wb);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jt=ve("settings",tj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sj=ve("shield-check",aj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dl=ve("square-pen",lj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xa=ve("trash-2",nj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ya=ve("trending-up",ij);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],To=ve("triangle-alert",rj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ag=ve("user",cj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cl=ve("users",oj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],gh=ve("workflow",uj);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ps=ve("x",dj),fj=()=>{const{user:c}=bt(),[n,o]=N.useState([]),[r,d]=N.useState(!1),[f,h]=N.useState(0);N.useEffect(()=>{if(!c)return;const A=[{id:"1",type:"info",title:"New Task Assigned",message:"You have been assigned a new land transfer request.",timestamp:new Date(Date.now()-1e3*60*30),read:!1,actionUrl:"/tasks"},{id:"2",type:"success",title:"Task Completed",message:"Land survey for request #LR001 has been completed successfully.",timestamp:new Date(Date.now()-1e3*60*60*2),read:!1,actionUrl:"/tasks/LR001"},{id:"3",type:"warning",title:"Document Missing",message:"Required documents are missing for request #BP002.",timestamp:new Date(Date.now()-1e3*60*60*4),read:!0,actionUrl:"/tasks/BP002"}];c.role==="Admin"&&A.push({id:"4",type:"info",title:"System Update",message:"New workflow template has been created.",timestamp:new Date(Date.now()-1e3*60*60*1),read:!1,actionUrl:"/admin/templates"}),c.role==="DepartmentHead"&&A.push({id:"5",type:"warning",title:"Escalation Required",message:"Request #LR003 requires your approval.",timestamp:new Date(Date.now()-1e3*60*60*3),read:!1,actionUrl:"/command-center/LR003"}),o(A),h(A.filter(S=>!S.read).length)},[c]);const x=A=>{o(S=>S.map(M=>M.id===A?{...M,read:!0}:M)),h(S=>Math.max(0,S-1))},m=()=>{o(A=>A.map(S=>({...S,read:!0}))),h(0)},g=A=>{o(S=>S.filter(M=>M.id!==A)),h(S=>{const M=n.find(O=>O.id===A);return M&&!M.read?Math.max(0,S-1):S})},y=A=>{switch(A){case"success":return s.jsx(Ht,{size:16,className:"text-green-500"});case"error":return s.jsx(vn,{size:16,className:"text-red-500"});case"warning":return s.jsx(vn,{size:16,className:"text-yellow-500"});case"info":return s.jsx(mh,{size:16,className:"text-blue-500"});default:return s.jsx(mh,{size:16,className:"text-gray-500"})}},b=A=>{const M=Math.floor((new Date().getTime()-A.getTime())/(1e3*60));if(M<1)return"Just now";if(M<60)return`${M}m ago`;const O=Math.floor(M/60);return O<24?`${O}h ago`:`${Math.floor(O/24)}d ago`},T=A=>{x(A.id),A.actionUrl&&(window.location.hash=A.actionUrl),d(!1)};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>d(!r),className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[s.jsx(fh,{size:20}),f>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f>9?"9+":f})]}),r&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f>0&&s.jsx("button",{onClick:m,className:"text-sm text-primary hover:text-primary-dark",children:"Mark all read"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ps,{size:16})})]})]})}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:n.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(fh,{size:24,className:"mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:n.map(A=>s.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${A.read?"":"bg-blue-50"}`,onClick:()=>T(A),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:y(A.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:b(A.timestamp)}),s.jsx("button",{onClick:S=>{S.stopPropagation(),g(A.id)},className:"text-gray-400 hover:text-red-500",children:s.jsx(ps,{size:12})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.message}),!A.read&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full"})})]})]})},A.id))})}),n.length>0&&s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>d(!1),className:"w-full text-sm text-primary hover:text-primary-dark",children:"View all notifications"})})]}),r&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]})},mj=()=>{const{user:c,logout:n}=bt(),o=Ph(),[r,d]=N.useState(!1),[f,h]=N.useState(!1),x=async()=>{try{await n()}catch(y){console.error("Logout failed:",y)}},m=y=>{o&&o.updateSettings({language:y}),h(!1)},g=y=>{switch(y){case"en":return"English";case"si":return"";case"ta":return"";default:return"English"}};return c?s.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"G"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:(o==null?void 0:o.settings.appName)||"GovFlow"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(fj,{}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!f),className:"flex items-center space-x-1 p-2 text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx(eg,{size:16}),s.jsx("span",{className:"text-sm",children:g((o==null?void 0:o.settings.language)||"en")})]}),f&&s.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>m("en"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"English"}),s.jsx("button",{onClick:()=>m("si"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:""}),s.jsx("button",{onClick:()=>m("ta"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:""})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>d(!r),className:"flex items-center space-x-2 p-2 text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx(ag,{size:16,className:"text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),s.jsx("p",{className:"text-xs text-gray-500",children:c.role})]})]}),r&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),s.jsx("p",{className:"text-xs text-gray-500",children:c.employeeId}),s.jsx("p",{className:"text-xs text-gray-500",children:c.role})]}),s.jsxs("button",{onClick:()=>{d(!1),c.role==="Admin"&&(window.location.hash="#/admin/settings")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(Jt,{size:16,className:"mr-2"}),"Settings"]}),s.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[s.jsx(Fb,{size:16,className:"mr-2"}),"Sign Out"]})]})})]})]})]}),(r||f)&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{d(!1),h(!1)}})]}):null},hj=[{path:"/dashboard",label:"Dashboard",icon:s.jsx(Bb,{size:20}),roles:[le.FRONT_DESK,le.OFFICER,le.SECTION_HEAD,le.DEPARTMENT_HEAD,le.ADMIN]},{path:"/intake/new",label:"New Request",icon:s.jsx(Eb,{size:20}),roles:[le.FRONT_DESK,le.OFFICER,le.SECTION_HEAD,le.DEPARTMENT_HEAD]},{path:"/tasks",label:"My Tasks",icon:s.jsx(Vb,{size:20}),roles:[le.OFFICER,le.SECTION_HEAD]},{path:"/command-center",label:"Command Center",icon:s.jsx(ej,{size:20}),roles:[le.DEPARTMENT_HEAD]},{path:"/admin",label:"Admin Panel",icon:s.jsx(Jt,{size:20}),roles:[le.ADMIN]},{path:"/admin/workflows",label:"Workflows",icon:s.jsx(Ue,{size:20}),roles:[le.ADMIN]},{path:"/admin/templates",label:"Templates",icon:s.jsx(Nb,{size:20}),roles:[le.ADMIN]},{path:"/admin/users",label:"Users",icon:s.jsx(cl,{size:20}),roles:[le.ADMIN]},{path:"/admin/offices",label:"Offices",icon:s.jsx(gs,{size:20}),roles:[le.ADMIN]},{path:"/admin/sections",label:"Sections",icon:s.jsx(gs,{size:20}),roles:[le.ADMIN]},{path:"/admin/subjects",label:"Subjects",icon:s.jsx(Ue,{size:20}),roles:[le.ADMIN]},{path:"/admin/settings",label:"Settings",icon:s.jsx(Jt,{size:20}),roles:[le.ADMIN]}],gj=()=>{const{user:c}=bt();if(!c)return null;const n="bg-primary text-white",o="text-gray-600 hover:bg-primary-light hover:text-primary-dark focus:ring-primary focus:ring-offset-1";return s.jsx("aside",{className:"w-64 bg-white shadow-lg h-full flex flex-col",children:s.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:hj.filter(r=>r.roles.includes(c.role)).map(r=>s.jsxs(zv,{to:r.path,className:({isActive:d})=>`flex items-center px-3 py-2.5 rounded-md text-sm font-medium transition-colors duration-150 ${d?n:o}`,children:[$i.cloneElement(r.icon,{className:"mr-3 flex-shrink-0"}),r.label]},r.path))})})},ke=({label:c,name:n,type:o="text",value:r,onChange:d,placeholder:f,required:h=!1,disabled:x=!1,error:m,className:g="",autoFocus:y=!1})=>s.jsxs("div",{className:g,children:[c&&s.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[c,h&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("input",{id:n,name:n,type:o,value:r,onChange:d,placeholder:f,required:h,disabled:x,autoFocus:y,className:`
          block w-full px-3 py-2 border rounded-md shadow-sm 
          focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary
          ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}
          ${x?"bg-gray-50 cursor-not-allowed":"bg-white"}
        `}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),te=({children:c,onClick:n,type:o="button",variant:r="primary",size:d="md",disabled:f=!1,className:h="",isLoading:x=!1})=>{const m="inline-flex items-center justify-center font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",g={primary:"bg-primary text-white hover:bg-primary-dark focus:ring-primary",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},b=f||x?"opacity-50 cursor-not-allowed":"";return s.jsxs("button",{type:o,onClick:n,disabled:f||x,className:`${m} ${g[r]} ${y[d]} ${b} ${h}`,children:[x&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})},sg=({type:c,message:n,onClose:o,className:r=""})=>{const d={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},f={success:"text-green-400",error:"text-red-400",warning:"text-yellow-400",info:"text-blue-400"};return s.jsx("div",{className:`border rounded-md p-4 ${d[c]} ${r}`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:n})}),o&&s.jsx("div",{className:"ml-auto pl-3",children:s.jsx("button",{onClick:o,className:`inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 ${f[c]}`,children:s.jsx(ps,{size:16})})})]})})},pj=()=>{const[c,n]=N.useState(""),[o,r]=N.useState(""),[d,f]=N.useState(null),{login:h,loading:x}=bt(),m=va(),g=async y=>{if(y.preventDefault(),f(null),!c){f("Employee ID is required.");return}if(!o){f("Password is required.");return}try{await h(c,o),m("/dashboard")}catch(b){f(b.message||"Login failed. Please check your credentials.")}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-light via-primary to-primary-dark py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(sj,{size:48,className:"text-primary"})}),s.jsx("h2",{className:"text-center text-4xl font-extrabold text-primary-dark",children:Hv}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your Divisional Sector Office account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[d&&s.jsx(sg,{type:"error",message:d,onClose:()=>f(null),className:"mb-4"}),s.jsx(ke,{label:"Employee ID",name:"employeeId",type:"text",value:c,onChange:y=>n(y.target.value),placeholder:"e.g., FD001",required:!0,autoFocus:!0}),s.jsx(ke,{label:"Password",name:"password",type:"password",value:o,onChange:y=>r(y.target.value),placeholder:"Enter your password",required:!0}),s.jsx("div",{children:s.jsx(te,{type:"submit",variant:"primary",className:"w-full",isLoading:x,children:"Sign In"})})]}),s.jsxs("div",{className:"text-center text-sm text-gray-500 mt-4",children:[s.jsx("p",{children:'Hint: Use Employee IDs like FD001, OF001, SH001, DH001, ADM001. Password for all mock users is "password123".'}),s.jsx("p",{className:"mt-1",children:"NIC is used for citizen service requests, not for officer login."})]})]})})},ue=({children:c,className:n="",title:o})=>s.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${n}`,children:[o&&s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o})}),s.jsx("div",{className:o?"":"p-6",children:c})]}),xj=({title:c,value:n,change:o,changeType:r="neutral",icon:d,color:f})=>{const h=()=>{switch(r){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},x=()=>{switch(r){case"positive":return"";case"negative":return"";default:return""}};return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:c}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n}),o&&s.jsxs("p",{className:`text-sm mt-1 ${h()}`,children:[s.jsx("span",{className:"mr-1",children:x()}),o]})]}),s.jsx("div",{className:`p-3 rounded-lg ${f}`,children:d})]})})},yj=()=>{const{user:c}=bt();if(!c)return null;const o=(()=>{switch(c.role){case le.FRONT_DESK:return[{title:"New Requests Today",value:12,change:"+15% from yesterday",changeType:"positive",icon:s.jsx(Ue,{size:24,className:"text-white"}),color:"bg-blue-500"},{title:"Pending Intake",value:3,change:"-2 from yesterday",changeType:"positive",icon:s.jsx(ft,{size:24,className:"text-white"}),color:"bg-yellow-500"},{title:"Completed Today",value:8,change:"+20% from yesterday",changeType:"positive",icon:s.jsx(Ht,{size:24,className:"text-white"}),color:"bg-green-500"},{title:"Average Processing Time",value:"2.3 days",change:"-0.5 days",changeType:"positive",icon:s.jsx(Ya,{size:24,className:"text-white"}),color:"bg-purple-500"}];case le.OFFICER:return[{title:"Assigned Tasks",value:7,change:"+2 from yesterday",changeType:"neutral",icon:s.jsx(Ue,{size:24,className:"text-white"}),color:"bg-blue-500"},{title:"In Progress",value:3,change:"No change",changeType:"neutral",icon:s.jsx(ft,{size:24,className:"text-white"}),color:"bg-yellow-500"},{title:"Completed This Week",value:15,change:"+3 from last week",changeType:"positive",icon:s.jsx(Ht,{size:24,className:"text-white"}),color:"bg-green-500"},{title:"Overdue Tasks",value:1,change:"-1 from yesterday",changeType:"positive",icon:s.jsx(To,{size:24,className:"text-white"}),color:"bg-red-500"}];case le.SECTION_HEAD:return[{title:"Section Tasks",value:24,change:"+5 from yesterday",changeType:"neutral",icon:s.jsx(Ue,{size:24,className:"text-white"}),color:"bg-blue-500"},{title:"Pending Approvals",value:6,change:"+2 from yesterday",changeType:"negative",icon:s.jsx(ft,{size:24,className:"text-white"}),color:"bg-yellow-500"},{title:"Section Performance",value:"94%",change:"+2% from last month",changeType:"positive",icon:s.jsx(Ya,{size:24,className:"text-white"}),color:"bg-green-500"},{title:"Team Members",value:8,change:"No change",changeType:"neutral",icon:s.jsx(cl,{size:24,className:"text-white"}),color:"bg-purple-500"}];case le.DEPARTMENT_HEAD:return[{title:"Total Requests",value:156,change:"+12 from yesterday",changeType:"positive",icon:s.jsx(Ue,{size:24,className:"text-white"}),color:"bg-blue-500"},{title:"Pending Approvals",value:8,change:"+3 from yesterday",changeType:"negative",icon:s.jsx(ft,{size:24,className:"text-white"}),color:"bg-yellow-500"},{title:"Department Performance",value:"91%",change:"+3% from last month",changeType:"positive",icon:s.jsx(Ya,{size:24,className:"text-white"}),color:"bg-green-500"},{title:"Active Offices",value:6,change:"No change",changeType:"neutral",icon:s.jsx(gs,{size:24,className:"text-white"}),color:"bg-purple-500"}];case le.ADMIN:return[{title:"Total Users",value:45,change:"+2 this month",changeType:"positive",icon:s.jsx(cl,{size:24,className:"text-white"}),color:"bg-blue-500"},{title:"Active Workflows",value:12,change:"+1 this week",changeType:"positive",icon:s.jsx(qi,{size:24,className:"text-white"}),color:"bg-green-500"},{title:"System Uptime",value:"99.9%",change:"+0.1% from last month",changeType:"positive",icon:s.jsx(Ya,{size:24,className:"text-white"}),color:"bg-purple-500"},{title:"Total Offices",value:8,change:"No change",changeType:"neutral",icon:s.jsx(gs,{size:24,className:"text-white"}),color:"bg-yellow-500"}];default:return[]}})();return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((r,d)=>s.jsx(xj,{title:r.title,value:r.value,change:r.change,changeType:r.changeType,icon:r.icon,color:r.color},d))})},vj=()=>{const{user:c,loading:n}=bt();if(console.log("=== DashboardPage Debug ==="),console.log("Loading:",n),console.log("User:",c),console.log("User role:",c==null?void 0:c.role),console.log("UserRole enum values:",Object.values(le)),console.log("Is user role valid?",c!=null&&c.role?Object.values(le).includes(c.role):"No user"),console.log("DashboardPage component is rendering"),n)return console.log("Showing loading state"),s.jsxs("div",{className:"flex justify-center items-center h-screen",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("div",{className:"ml-4 text-lg",children:"Loading dashboard..."})]});if(!c)return console.log("No user found, showing login prompt"),s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not logged in"}),s.jsx("p",{className:"text-gray-600",children:"Please log in to access the dashboard."}),s.jsx("button",{onClick:()=>window.location.hash="/login",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go to Login"})]})});if(!Object.values(le).includes(c.role))return console.log("Invalid user role:",c.role),s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:["Unknown role: ",c.role]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The user role is not recognized by the system."}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto max-w-2xl",children:JSON.stringify(c,null,2)})]})});console.log("User is valid, rendering dashboard content");const o=()=>{const h=new Date().getHours();let x="";return h<12?x="Good morning":h<17?x="Good afternoon":x="Good evening",`${x}, ${c.name}`},r=()=>{switch(c.role){case le.FRONT_DESK:return"Manage citizen service requests and intake processes";case le.OFFICER:return"Process assigned tasks and workflow steps";case le.SECTION_HEAD:return"Oversee section operations and approve tasks";case le.DEPARTMENT_HEAD:return"Monitor department performance and handle escalations";case le.ADMIN:return"Manage system configuration and user access";default:return"Welcome to GovFlow"}},d=()=>{switch(c.role){case le.FRONT_DESK:return[{title:"New Request",icon:s.jsx(Ue,{size:20}),href:"/intake/new",color:"bg-blue-500"},{title:"View Queue",icon:s.jsx(ft,{size:20}),href:"/dashboard",color:"bg-yellow-500"},{title:"Recent Activity",icon:s.jsx(qi,{size:20}),href:"/dashboard",color:"bg-green-500"}];case le.OFFICER:return[{title:"New Request",icon:s.jsx(Ue,{size:20}),href:"/intake/new",color:"bg-blue-500"},{title:"My Tasks",icon:s.jsx(Ue,{size:20}),href:"/tasks",color:"bg-green-500"},{title:"In Progress",icon:s.jsx(ft,{size:20}),href:"/tasks",color:"bg-yellow-500"}];case le.SECTION_HEAD:return[{title:"New Request",icon:s.jsx(Ue,{size:20}),href:"/intake/new",color:"bg-blue-500"},{title:"Section Tasks",icon:s.jsx(Ue,{size:20}),href:"/tasks",color:"bg-green-500"},{title:"Pending Approvals",icon:s.jsx(ft,{size:20}),href:"/tasks",color:"bg-yellow-500"}];case le.DEPARTMENT_HEAD:return[{title:"New Request",icon:s.jsx(Ue,{size:20}),href:"/intake/new",color:"bg-blue-500"},{title:"Command Center",icon:s.jsx(qi,{size:20}),href:"/command-center",color:"bg-green-500"},{title:"Department Stats",icon:s.jsx(Ya,{size:20}),href:"/command-center",color:"bg-purple-500"}];case le.ADMIN:return[{title:"User Management",icon:s.jsx(cl,{size:20}),href:"/admin/users",color:"bg-blue-500"},{title:"System Settings",icon:s.jsx(qi,{size:20}),href:"/admin/settings",color:"bg-green-500"},{title:"Workflow Management",icon:s.jsx(Ue,{size:20}),href:"/admin/workflows",color:"bg-purple-500"}];default:return[]}},f=()=>[{id:"1",type:"task_completed",title:"Land transfer request completed",description:"Request #LR001 has been successfully processed",timestamp:"2 hours ago",user:"Nimala Perera"},{id:"2",type:"task_assigned",title:"New task assigned",description:"Business permit application assigned to your section",timestamp:"4 hours ago",user:"System"},{id:"3",type:"approval_required",title:"Approval required",description:"Document verification requires your approval",timestamp:"6 hours ago",user:"Sunil Bandara"}];try{return console.log("Rendering dashboard content..."),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[s.jsx("strong",{children:"Debug:"})," Dashboard is rendering! User: ",c.name,", Role: ",c.role]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 rounded-lg p-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:o()}),s.jsx("p",{className:"text-blue-100 text-lg",children:r()}),s.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[s.jsx(gb,{size:16,className:"mr-2"}),s.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),s.jsx(yj,{}),s.jsx(ue,{title:"Quick Actions",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d().map((h,x)=>s.jsxs("button",{onClick:()=>window.location.hash=h.href,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`p-2 rounded-lg ${h.color} mr-3`,children:$i.cloneElement(h.icon,{className:"text-white"})}),s.jsx("span",{className:"font-medium text-gray-900",children:h.title})]},x))})}),s.jsx(ue,{title:"Recent Activity",children:s.jsx("div",{className:"space-y-4",children:f().map(h=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-shrink-0",children:[h.type==="task_completed"&&s.jsx(Ht,{size:20,className:"text-green-500"}),h.type==="task_assigned"&&s.jsx(Ue,{size:20,className:"text-blue-500"}),h.type==="approval_required"&&s.jsx(ft,{size:20,className:"text-yellow-500"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600",children:h.description}),s.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[s.jsx("span",{children:h.user}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{children:h.timestamp})]})]})]},h.id))})}),c.role===le.ADMIN&&s.jsx(ue,{title:"System Status",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"System Status"}),s.jsx("p",{className:"text-sm text-green-600",children:"All systems operational"})]}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Database"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Connected and healthy"})]}),s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})]})]})})]})}catch(h){return console.error("Error rendering dashboard:",h),s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Dashboard Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"An error occurred while rendering the dashboard."}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto max-w-2xl",children:h instanceof Error?h.message:"Unknown error"})]})})}},vt=({label:c,name:n,value:o,onChange:r,options:d,placeholder:f,required:h=!1,disabled:x=!1,error:m,className:g=""})=>s.jsxs("div",{className:g,children:[c&&s.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[c,h&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{id:n,name:n,value:o,onChange:r,required:h,disabled:x,className:`
          block w-full px-3 py-2 border rounded-md shadow-sm 
          focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary
          ${m?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}
          ${x?"bg-gray-50 cursor-not-allowed":"bg-white"}
        `,children:[f&&s.jsx("option",{value:"",disabled:!0,children:f}),d.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))]}),m&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m})]}),Fi=({label:c,name:n,value:o,onChange:r,placeholder:d,required:f=!1,disabled:h=!1,error:x,className:m="",rows:g=4,autoFocus:y=!1})=>s.jsxs("div",{className:m,children:[c&&s.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[c,f&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("textarea",{id:n,name:n,value:o,onChange:r,placeholder:d,required:f,disabled:h,autoFocus:y,rows:g,className:`
          block w-full px-3 py-2 border rounded-md shadow-sm 
          focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary
          ${x?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}
          ${h?"bg-gray-50 cursor-not-allowed":"bg-white"}
          resize-vertical
        `}),x&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]}),_o=({fields:c,onFilesChange:n,readOnly:o=!1})=>{const[r,d]=N.useState([]),[f,h]=N.useState(null),x=N.useRef({});console.log("FileUpload component rendered with fields:",c);const m=N.useCallback((A,S)=>{if(console.log("File input changed for field:",A,"Files:",S),h(null),!S||S.length===0){console.log("No files selected");return}const M=S[0];if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/","text/plain"].some(Z=>M.type.startsWith(Z))){h("Invalid file type. Please upload PDF, DOC, DOCX, Images, or TXT files.");return}const H=10*1024*1024;if(M.size>H){h("File too large. Maximum size is 10MB.");return}try{const Z={fieldId:A,file:M},Q=[...r.filter(ee=>ee.fieldId!==A),Z];d(Q);const F=Q.reduce((ee,oe)=>{const ne=c.find(U=>U.id===oe.fieldId);return ne&&(ee[ne.name]=oe.file),ee},{});console.log("Updated files record:",F),n(F)}catch(Z){console.error("Error processing file:",Z),h("Error processing file upload")}},[r,c,n]),g=A=>{console.log("Removing file for field:",A);try{const S=r.filter(C=>C.fieldId!==A);d(S);const M=x.current[A];M&&(M.value="");const O=S.reduce((C,H)=>{const Z=c.find(Q=>Q.id===H.fieldId);return Z&&(C[Z.name]=H.file),C},{});n(O)}catch(S){console.error("Error removing file:",S),h("Error removing file")}},y=A=>{const S=x.current[A];S&&!o&&S.click()},b=({field:A})=>{const S=r.find(M=>M.fieldId===A.id);return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:A.label}),A.placeholder&&s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:A.placeholder}),S?s.jsxs("div",{className:"mt-2 bg-gray-100 p-3 rounded-md flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mb,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.file.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(S.file.size/1024).toFixed(2)," KB)"]})]}),!o&&s.jsx("button",{onClick:()=>g(A.id),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:s.jsx(ps,{className:"h-5 w-5"})})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`p-6 border-2 border-dashed rounded-md cursor-pointer transition-colors
                ${o?"bg-gray-100 cursor-not-allowed border-gray-300":"border-gray-300 hover:border-blue-400"}
              `,onClick:()=>y(A.id),children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(Cb,{className:"h-10 w-10 text-gray-400 mb-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold text-blue-600",children:"Click to upload"})," or use the button below"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX, Images, TXT (Max 10MB)"}),A.required&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"* Required"})]})}),s.jsx("input",{ref:M=>{x.current[A.id]=M},type:"file",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg,.gif,.txt",onChange:M=>m(A.id,M.target.files),className:"hidden",disabled:o}),s.jsx("button",{type:"button",onClick:()=>y(A.id),disabled:o,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Select File"})]})]})},T=c.filter(A=>A.type==="file");return T.length===0?(console.log("No file fields found in FileUpload component"),null):(console.log("Rendering FileUpload with fields:",T),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b pb-2",children:"Required Documents"}),f&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-600",children:f})}),T.map(A=>s.jsx(b,{field:A},A.id))]}))},ct=[];for(let c=0;c<256;++c)ct.push((c+256).toString(16).slice(1));function bj(c,n=0){return(ct[c[n+0]]+ct[c[n+1]]+ct[c[n+2]]+ct[c[n+3]]+"-"+ct[c[n+4]]+ct[c[n+5]]+"-"+ct[c[n+6]]+ct[c[n+7]]+"-"+ct[c[n+8]]+ct[c[n+9]]+"-"+ct[c[n+10]]+ct[c[n+11]]+ct[c[n+12]]+ct[c[n+13]]+ct[c[n+14]]+ct[c[n+15]]).toLowerCase()}let vo;const jj=new Uint8Array(16);function Nj(){if(!vo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vo=crypto.getRandomValues.bind(crypto)}return vo(jj)}const Sj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ph={randomUUID:Sj};function lg(c,n,o){var d;if(ph.randomUUID&&!c)return ph.randomUUID();c=c||{};const r=c.random??((d=c.rng)==null?void 0:d.call(c))??Nj();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bj(r)}const wj={success:"bg-green-100 text-green-800 border-green-300",error:"bg-red-100 text-red-800 border-red-300",warning:"bg-yellow-100 text-yellow-800 border-yellow-300",info:"bg-blue-100 text-blue-800 border-blue-300",confirm:"bg-blue-50 text-blue-900 border-blue-300"},Cj={success:s.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),error:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),warning:s.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12A9 9 0 1 1 3 12a9 9 0 0 1 18 0z"})}),info:s.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01"})}),confirm:s.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01"})})},Qa=({type:c="info",message:n,show:o=!0,onClose:r,onConfirm:d,onCancel:f,confirmText:h="OK",cancelText:x="Cancel"})=>o?s.jsx("div",{className:`fixed top-8 left-1/2 transform -translate-x-1/2 z-50 border px-6 py-4 rounded shadow-lg min-w-[320px] max-w-[90vw] ${wj[c]}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"pt-1",children:Cj[c]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"block text-base font-medium mb-1",children:n}),c==="confirm"&&s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 focus:outline-none",onClick:d,children:h}),s.jsx("button",{className:"px-4 py-2 rounded bg-gray-300 text-gray-800 hover:bg-gray-400 focus:outline-none",onClick:f,children:x})]})]}),r&&s.jsx("button",{onClick:r,className:"ml-4 text-lg font-bold text-gray-500 hover:text-gray-700",children:""})]})}):null,Dj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState({}),[d,f]=N.useState({nicNumber:"",citizenName:"",citizenAddress:"",citizenContact:"",subjectId:"",preferredDateTime:"",documentsPresent:!1,additionalNotes:""}),[h,x]=N.useState(!1),m=va(),{t:g}=Bt(),[y,b]=N.useState(null);N.useEffect(()=>{const C=localStorage.getItem("govflow-subjects");C&&n(JSON.parse(C))},[]);const T=C=>{console.log("Files changed in intake:",C),r(C)},A=async C=>{var H;C.preventDefault(),x(!0);try{const Q=JSON.parse(localStorage.getItem("govflow_workflows")||"[]").find(ne=>ne.subjectId===d.subjectId);if(!Q){b({type:"error",message:"No workflow found for the selected subject. Please configure one in the Workflow Studio.",show:!0}),x(!1);return}const F=Object.entries(o).map(([ne,U])=>({id:`doc_${Date.now()}_${ne}`,name:U.name,url:URL.createObjectURL(U),uploadedAt:new Date().toISOString(),uploadedBy:"front-desk-user-id"})),ee={id:lg(),serviceRequestData:{nicNumber:d.nicNumber,citizenName:d.citizenName,citizenAddress:d.citizenAddress,citizenContact:d.citizenContact,subjectId:d.subjectId,preferredDateTime:d.preferredDateTime,initialDocumentsPresent:d.documentsPresent,additionalNotes:d.additionalNotes},status:"New",currentStepId:((H=Q.steps[0])==null?void 0:H.id)||"",workflowDefinitionId:Q.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{stepId:"intake",stepName:"Request Intake",userId:"front-desk-user-id",userName:"Front Desk Officer",timestamp:new Date().toISOString(),action:"Submitted",data:d,documents:F}]},oe=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]");oe.push(ee),localStorage.setItem("govflow-service-requests",JSON.stringify(oe)),await new Promise(ne=>setTimeout(ne,1e3)),b({type:"success",message:"Service request created successfully!",show:!0}),m("/dashboard")}catch(Z){console.error("Error submitting request:",Z),b({type:"error",message:"Failed to create service request.",show:!0})}finally{x(!1)}},S=(C,H)=>{f(Z=>({...Z,[C]:H}))},O=d.subjectId?{sub_business_registration:[{id:"intake_business_plan",label:"Business Plan",name:"businessPlan",type:"file",required:!0,placeholder:"Upload business plan document"},{id:"intake_identity_docs",label:"Identity Documents",name:"identityDocuments",type:"file",required:!0,placeholder:"Upload identity documents (NIC, Passport, etc.)"},{id:"intake_address_proof",label:"Address Proof",name:"addressProof",type:"file",required:!0,placeholder:"Upload address proof document"},{id:"intake_tax_clearance",label:"Tax Clearance Certificate",name:"taxClearance",type:"file",required:!0,placeholder:"Upload tax clearance certificate"},{id:"intake_additional_docs",label:"Additional Documents",name:"additionalDocuments",type:"file",required:!1,placeholder:"Upload any additional supporting documents"}],sub_license_renewal:[{id:"intake_current_license",label:"Current License",name:"currentLicense",type:"file",required:!0,placeholder:"Upload current license document"},{id:"intake_identity_docs",label:"Identity Documents",name:"identityDocuments",type:"file",required:!0,placeholder:"Upload identity documents (NIC, Passport, etc.)"},{id:"intake_address_proof",label:"Address Proof",name:"addressProof",type:"file",required:!0,placeholder:"Upload address proof document"},{id:"intake_compliance_cert",label:"Compliance Certificate",name:"complianceCertificate",type:"file",required:!0,placeholder:"Upload compliance certificate"},{id:"intake_additional_docs",label:"Additional Documents",name:"additionalDocuments",type:"file",required:!1,placeholder:"Upload any additional supporting documents"}],sub_new_request:[{id:"intake_identity_docs",label:"Identity Documents",name:"identityDocuments",type:"file",required:!0,placeholder:"Upload identity documents (NIC, Passport, etc.)"},{id:"intake_address_proof",label:"Address Proof",name:"addressProof",type:"file",required:!0,placeholder:"Upload address proof document"},{id:"intake_additional_docs",label:"Additional Documents",name:"additionalDocuments",type:"file",required:!1,placeholder:"Upload any additional supporting documents"}]}[d.subjectId]||[]:[];return s.jsxs("div",{className:"space-y-6",children:[y&&s.jsx(Qa,{type:y.type,message:y.message,show:y.show,onClose:()=>b(null)}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:g("intake.title")}),s.jsx("p",{className:"text-gray-600",children:g("intake.subtitle")})]}),s.jsxs("form",{onSubmit:A,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("intake.citizenInfo")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.nicNumber")}),s.jsx(ke,{value:d.nicNumber,onChange:C=>S("nicNumber",C.target.value),placeholder:g("intake.nicPlaceholder"),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.citizenName")}),s.jsx(ke,{value:d.citizenName,onChange:C=>S("citizenName",C.target.value),placeholder:g("intake.namePlaceholder"),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.citizenAddress")}),s.jsx(Fi,{value:d.citizenAddress,onChange:C=>S("citizenAddress",C.target.value),placeholder:g("intake.addressPlaceholder"),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.citizenContact")}),s.jsx(ke,{value:d.citizenContact,onChange:C=>S("citizenContact",C.target.value),placeholder:g("intake.contactPlaceholder"),required:!0})]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("intake.serviceInfo")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsx(vt,{value:d.subjectId,onChange:C=>S("subjectId",C.target.value),options:c.map(C=>({value:C.id,label:C.name})),placeholder:"Select a subject",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.preferredDateTime")}),s.jsx(ke,{type:"date",value:d.preferredDateTime,onChange:C=>S("preferredDateTime",C.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("intake.initialDocuments")}),s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:d.documentsPresent,onChange:C=>S("documentsPresent",C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Initial documents are present"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),s.jsx(Fi,{value:d.additionalNotes,onChange:C=>S("additionalNotes",C.target.value),placeholder:"Any additional information...",rows:3})]})]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Required Documents"}),s.jsx(_o,{fields:O,onFilesChange:T,readOnly:!1})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(te,{type:"button",variant:"secondary",onClick:()=>m("/dashboard"),children:"Cancel"}),s.jsx(te,{type:"submit",disabled:h,className:"flex items-center",children:h?"Creating Request...":"Create Service Request"})]})]})]})},Aj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState("all"),{t:d}=Bt(),f=va(),{user:h}=bt();N.useEffect(()=>{if(!h)return;const b=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]"),T=JSON.parse(localStorage.getItem("govflow_workflows")||"[]"),A=JSON.parse(localStorage.getItem("govflow-subjects")||"[]"),S=h.role===le.OFFICER||h.role===le.SECTION_HEAD,M=b.map(O=>{const C=T.find(F=>F.id===O.workflowDefinitionId),H=A.find(F=>F.id===O.serviceRequestData.subjectId),Z=C==null?void 0:C.steps.find(F=>F.id===O.currentStepId);if(!C||!H||!Z)return null;const Q=O.status!=="Completed"&&O.status!=="Rejected";return S&&Q?{id:O.id,serviceRequestId:O.id,serviceRequestNic:O.serviceRequestData.nicNumber,subjectName:H.name,currentStepName:Z.name,status:O.status,lastUpdate:O.updatedAt}:null}).filter(O=>O!==null);n(M)},[h]);const x=b=>{switch(b){case"completed":return s.jsx(Ht,{className:"h-5 w-5 text-green-600"});case"rejected":return s.jsx(bn,{className:"h-5 w-5 text-red-600"});case"in_progress":return s.jsx(ft,{className:"h-5 w-5 text-blue-600"});default:return s.jsx(vn,{className:"h-5 w-5 text-yellow-600"})}},m=b=>{switch(b){case"completed":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"in_progress":return"text-blue-600 bg-blue-100";default:return"text-yellow-600 bg-yellow-100"}},g=c.filter(b=>o==="all"?!0:b.status.toLowerCase().replace(" ","")===o.toLowerCase().replace(" ","")),y=(b,T)=>{console.log(`Task ${b} status changed to ${T}`),n(A=>A.map(S=>S.id===b?{...S,status:T}:S))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Tasks"}),s.jsx("p",{className:"text-gray-600",children:"Manage your assigned service requests"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("select",{value:o,onChange:b=>r(b.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Tasks"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),s.jsxs("div",{className:"grid gap-4",children:[g.map(b=>s.jsx(ue,{className:"p-6",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[x(b.status),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.subjectName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(b.status)}`,children:b.status.replace(/([A-Z])/g," $1").toUpperCase()})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Request ID"}),s.jsx("p",{className:"font-medium",children:b.serviceRequestId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Citizen NIC"}),s.jsx("p",{className:"font-medium",children:b.serviceRequestNic})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Current Step"}),s.jsx("p",{className:"font-medium",children:b.currentStepName})]})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Last updated: ",new Date(b.lastUpdate).toLocaleString()]}),s.jsxs("div",{className:"flex space-x-2",children:[b.status==="New"&&s.jsx(te,{size:"sm",onClick:()=>y(b.id,"InProgress"),children:"Acknowledge & Start"}),b.status==="InProgress"&&s.jsx(te,{size:"sm",onClick:()=>y(b.id,"Completed"),children:"Mark as Complete"}),s.jsx(te,{size:"sm",variant:"secondary",onClick:()=>f(`/tasks/${b.serviceRequestId}`),children:"View Details"})]})]})})},b.id)),g.length===0&&s.jsx(ue,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No tasks found for the selected filter."})})]})]})};class Tj{constructor(){this.templates=[],this.loadTemplates()}loadTemplates(){try{const n=localStorage.getItem("govflow_document_templates");n&&(this.templates=JSON.parse(n))}catch(n){console.error("Error loading templates:",n)}}refreshTemplates(){this.loadTemplates()}getTemplates(){return this.refreshTemplates(),this.templates}getTemplatesByCategory(n){return this.getTemplates().filter(o=>o.category===n&&o.isActive)}getTemplateById(n){return this.getTemplates().find(o=>o.id===n)||null}prepareDocumentData(n,o,r,d){return{customer:{name:n.customerName||"N/A",nic:n.customerNIC||"N/A",address:n.customerAddress||"N/A",contact:n.customerContact||"N/A",email:n.customerEmail||"N/A"},request:{id:n.id,subject:n.subject||"N/A",createdDate:new Date(n.createdAt).toLocaleDateString(),status:n.status,description:n.description||"N/A"},approval:{approvedBy:(d==null?void 0:d.approvedBy)||r.name,approvalDate:(d==null?void 0:d.approvalDate)||new Date().toLocaleDateString(),comments:(d==null?void 0:d.comments)||"No comments provided",conditions:(d==null?void 0:d.conditions)||"No special conditions"},system:{currentDate:new Date().toLocaleDateString(),office:r.office||"N/A",department:r.department||"N/A",officer:r.name}}}replaceVariables(n,o){let r=n;return Object.entries(o.customer).forEach(([d,f])=>{r=r.replace(new RegExp(`{{customer.${d}}}`,"g"),String(f))}),Object.entries(o.request).forEach(([d,f])=>{r=r.replace(new RegExp(`{{request.${d}}}`,"g"),String(f))}),Object.entries(o.approval).forEach(([d,f])=>{r=r.replace(new RegExp(`{{approval.${d}}}`,"g"),String(f))}),Object.entries(o.system).forEach(([d,f])=>{r=r.replace(new RegExp(`{{system.${d}}}`,"g"),String(f))}),r}generateDocument(n,o,r){const d=this.getTemplateById(n);if(!d)return console.error("Template not found:",n),null;const f=this.replaceVariables(d.content,o);return{id:`doc-${Date.now()}`,templateId:d.id,templateName:d.name,content:f,data:o,generatedAt:new Date().toISOString(),generatedBy:r,fileName:`${d.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`}}async generatePDF(n){try{const o=`
        <!DOCTYPE html>
        <html>
          <head>
            <title>${n.templateName}</title>
            <style>
              body { 
                font-family: Arial, sans-serif; 
                margin: 40px; 
                line-height: 1.6; 
                color: #333;
              }
              .header { 
                text-align: center; 
                margin-bottom: 30px; 
                border-bottom: 2px solid #333; 
                padding-bottom: 20px; 
              }
              .content { 
                margin: 20px 0; 
                white-space: pre-wrap;
              }
              .footer { 
                margin-top: 50px; 
                text-align: center; 
                font-size: 12px; 
                color: #666; 
                border-top: 1px solid #ccc;
                padding-top: 20px;
              }
              .document-info {
                background: #f8f9fa;
                padding: 15px;
                border-radius: 5px;
                margin-bottom: 20px;
                font-size: 12px;
              }
              .document-info table {
                width: 100%;
                border-collapse: collapse;
              }
              .document-info td {
                padding: 5px;
                border-bottom: 1px solid #eee;
              }
              .document-info td:first-child {
                font-weight: bold;
                width: 30%;
              }
              @media print { 
                body { margin: 20px; } 
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${n.templateName}</h1>
              <p>Generated on: ${new Date(n.generatedAt).toLocaleDateString()}</p>
            </div>
            
            <div class="document-info">
              <table>
                <tr>
                  <td>Document ID:</td>
                  <td>${n.id}</td>
                </tr>
                <tr>
                  <td>Request ID:</td>
                  <td>${n.data.request.id}</td>
                </tr>
                <tr>
                  <td>Customer:</td>
                  <td>${n.data.customer.name}</td>
                </tr>
                <tr>
                  <td>Generated By:</td>
                  <td>${n.generatedBy}</td>
                </tr>
              </table>
            </div>
            
            <div class="content">
              ${n.content.replace(/\n/g,"<br>")}
            </div>
            
            <div class="footer">
              <p>This document was generated by GovFlow System</p>
              <p>Document ID: ${n.id} | Generated: ${new Date(n.generatedAt).toLocaleString()}</p>
            </div>
          </body>
        </html>
      `;return new Blob([o],{type:"text/html"})}catch(o){return console.error("Error generating PDF:",o),null}}async downloadDocument(n){try{const o=await this.generatePDF(n);if(!o)throw new Error("Failed to generate PDF");const r=URL.createObjectURL(o),d=n.createElement("a");return d.href=r,d.download=n.fileName,n.body.appendChild(d),d.click(),n.body.removeChild(d),URL.revokeObjectURL(r),!0}catch(o){return console.error("Error downloading document:",o),!1}}async printDocument(n){try{const o=await this.generatePDF(n);if(!o)throw new Error("Failed to generate PDF");const r=URL.createObjectURL(o),d=window.open(r,"_blank");return d?(d.onload=()=>{d.print(),setTimeout(()=>{d.close(),URL.revokeObjectURL(r)},1e3)},!0):!1}catch(o){return console.error("Error printing document:",o),!1}}saveGeneratedDocument(n){try{const o=localStorage.getItem("govflow_generated_documents"),r=o?JSON.parse(o):[];r.push(n),localStorage.setItem("govflow_generated_documents",JSON.stringify(r))}catch(o){console.error("Error saving generated document:",o)}}getGeneratedDocuments(){try{const n=localStorage.getItem("govflow_generated_documents");return n?JSON.parse(n):[]}catch(n){return console.error("Error loading generated documents:",n),[]}}getDocumentsForRequest(n){return this.getGeneratedDocuments().filter(o=>o.data.request.id===n)}deleteGeneratedDocument(n){try{const r=this.getGeneratedDocuments().filter(d=>d.id!==n);return localStorage.setItem("govflow_generated_documents",JSON.stringify(r)),!0}catch(o){return console.error("Error deleting generated document:",o),!1}}getDocumentStats(){const n=this.getTemplates(),o=this.getGeneratedDocuments(),r=new Date;return r.setDate(r.getDate()-7),{totalTemplates:n.length,activeTemplates:n.filter(d=>d.isActive).length,totalGenerated:o.length,recentGenerated:o.filter(d=>new Date(d.generatedAt)>r).length}}}const Fa=new Tj,Oj=({serviceRequest:c,workflowDefinition:n,currentUser:o,approvalData:r,onDocumentGenerated:d})=>{var J;const[f,h]=N.useState([]),[x,m]=N.useState(""),[g,y]=N.useState([]),[b,T]=N.useState(!1),[A,S]=N.useState(!1),[M,O]=N.useState(null),[C,H]=N.useState(null);N.useEffect(()=>{Z(),Q()},[c.id]);const Z=()=>{const _=Fa.getTemplates();h(_)},Q=()=>{const _=Fa.getDocumentsForRequest(c.id);y(_)},F=async()=>{if(!x){H({type:"error",message:"Please select a template",show:!0});return}T(!0);try{const _=Fa.prepareDocumentData(c,n,o,r),Y=Fa.generateDocument(x,_,o.name);Y?(Fa.saveGeneratedDocument(Y),y(ae=>[...ae,Y]),m(""),d==null||d(Y),H({type:"success",message:"Document generated successfully!",show:!0})):H({type:"error",message:"Failed to generate document",show:!0})}catch(_){console.error("Error generating document:",_),H({type:"error",message:"Error generating document",show:!0})}finally{T(!1)}},ee=async _=>{T(!0);try{const Y=await Fa.downloadDocument(_);H(Y?{type:"success",message:"Document downloaded successfully!",show:!0}:{type:"error",message:"Failed to download document",show:!0})}catch(Y){console.error("Error downloading document:",Y),H({type:"error",message:"Error downloading document",show:!0})}finally{T(!1)}},oe=async _=>{T(!0);try{const Y=await Fa.printDocument(_);H(Y?{type:"success",message:"Document sent to printer!",show:!0}:{type:"error",message:"Failed to print document",show:!0})}catch(Y){console.error("Error printing document:",Y),H({type:"error",message:"Error printing document",show:!0})}finally{T(!1)}},ne=_=>{O(_),S(!0)},U=_=>{window.confirm("Are you sure you want to delete this document?")&&(Fa.deleteGeneratedDocument(_)?(y(ae=>ae.filter(D=>D.id!==_)),H({type:"success",message:"Document deleted successfully!",show:!0})):H({type:"error",message:"Failed to delete document",show:!0}))},k=()=>f.map(_=>({value:_.id,label:`${_.name} (${_.category})`})),V=_=>{const Y={approval:"bg-green-100 text-green-800",rejection:"bg-red-100 text-red-800",correction:"bg-yellow-100 text-yellow-800",certificate:"bg-blue-100 text-blue-800",license:"bg-purple-100 text-purple-800",permit:"bg-indigo-100 text-indigo-800",receipt:"bg-gray-100 text-gray-800",invoice:"bg-orange-100 text-orange-800",report:"bg-teal-100 text-teal-800",general:"bg-gray-100 text-gray-800"};return Y[_]||Y.general};return s.jsxs("div",{className:"space-y-6",children:[C&&s.jsx(Qa,{type:C.type,message:C.message,show:C.show,onClose:()=>H(null)}),s.jsxs(ue,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Document"}),s.jsx(Ue,{className:"h-5 w-5 text-blue-600"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(vt,{label:"Select Template",value:x,onChange:_=>m(_.target.value),options:[{value:"",label:"Choose a template..."},...k()],required:!0})}),s.jsx("div",{className:"flex items-end",children:s.jsxs(te,{onClick:F,disabled:!x||b,className:"w-full",children:[b?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Generate Document"]})})]}),x&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Template Preview:"})," ",(J=f.find(_=>_.id===x))==null?void 0:J.description]})})]}),g.length>0&&s.jsxs(ue,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generated Documents"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[g.length," document(s)"]})]}),s.jsx("div",{className:"space-y-3",children:g.map(_=>{var Y,ae;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ue,{className:"h-4 w-4 text-blue-600"}),s.jsx("h4",{className:"font-medium text-gray-900",children:_.templateName}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V(((Y=f.find(D=>D.id===_.templateId))==null?void 0:Y.category)||"general")}`,children:((ae=f.find(D=>D.id===_.templateId))==null?void 0:ae.category)||"general"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Generated on: ",new Date(_.generatedAt).toLocaleString()," by ",_.generatedBy]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["File: ",_.fileName]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(te,{onClick:()=>ne(_),variant:"secondary",size:"sm",title:"Preview Document",children:s.jsx(Pt,{className:"h-4 w-4"})}),s.jsx(te,{onClick:()=>ee(_),variant:"secondary",size:"sm",title:"Download PDF",disabled:b,children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(te,{onClick:()=>oe(_),variant:"secondary",size:"sm",title:"Print Document",disabled:b,children:s.jsx(hh,{className:"h-4 w-4"})}),s.jsx(te,{onClick:()=>U(_.id),variant:"secondary",size:"sm",title:"Delete Document",children:s.jsx(ps,{className:"h-4 w-4"})})]})]})},_.id)})})]}),A&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Document Preview"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{onClick:()=>ee(M),variant:"secondary",disabled:b,children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Download"]}),s.jsxs(te,{onClick:()=>oe(M),variant:"secondary",disabled:b,children:[s.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print"]}),s.jsx(te,{onClick:()=>S(!1),variant:"secondary",children:"Close"})]})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:s.jsxs("div",{className:"bg-white p-6 rounded shadow-sm",children:[s.jsxs("div",{className:"text-center mb-6 border-b pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:M.templateName}),s.jsxs("p",{className:"text-gray-600",children:["Generated on: ",new Date(M.generatedAt).toLocaleDateString()]})]}),s.jsx("div",{className:"prose max-w-none",children:M.content.split(`
`).map((_,Y)=>s.jsx("p",{className:"mb-2",children:_},Y))}),s.jsxs("div",{className:"text-center mt-8 pt-4 border-t text-sm text-gray-500",children:[s.jsx("p",{children:"This document was generated by GovFlow System"}),s.jsxs("p",{children:["Document ID: ",M.id]})]})]})})]})})]})},Rj=({fields:c,data:n,onDataChange:o})=>s.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx("h4",{className:"font-semibold text-gray-700",children:"Step Form"}),c.map(r=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:r.label}),s.jsx("input",{type:r.type,placeholder:r.placeholder,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]},r.id)),s.jsx("p",{className:"text-xs text-gray-500",children:"FormBuilder component placeholder."})]}),Ej=({viewMode:c})=>{const{serviceRequestId:n}=Vh(),o=va(),{t:r}=Bt(),{user:d}=bt(),[f,h]=N.useState(null),[x,m]=N.useState(null),[g,y]=N.useState(null),[b,T]=N.useState(null),[A,S]=N.useState({}),[M,O]=N.useState({}),[C,H]=N.useState(null),[Z,Q]=N.useState(""),[F,ee]=N.useState(!1);N.useEffect(()=>{if(!n)return;ee(!0);const k=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]"),V=JSON.parse(localStorage.getItem("govflow_workflows")||"[]"),J=JSON.parse(localStorage.getItem("govflow-subjects")||"[]"),_=k.find(Y=>Y.id===n);if(_){const Y=V.find(D=>D.id===_.workflowDefinitionId),ae=J.find(D=>D.id===_.serviceRequestData.subjectId);if(h(_),m(Y||null),y(ae||null),Y){const D=Y.steps.find(W=>W.id===_.currentStepId);T(D||null)}}ee(!1)},[n]);const oe=k=>{console.log("Task detail - Files changed:",k),O(k)},ne=async k=>{if(!f||!x||!b||!d){H({type:"error",message:"Service Request not found!",show:!0});return}ee(!0);try{const V=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]"),J=V.findIndex(me=>me.id===n);if(J===-1){H({type:"error",message:"Service Request not found!",show:!0}),ee(!1);return}const _=x.steps.findIndex(me=>me.id===b.id),Y=x.steps[_+1];let ae=f.status,D=b.id;k==="complete"?Y?(ae="InProgress",D=Y.id):ae="Completed":k==="reject"&&(ae="Rejected");const W=Object.entries(M).map(([me,j])=>({id:`doc_${Date.now()}_${me}`,name:j.name,url:URL.createObjectURL(j),uploadedAt:new Date().toISOString(),uploadedBy:d.id})),re={...f,status:ae,currentStepId:D,updatedAt:new Date().toISOString(),history:[...f.history,{stepId:b.id,stepName:b.name,userId:d.id,userName:d.name,timestamp:new Date().toISOString(),action:k,comment:Z,data:A,documents:W}],serviceRequestData:{...f.serviceRequestData,...A}};V[J]=re,localStorage.setItem("govflow-service-requests",JSON.stringify(V)),h(re),T(Y||null),Q(""),S({}),O({}),H({type:"success",message:`Request action '${k}' completed successfully!`,show:!0}),(ae==="Completed"||ae==="Rejected")&&o("/tasks")}catch(V){console.error("Error performing action:",V),H({type:"error",message:"Failed to update request.",show:!0})}finally{ee(!1)}};if(F)return s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!f||!x||!g)return s.jsxs(ue,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Service Request Not Found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"The requested service ID could not be found or is incomplete."}),s.jsx(te,{onClick:()=>o("/tasks"),className:"mt-4",children:"Back to Task Queue"})]});const U=()=>b?b.requiredDocuments.map((k,V)=>({id:`step_${b.id}_doc_${V}`,label:k,name:k.toLowerCase().replace(/\s+/g,"_"),type:"file",required:!0,placeholder:`Upload ${k}`})):[];return s.jsxs("div",{className:"space-y-6",children:[C&&s.jsx(Qa,{type:C.type,message:C.message,show:C.show,onClose:()=>H(null)}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(te,{variant:"secondary",size:"sm",onClick:()=>o(-1),children:[s.jsx(Wh,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Service Request: ",f.id.substring(0,8),"..."]}),s.jsx("p",{className:"text-gray-600",children:g.name})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",children:f.status})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Current Step: ",(b==null?void 0:b.name)||"N/A"]}),s.jsx("p",{className:"text-sm text-gray-600",children:b==null?void 0:b.description})]}),b&&b.formFields.length>0&&s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Complete Form"}),s.jsx(Rj,{fields:b.formFields,data:A,onDataChange:S})]}),b&&b.requiredDocuments.length>0&&s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Documents"}),s.jsx(_o,{fields:U(),onFilesChange:oe,readOnly:!1})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Documents"}),s.jsx(Oj,{serviceRequest:f,workflowDefinition:x,currentUser:d,approvalData:{approvedBy:d.name,approvalDate:new Date().toLocaleDateString(),comments:Z,conditions:"Standard approval conditions apply"},onDocumentGenerated:k=>{H({type:"success",message:`Document "${k.templateName}" generated successfully!`,show:!0})}})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Timeline"}),s.jsx("div",{className:"space-y-4",children:f.history.map((k,V)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 pt-1",children:s.jsx(Ht,{className:"w-5 h-5 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[k.stepName," - ",s.jsx("span",{className:"font-normal",children:k.action})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(k.timestamp).toLocaleString(),"  ",k.userName]}),k.comment&&s.jsx("p",{className:"text-sm mt-1 p-2 bg-gray-100 rounded",children:k.comment}),k.documents&&k.documents.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Uploaded documents:"}),s.jsx("div",{className:"space-y-1",children:k.documents.map((J,_)=>s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx(Ue,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:J.name})]},_))})]})]})]},V))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Citizen Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",f.serviceRequestData.citizenName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"NIC:"})," ",f.serviceRequestData.nicNumber]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contact:"})," ",f.serviceRequestData.citizenContact]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",f.serviceRequestData.citizenAddress]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Fi,{label:"Add a comment (optional)",value:Z,onChange:k=>Q(k.target.value),placeholder:"Provide details for your action..."}),s.jsx(te,{onClick:()=>ne("complete"),disabled:F||f.status==="Completed"||f.status==="Rejected",className:"w-full",children:b&&x.steps.indexOf(b)===x.steps.length-1?"Complete Request":"Complete & Forward"}),s.jsx(te,{variant:"danger",onClick:()=>ne("reject"),disabled:F||f.status==="Completed"||f.status==="Rejected",className:"w-full",children:"Reject Request"})]})]})]})]})]})},kj=({serviceRequest:c,workflowDefinition:n,onApprove:o,onReject:r,onRequestCorrection:d,onGenerateApprovalDocument:f})=>{const[h,x]=N.useState(null),[m,g]=N.useState(!1),[y,b]=N.useState(!1),[T,A]=N.useState(!1),[S,M]=N.useState(""),[O,C]=N.useState(""),[H,Z]=N.useState(""),Q=_=>{const Y=c.history.find(ae=>ae.stepId===_);return Y?Y.action.includes("Rejected")?"rejected":Y.action.includes("Approved")?"completed":Y.action.includes("Correction")?"correction_requested":Y.action.includes("Submitted")?"in_progress":"pending":"pending"},F=_=>{switch(_){case"completed":return s.jsx(Ht,{className:"h-6 w-6 text-green-500"});case"rejected":return s.jsx(bn,{className:"h-6 w-6 text-red-500"});case"in_progress":return s.jsx(ft,{className:"h-6 w-6 text-blue-500"});case"correction_requested":return s.jsx(vn,{className:"h-6 w-6 text-orange-500"});default:return s.jsx(ft,{className:"h-6 w-6 text-gray-400"})}},ee=(_,Y)=>{if(Y)return"border-blue-500 bg-blue-50 shadow-lg";switch(_){case"completed":return"border-green-500 bg-green-50 hover:bg-green-100";case"rejected":return"border-red-500 bg-red-50 hover:bg-red-100";case"in_progress":return"border-blue-500 bg-blue-50 hover:bg-blue-100";case"correction_requested":return"border-orange-500 bg-orange-50 hover:bg-orange-100";default:return"border-gray-300 bg-gray-50 hover:bg-gray-100"}},oe=_=>c.history.find(Y=>Y.stepId===_),ne=_=>{x(h===_?null:_)},U=()=>{h&&o&&(o(h,S),M(""),g(!1))},k=()=>{h&&O&&r&&(r(h,O),C(""),b(!1))},V=()=>{h&&H&&d&&(d(h,H),Z(""),A(!1))},J=()=>{h&&f&&f(h)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Workflow: ",n.name]}),s.jsxs("p",{className:"text-gray-600",children:["Request ID: ",c.id]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Citizen: ",c.serviceRequestData.citizenName," | NIC: ",c.serviceRequestData.nicNumber]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Overall Status"}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c.status==="Completed"?"bg-green-100 text-green-800":c.status==="Rejected"?"bg-red-100 text-red-800":c.status==="InProgress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]})]})}),s.jsxs(ue,{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Workflow Steps"}),s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:n.steps.map((_,Y)=>{if(Y<n.steps.length-1){const ae=60+Y*120,D=60+(Y+1)*120;return s.jsx("line",{x1:"50%",y1:ae,x2:"50%",y2:D,stroke:"#d1d5db",strokeWidth:"2",strokeDasharray:"5,5"},`line-${_.id}`)}return null})}),s.jsx("div",{className:"relative z-10 space-y-6",children:n.steps.map((_,Y)=>{const ae=Q(_.id),D=oe(_.id),W=h===_.id,re=c.currentStepId===_.id;return s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:`w-80 p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${ee(ae,W)}`,onClick:()=>ne(_.id),children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[F(ae),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Step ",Y+1,": ",_.name,re&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Current"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:_.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[s.jsxs("div",{children:["Status: ",ae.replace("_"," ")]}),s.jsxs("div",{children:["Duration: ",_.estimatedDuration||"N/A","h"]}),D&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:["Updated: ",new Date(D.timestamp).toLocaleDateString()]}),s.jsxs("div",{children:["By: ",D.userName]})]})]}),W&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{onClick:me=>{me.stopPropagation(),g(!0)},size:"sm",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(te,{onClick:me=>{me.stopPropagation(),b(!0)},size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700",children:[s.jsx(bn,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(te,{onClick:me=>{me.stopPropagation(),A(!0)},size:"sm",variant:"secondary",children:[s.jsx(tg,{className:"h-4 w-4 mr-1"}),"Request Correction"]}),ae==="completed"&&s.jsxs(te,{onClick:me=>{me.stopPropagation(),J()},size:"sm",variant:"secondary",children:[s.jsx(ga,{className:"h-4 w-4 mr-1"}),"Generate Document"]})]})})]})},_.id)})})]})]}),h&&(()=>{const _=n.steps.find(ae=>ae.id===h),Y=oe(h);return Q(h),s.jsxs(ue,{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Step Details: ",_==null?void 0:_.name]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(Y==null?void 0:Y.data)&&Object.keys(Y.data).length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Form Data"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:Object.entries(Y.data).map(([ae,D])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-medium text-gray-700",children:[ae,":"]}),s.jsx("span",{className:"text-gray-900",children:String(D)})]},ae))})]}),(Y==null?void 0:Y.documents)&&Y.documents.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Uploaded Documents"]}),s.jsx("div",{className:"space-y-2",children:Y.documents.map(ae=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:ae.name})]}),s.jsxs(te,{size:"sm",variant:"secondary",children:[s.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]})]},ae.id))})]})]}),Y&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Step History"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:Y.action}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(Y.timestamp).toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["By: ",Y.userName]}),Y.comment&&s.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Comment:"})," ",Y.comment]})]})]})]})})(),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Approve Step"}),s.jsx("textarea",{value:S,onChange:_=>M(_.target.value),placeholder:"Add approval comment (optional)...",className:"w-full p-3 border border-gray-300 rounded-lg mb-4",rows:3}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(te,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),s.jsx(te,{onClick:U,className:"bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Step"}),s.jsx("textarea",{value:O,onChange:_=>C(_.target.value),placeholder:"Provide rejection reason...",className:"w-full p-3 border border-gray-300 rounded-lg mb-4",rows:3,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(te,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),s.jsx(te,{onClick:k,disabled:!O.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Request Correction"}),s.jsx("textarea",{value:H,onChange:_=>Z(_.target.value),placeholder:"Describe what needs to be corrected...",className:"w-full p-3 border border-gray-300 rounded-lg mb-4",rows:3,required:!0}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(te,{variant:"secondary",onClick:()=>A(!1),children:"Cancel"}),s.jsx(te,{onClick:V,disabled:!H.trim(),className:"bg-orange-600 hover:bg-orange-700",children:"Request Correction"})]})]})})]})},_j=()=>{var U;const{serviceRequestId:c}=Vh(),[n,o]=N.useState(null),[r,d]=N.useState(null),[f,h]=N.useState([]),[x,m]=N.useState([]),[g,y]=N.useState([]),[b,T]=N.useState(!0),[A,S]=N.useState(!1),{t:M}=Bt(),O=va(),{user:C}=bt();N.useEffect(()=>{c&&H(c)},[c]);const H=async k=>{T(!0);try{const V=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]"),J=JSON.parse(localStorage.getItem("govflow_workflows")||"[]"),_=JSON.parse(localStorage.getItem("govflow-subjects")||"[]"),Y=JSON.parse(localStorage.getItem("govflow-offices")||"[]"),ae=JSON.parse(localStorage.getItem("govflow-users")||"[]"),D=V.find(re=>re.id===k);if(!D)throw new Error("Request not found");const W=J.find(re=>re.id===D.workflowDefinitionId);if(!W)throw new Error("Workflow not found");o(D),d(W),h(_),m(Y),y(ae)}catch(V){console.error("Error loading request data:",V)}finally{T(!1)}},Z=async(k,V)=>{var J;if(n)try{const _={...n,status:"Completed",updatedAt:new Date().toISOString(),history:[...n.history,{stepId:k,stepName:((J=r==null?void 0:r.steps.find(D=>D.id===k))==null?void 0:J.name)||"Unknown Step",userId:(C==null?void 0:C.id)||"",userName:(C==null?void 0:C.name)||"Unknown User",timestamp:new Date().toISOString(),action:"Approved by Department Head",comment:V||"Approved"}]},ae=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(D=>D.id===n.id?_:D);localStorage.setItem("govflow-service-requests",JSON.stringify(ae)),o(_)}catch(_){console.error("Error approving step:",_)}},Q=async(k,V)=>{var J;if(n)try{const _={...n,status:"Rejected",updatedAt:new Date().toISOString(),history:[...n.history,{stepId:k,stepName:((J=r==null?void 0:r.steps.find(D=>D.id===k))==null?void 0:J.name)||"Unknown Step",userId:(C==null?void 0:C.id)||"",userName:(C==null?void 0:C.name)||"Unknown User",timestamp:new Date().toISOString(),action:"Rejected by Department Head",comment:V}]},ae=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(D=>D.id===n.id?_:D);localStorage.setItem("govflow-service-requests",JSON.stringify(ae)),o(_)}catch(_){console.error("Error rejecting step:",_)}},F=async(k,V)=>{var J;if(n)try{const _={...n,status:"CorrectionRequested",updatedAt:new Date().toISOString(),history:[...n.history,{stepId:k,stepName:((J=r==null?void 0:r.steps.find(D=>D.id===k))==null?void 0:J.name)||"Unknown Step",userId:(C==null?void 0:C.id)||"",userName:(C==null?void 0:C.name)||"Unknown User",timestamp:new Date().toISOString(),action:"Correction Requested by Department Head",comment:V}]},ae=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(D=>D.id===n.id?_:D);localStorage.setItem("govflow-service-requests",JSON.stringify(ae)),o(_)}catch(_){console.error("Error requesting correction:",_)}},ee=k=>{var W;const V=r==null?void 0:r.steps.find(re=>re.id===k),J=n==null?void 0:n.history.find(re=>re.stepId===k),_=`
      APPROVAL DOCUMENT
      
      Service Request ID: ${n==null?void 0:n.id}
      Citizen Name: ${n==null?void 0:n.serviceRequestData.citizenName}
      NIC Number: ${n==null?void 0:n.serviceRequestData.nicNumber}
      Subject: ${(W=f.find(re=>re.id===(n==null?void 0:n.serviceRequestData.subjectId)))==null?void 0:W.name}
      
      Step: ${V==null?void 0:V.name}
      Approved By: ${C==null?void 0:C.name}
      Approval Date: ${new Date().toLocaleDateString()}
      Approval Time: ${new Date().toLocaleTimeString()}
      
      Comments: ${(J==null?void 0:J.comment)||"Approved"}
      
      This document certifies that the above step has been approved and the request can proceed to the next stage.
      
      Department Head Signature: _________________
      Date: _________________
    `,Y=new Blob([_],{type:"text/plain"}),ae=URL.createObjectURL(Y),D=document.createElement("a");D.href=ae,D.download=`approval_${n==null?void 0:n.id}_${k}.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(ae)};if(b)return s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!n||!r)return s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Request Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The requested service request could not be found."}),s.jsx(te,{onClick:()=>O("/command-center"),children:"Back to Command Center"})]})});const oe=f.find(k=>k.id===n.serviceRequestData.subjectId),ne=x.find(k=>k.id===n.assignedToOfficeId);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(te,{onClick:()=>O("/command-center"),variant:"secondary",className:"flex items-center",children:[s.jsx(Wh,{className:"h-4 w-4 mr-2"}),"Back to Command Center"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request Details"}),s.jsxs("p",{className:"text-gray-600",children:["Service Request ID: ",n.id]})]})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(te,{onClick:()=>S(!0),variant:"secondary",className:"flex items-center",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Generate Final Document"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(ue,{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(ag,{className:"h-5 w-5 mr-2"}),"Citizen Information"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:n.serviceRequestData.citizenName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NIC Number"}),s.jsx("p",{className:"text-gray-900",children:n.serviceRequestData.nicNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("p",{className:"text-gray-900",children:n.serviceRequestData.citizenAddress})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),s.jsx("p",{className:"text-gray-900",children:n.serviceRequestData.citizenContact})]})]})]}),s.jsxs(ue,{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Request Details"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),s.jsx("p",{className:"text-gray-900",children:(oe==null?void 0:oe.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Office"}),s.jsx("p",{className:"text-gray-900",children:(ne==null?void 0:ne.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n.status==="Completed"?"bg-green-100 text-green-800":n.status==="Rejected"?"bg-red-100 text-red-800":n.status==="InProgress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:n.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),s.jsx("p",{className:"text-gray-900",children:new Date(n.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),s.jsx("p",{className:"text-gray-900",children:new Date(n.updatedAt).toLocaleDateString()})]})]})]}),s.jsxs(ue,{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(Ht,{className:"h-5 w-5 mr-2"}),"Workflow Progress"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Steps"}),s.jsx("p",{className:"text-gray-900",children:r.steps.length})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Completed Steps"}),s.jsx("p",{className:"text-gray-900",children:n.history.filter(k=>k.action.includes("Approved")).length})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Step"}),s.jsx("p",{className:"text-gray-900",children:((U=r.steps.find(k=>k.id===n.currentStepId))==null?void 0:U.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Progress"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.history.filter(k=>k.action.includes("Approved")).length/r.steps.length*100}%`}})})]})]})]})]}),r&&s.jsx(kj,{serviceRequest:n,workflowDefinition:r,onApprove:Z,onReject:Q,onRequestCorrection:F,onGenerateApprovalDocument:ee}),s.jsxs(ue,{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Request History & Documents"}),s.jsx("div",{className:"space-y-4",children:n.history.map((k,V)=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:k.action}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.timestamp).toLocaleString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Step: ",k.stepName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",k.userName]})]})]}),k.comment&&s.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border-l-4 border-blue-400",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Comment:"})," ",k.comment]})}),k.documents&&k.documents.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(Ue,{className:"h-4 w-4 mr-1"}),"Uploaded Documents (",k.documents.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:k.documents.map((J,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[s.jsx(Ue,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:J.name}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(J.uploadedAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex space-x-1 ml-2",children:[s.jsx(te,{size:"sm",variant:"secondary",onClick:()=>{const Y=document.createElement("a");Y.href=J.url,Y.download=J.name,Y.click()},className:"p-1",children:s.jsx(ga,{className:"h-3 w-3"})}),s.jsx(te,{size:"sm",variant:"secondary",onClick:()=>{window.open(J.url,"_blank")},className:"p-1",children:s.jsx(Pt,{className:"h-3 w-3"})})]})]},_))})]}),k.data&&Object.keys(k.data).length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Form Data Submitted"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(k.data).map(([J,_])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600",children:[J.replace(/([A-Z])/g," $1").replace(/^./,Y=>Y.toUpperCase()),":"]}),s.jsx("span",{className:"ml-1 text-gray-800",children:typeof _=="boolean"?_?"Yes":"No":String(_)})]},J))})})]})]})]})},V))})]}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generate Final Approval Document"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"This will generate a comprehensive approval document for the entire request."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Document will include:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Citizen information and request details"}),s.jsx("li",{children:" Complete workflow progress"}),s.jsx("li",{children:" All approvals and comments"}),s.jsx("li",{children:" Final approval signature"}),s.jsx("li",{children:" Downloadable format"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(te,{variant:"secondary",onClick:()=>S(!1),children:"Cancel"}),s.jsxs(te,{onClick:()=>{const k=`
                    FINAL APPROVAL DOCUMENT
                    
                    Service Request ID: ${n.id}
                    Citizen Name: ${n.serviceRequestData.citizenName}
                    NIC Number: ${n.serviceRequestData.nicNumber}
                    Address: ${n.serviceRequestData.citizenAddress}
                    Contact: ${n.serviceRequestData.citizenContact}
                    
                    Subject: ${oe==null?void 0:oe.name}
                    Assigned Office: ${ne==null?void 0:ne.name}
                    
                    Request Status: ${n.status}
                    Created Date: ${new Date(n.createdAt).toLocaleDateString()}
                    Completed Date: ${new Date().toLocaleDateString()}
                    
                    WORKFLOW PROGRESS:
                    ${r.steps.map((Y,ae)=>{const D=n.history.find(W=>W.stepId===Y.id);return`${ae+1}. ${Y.name}: ${(D==null?void 0:D.action)||"Pending"}`}).join(`
`)}
                    
                    APPROVAL HISTORY:
                    ${n.history.map(Y=>`${Y.timestamp}: ${Y.action} by ${Y.userName}${Y.comment?` - ${Y.comment}`:""}`).join(`
`)}
                    
                    FINAL APPROVAL:
                    This request has been reviewed and approved by the Department Head.
                    
                    Department Head: ${C==null?void 0:C.name}
                    Approval Date: ${new Date().toLocaleDateString()}
                    Approval Time: ${new Date().toLocaleTimeString()}
                    
                    Signature: _________________
                    Date: _________________
                    
                    This document certifies that the above service request has been completed and approved.
                  `,V=new Blob([k],{type:"text/plain"}),J=URL.createObjectURL(V),_=document.createElement("a");_.href=J,_.download=`final_approval_${n.id}.txt`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(J),S(!1)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Generate Document"]})]})]})})]})},Mj=({serviceRequest:c,workflowDefinition:n,onStepClick:o,onApprove:r,onReject:d,onRequestCorrection:f})=>{const[h,x]=N.useState(null),[m,g]=N.useState(null),[y,b]=N.useState(""),[T,A]=N.useState(""),[S,M]=N.useState(null),O=U=>{const k=c.history.find(V=>V.stepId===U);return k?k.action.includes("Rejected")?"rejected":k.action.includes("Approved")?"completed":k.action.includes("Correction")?"correction_requested":k.action.includes("Submitted")?"in_progress":"pending":"pending"},C=U=>{switch(U){case"completed":return s.jsx(Ht,{className:"h-6 w-6 text-green-500"});case"rejected":return s.jsx(bn,{className:"h-6 w-6 text-red-500"});case"in_progress":return s.jsx(ft,{className:"h-6 w-6 text-blue-500"});case"correction_requested":return s.jsx(vn,{className:"h-6 w-6 text-orange-500"});default:return s.jsx(ft,{className:"h-6 w-6 text-gray-400"})}},H=U=>{switch(U){case"completed":return"border-green-500 bg-green-50";case"rejected":return"border-red-500 bg-red-50";case"in_progress":return"border-blue-500 bg-blue-50";case"correction_requested":return"border-orange-500 bg-orange-50";default:return"border-gray-300 bg-gray-50"}},Z=U=>c.history.find(k=>k.stepId===U),Q=U=>{const k=Z(U);return!k||!k.action.includes("Approved")&&!k.action.includes("Rejected")},F=U=>{x(h===U?null:U),o==null||o(U)},ee=()=>{if(h&&r){if(!Q(h)){M({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}r(h,y),b(""),x(null)}},oe=()=>{if(h&&T&&d){if(!Q(h)){M({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}d(h,T),A(""),x(null)}},ne=()=>{if(h&&y&&f){if(!Q(h)){M({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}f(h,y),b(""),x(null)}};return s.jsxs("div",{className:"space-y-6",children:[S&&s.jsx(Qa,{type:S.type,message:S.message,show:S.show,onClose:()=>M(null)}),s.jsx(ue,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflow Progress"}),s.jsxs("p",{className:"text-gray-600",children:["Service Request: ",c.id]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c.status==="Completed"?"bg-green-100 text-green-800":c.status==="Rejected"?"bg-red-100 text-red-800":c.status==="InProgress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]})]})}),s.jsxs(ue,{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Workflow Steps"}),s.jsx("div",{className:"space-y-4",children:n.steps.map((U,k)=>{const V=O(U.id),J=Z(U.id),_=c.currentStepId===U.id,Y=h===U.id,ae=Q(U.id);return s.jsxs("div",{className:"relative",children:[k<n.steps.length-1&&s.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-8 bg-gray-300"}),s.jsx("div",{className:`border-2 rounded-lg p-4 transition-all cursor-pointer ${H(V)} ${Y?"ring-2 ring-blue-500":""}`,onClick:()=>F(U.id),children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:C(V)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Step ",k+1,": ",U.name,_&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Current"}),!ae&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Processed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:D=>{D.stopPropagation(),g(m===U.id?null:U.id)},className:"text-gray-400 hover:text-gray-600",children:s.jsx(tg,{className:"h-4 w-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),F(U.id)},className:"text-gray-400 hover:text-gray-600",children:s.jsx(Pt,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.description}),J&&s.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[s.jsxs("div",{children:["Last updated: ",new Date(J.timestamp).toLocaleString()]}),s.jsxs("div",{children:["By: ",J.userName]}),s.jsxs("div",{children:["Action: ",J.action]}),J.comment&&s.jsxs("div",{children:["Comment: ",J.comment]})]}),Y&&s.jsxs("div",{className:"mt-4 p-4 bg-white rounded border",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Step Details"}),(J==null?void 0:J.data)&&Object.keys(J.data).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Form Data"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(J.data).map(([D,W])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[D,":"]})," ",String(W)]},D))})]}),(J==null?void 0:J.documents)&&J.documents.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Documents"}),s.jsx("div",{className:"space-y-1",children:J.documents.map(D=>s.jsxs("div",{className:"text-sm text-blue-600 hover:text-blue-800",children:[" ",D.name]},D.id))})]}),ae&&V==="in_progress"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(te,{onClick:ee,className:"bg-green-600 hover:bg-green-700",children:"Approve"}),s.jsx(te,{onClick:()=>g(U.id),variant:"secondary",children:"Request Correction"})]}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reject Step"}),s.jsx("textarea",{value:T,onChange:D=>A(D.target.value),placeholder:"Enter rejection reason...",className:"w-full p-2 border border-gray-300 rounded text-sm mb-2",rows:2}),s.jsx(te,{onClick:oe,disabled:!T.trim(),variant:"secondary",className:"bg-red-600 hover:bg-red-700 text-white",children:"Reject"})]})]})]})]})]})}),m===U.id&&s.jsxs("div",{className:"mt-2 p-4 bg-gray-50 rounded border",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Add Comment"}),s.jsx("textarea",{value:y,onChange:D=>b(D.target.value),placeholder:"Enter your comment...",className:"w-full p-2 border border-gray-300 rounded text-sm mb-3",rows:3}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(te,{onClick:ee,disabled:!y.trim(),className:"bg-green-600 hover:bg-green-700",children:"Approve with Comment"}),s.jsx(te,{onClick:ne,disabled:!y.trim(),variant:"secondary",children:"Request Correction"}),s.jsx(te,{onClick:()=>g(null),variant:"secondary",children:"Cancel"})]})]})]},U.id)})})]}),s.jsxs(ue,{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Workflow Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.steps.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Steps"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.steps.filter(U=>O(U.id)==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.steps.filter(U=>O(U.id)==="pending").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})]})]})]})},zj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState([]),[d,f]=N.useState([]),[h,x]=N.useState([]),[m,g]=N.useState([]),[y,b]=N.useState(null),[T,A]=N.useState("all"),[S,M]=N.useState("all"),[O,C]=N.useState("all"),[H,Z]=N.useState(""),[Q,F]=N.useState(null),[ee,oe]=N.useState("list"),{t:ne}=Bt(),U=va(),{user:k}=bt();N.useEffect(()=>{const j=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]"),G=JSON.parse(localStorage.getItem("govflow_workflows")||"[]"),B=JSON.parse(localStorage.getItem("govflow-subjects")||"[]"),$=JSON.parse(localStorage.getItem("govflow-offices")||"[]"),ie=JSON.parse(localStorage.getItem("govflow-users")||"[]");n(j),r(G),f(B),x($),g(ie)},[]);const V=j=>{switch(j){case"Completed":return"text-green-600 bg-green-100";case"Rejected":return"text-red-600 bg-red-100";case"InProgress":return"text-blue-600 bg-blue-100";case"PendingReview":return"text-purple-600 bg-purple-100";case"PendingApproval":return"text-orange-600 bg-orange-100";default:return"text-yellow-600 bg-yellow-100"}},J=j=>{switch(j){case"Completed":return s.jsx(Ht,{className:"h-4 w-4"});case"Rejected":return s.jsx(bn,{className:"h-4 w-4"});case"InProgress":return s.jsx(ft,{className:"h-4 w-4"});case"PendingReview":return s.jsx(Pt,{className:"h-4 w-4"});case"PendingApproval":return s.jsx(Ya,{className:"h-4 w-4"});default:return s.jsx(ft,{className:"h-4 w-4"})}},_=c.filter(j=>{const G=T==="all"||j.status===T,B=S==="all"||j.assignedToOfficeId===S,$=O==="all"||j.serviceRequestData.subjectId===O,ie=H===""||j.id.toLowerCase().includes(H.toLowerCase())||j.serviceRequestData.citizenName.toLowerCase().includes(H.toLowerCase())||j.serviceRequestData.nicNumber.includes(H);return G&&B&&$&&ie}),ae=(()=>{const j=c.length,G=c.filter(ce=>ce.status==="Completed").length,B=c.filter(ce=>ce.status==="InProgress").length,$=c.filter(ce=>ce.status==="PendingReview").length,ie=c.filter(ce=>ce.status==="PendingApproval").length,he=c.filter(ce=>ce.status==="Rejected").length;return{total:j,completed:G,inProgress:B,pendingReview:$,pendingApproval:ie,rejected:he,completionRate:j>0?Math.round(G/j*100):0}})(),D=j=>{F(j)},W=async(j,G)=>{if(!Q||!k){b({type:"error",message:"No request selected or user not authenticated",show:!0});return}try{const B=Q.history.find(ce=>ce.stepId===j);if(B&&(B.action==="Approved"||B.action==="Rejected")){b({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}const $={...Q,status:"InProgress",updatedAt:new Date().toISOString(),history:[...Q.history,{stepId:j,stepName:"Department Head Approval",userId:k.id,userName:k.name,timestamp:new Date().toISOString(),action:"Approved",comment:G||"Approved by Department Head",data:{},documents:[]}]},he=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(ce=>ce.id===Q.id?$:ce);localStorage.setItem("govflow-service-requests",JSON.stringify(he)),n(he),F($),b({type:"success",message:"Step approved successfully!",show:!0})}catch(B){console.error("Error approving step:",B),b({type:"error",message:"Failed to approve step. Please try again.",show:!0})}},re=async(j,G)=>{if(!Q||!k){b({type:"error",message:"No request selected or user not authenticated",show:!0});return}try{const B=Q.history.find(ce=>ce.stepId===j);if(B&&(B.action==="Approved"||B.action==="Rejected")){b({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}const $={...Q,status:"Rejected",updatedAt:new Date().toISOString(),history:[...Q.history,{stepId:j,stepName:"Department Head Approval",userId:k.id,userName:k.name,timestamp:new Date().toISOString(),action:"Rejected",comment:G,data:{},documents:[]}]},he=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(ce=>ce.id===Q.id?$:ce);localStorage.setItem("govflow-service-requests",JSON.stringify(he)),n(he),F($),b({type:"success",message:"Step rejected successfully!",show:!0})}catch(B){console.error("Error rejecting step:",B),b({type:"error",message:"Failed to reject step. Please try again.",show:!0})}},me=async(j,G)=>{if(!Q||!k){b({type:"error",message:"No request selected or user not authenticated",show:!0});return}try{const B=Q.history.find(ce=>ce.stepId===j);if(B&&(B.action==="Approved"||B.action==="Rejected")){b({type:"warning",message:"This step has already been processed and cannot be modified",show:!0});return}const $={...Q,status:"PendingReview",updatedAt:new Date().toISOString(),history:[...Q.history,{stepId:j,stepName:"Department Head Review",userId:k.id,userName:k.name,timestamp:new Date().toISOString(),action:"Correction Requested",comment:G,data:{},documents:[]}]},he=JSON.parse(localStorage.getItem("govflow-service-requests")||"[]").map(ce=>ce.id===Q.id?$:ce);localStorage.setItem("govflow-service-requests",JSON.stringify(he)),n(he),F($),b({type:"success",message:"Correction requested successfully!",show:!0})}catch(B){console.error("Error requesting correction:",B),b({type:"error",message:"Failed to request correction. Please try again.",show:!0})}};return s.jsxs("div",{className:"space-y-6",children:[y&&s.jsx(Qa,{type:y.type,message:y.message,show:y.show,onClose:()=>b(null)}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Command Center"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage all workflow processes"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(te,{onClick:()=>oe(ee==="list"?"graph":"list"),variant:"secondary",children:ee==="list"?"Graph View":"List View"}),s.jsxs(te,{children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ya,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.total})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ht,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.completed}),s.jsxs("p",{className:"text-sm text-gray-500",children:[ae.completionRate,"% completion rate"]})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(ft,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.inProgress})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.pendingReview})]})]})})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:H,onChange:j=>Z(j.target.value),placeholder:"Search by ID, name, or NIC...",className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:T,onChange:j=>A(j.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"InProgress",children:"In Progress"}),s.jsx("option",{value:"PendingReview",children:"Pending Review"}),s.jsx("option",{value:"PendingApproval",children:"Pending Approval"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office"}),s.jsxs("select",{value:S,onChange:j=>M(j.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Offices"}),h.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsxs("select",{value:O,onChange:j=>C(j.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Subjects"}),d.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(ue,{children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Service Requests (",_.length,")"]})}),s.jsxs("div",{className:"space-y-3",children:[_.map(j=>{const G=o.find(je=>je.id===j.workflowDefinitionId),B=d.find(je=>je.id===j.serviceRequestData.subjectId),$=h.find(je=>je.id===j.assignedToOfficeId),ie=G==null?void 0:G.steps.find(je=>je.id===j.currentStepId),he=j.history.reduce((je,se)=>je+(se.documents?se.documents.length:0),0),ce=j.history.filter(je=>je.documents&&je.documents.length>0).slice(-3).flatMap(je=>je.documents||[]);return s.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:bg-gray-50 ${(Q==null?void 0:Q.id)===j.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>D(j),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:["#",j.id]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V(j.status)}`,children:[J(j.status),s.jsx("span",{className:"ml-1",children:j.status})]}),he>0&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Ue,{className:"h-3 w-3 mr-1"}),he," docs"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Citizen:"})," ",j.serviceRequestData.citizenName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"NIC:"})," ",j.serviceRequestData.nicNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Subject:"})," ",(B==null?void 0:B.name)||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Office:"})," ",($==null?void 0:$.name)||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Current Step:"})," ",(ie==null?void 0:ie.name)||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Created:"})," ",new Date(j.createdAt).toLocaleDateString()]})]}),ce.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ue,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recent Documents"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[ce.slice(0,3).map((je,se)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",title:je.name,children:[s.jsx(Ue,{className:"h-3 w-3 mr-1"}),je.name.length>20?je.name.substring(0,20)+"...":je.name]},se)),ce.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["+",ce.length-3," more"]})]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[s.jsxs(te,{onClick:je=>{je.stopPropagation(),U(`/command-center/${j.id}`)},variant:"secondary",size:"sm",children:[s.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View Details"]}),he>0&&s.jsxs(te,{onClick:je=>{je.stopPropagation(),U(`/command-center/${j.id}`)},variant:"secondary",size:"sm",children:[s.jsx(Ue,{className:"h-4 w-4 mr-1"}),"View Docs"]})]})]})},j.id)}),_.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No requests found matching the current filters."})})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:Q?s.jsxs(ue,{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Workflow Details"}),(()=>{const j=o.find(G=>G.id===Q.workflowDefinitionId);return j?s.jsx(Mj,{serviceRequest:Q,workflowDefinition:j,onStepClick:G=>console.log("Step clicked:",G),onApprove:W,onReject:re,onRequestCorrection:me}):s.jsx("p",{className:"text-gray-500",children:"Workflow not found"})})()]}):s.jsx(ue,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Select a request to view workflow details"})]})})})]})]})},Uj=()=>{const[c,n]=N.useState({}),[o,r]=N.useState([]),d=va(),f=[{id:"test_identity",label:"Identity Documents",name:"identityDocuments",type:"file",required:!0,placeholder:"Upload identity documents (NIC, Passport, etc.)"},{id:"test_address",label:"Address Proof",name:"addressProof",type:"file",required:!0,placeholder:"Upload address proof document"},{id:"test_additional",label:"Additional Documents",name:"additionalDocuments",type:"file",required:!1,placeholder:"Upload any additional supporting documents"}],h=y=>{console.log("Test page - Files changed:",y),n(y);const b=`Files updated: ${Object.keys(y).length} files`;r(T=>[...T,b])},x=()=>{const y=[];y.push(" FileUpload component rendered successfully"),f.length>0?y.push(` ${f.length} file fields defined`):y.push(" No file fields defined"),Object.keys(c).length>0?(y.push(` ${Object.keys(c).length} files captured`),Object.entries(c).forEach(([b,T])=>{y.push(`  - ${b}: ${T.name} (${(T.size/1024).toFixed(2)} KB)`)})):y.push(" No files uploaded yet"),Object.entries(c).forEach(([b,T])=>{["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/","text/plain"].some(M=>T.type.startsWith(M))?y.push(` ${b}: Valid file type (${T.type})`):y.push(` ${b}: Invalid file type (${T.type})`)}),Object.entries(c).forEach(([b,T])=>{T.size<=10485760?y.push(` ${b}: File size OK (${(T.size/1024).toFixed(2)} KB)`):y.push(` ${b}: File too large (${(T.size/1024).toFixed(2)} KB > 10MB)`)}),r(y)},m=()=>{r([]),n({})},g=()=>{const y=document.createElement("input");y.type="file",y.accept=".pdf,.doc,.docx,.png,.jpg,.jpeg,.gif,.txt",y.onchange=b=>{const T=b.target.files;T&&T.length>0?r(A=>[...A,` File dialog test successful: ${T[0].name}`]):r(A=>[...A," File dialog test failed"])},y.click()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"File Upload Test Page"}),s.jsx("p",{className:"text-gray-600",children:"Test and debug file upload functionality"})]}),s.jsx(te,{variant:"secondary",onClick:()=>d("/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Upload Test"}),s.jsx(_o,{fields:f,onFilesChange:h,readOnly:!1}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(te,{onClick:x,className:"w-full",children:"Run Tests"}),s.jsx(te,{onClick:g,className:"w-full",children:"Test File Dialog"}),s.jsx(te,{variant:"secondary",onClick:m,className:"w-full",children:"Clear Results"})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Results"}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o.length>0?o.map((y,b)=>s.jsx("div",{className:`p-2 rounded text-sm ${y.startsWith("")?"bg-green-50 text-green-700":y.startsWith("")?"bg-red-50 text-red-700":y.startsWith("")?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-700"}`,children:y},b)):s.jsx("p",{className:"text-gray-500",children:'No test results yet. Click "Run Tests" to start.'})})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Debug Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Current Files State:"}),s.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify(c,null,2)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Field Definitions:"}),s.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify(f,null,2)})]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Testing Instructions"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("p",{children:'1. Try clicking the "Select File" button to test file dialog'}),s.jsx("p",{children:"2. Try uploading different file types (PDF, DOC, DOCX, Images, TXT)"}),s.jsx("p",{children:"3. Test file size limits (max 10MB)"}),s.jsx("p",{children:"4. Check browser console for detailed logs"}),s.jsx("p",{children:"5. Run tests to see validation results"}),s.jsx("p",{children:"6. If file dialog doesn't open, check browser permissions"})]})]})]})},qj=()=>{const{t:c}=Bt(),n=[{title:c("admin.dashboard.totalUsers"),value:"156",icon:cl,color:"text-blue-600",bgColor:"bg-blue-100",change:"+12%",changeType:"positive"},{title:c("admin.dashboard.totalOffices"),value:"24",icon:gs,color:"text-green-600",bgColor:"bg-green-100",change:"+2",changeType:"positive"},{title:c("admin.dashboard.activeWorkflows"),value:"89",icon:gh,color:"text-purple-600",bgColor:"bg-purple-100",change:"+5%",changeType:"positive"},{title:"Pending Approvals",value:"12",icon:To,color:"text-orange-600",bgColor:"bg-orange-100",change:"-3",changeType:"negative"}],o=[{id:1,type:"user_created",message:'New user "John Doe" created',time:"2 hours ago",user:"Admin"},{id:2,type:"workflow_updated",message:"Business registration workflow updated",time:"4 hours ago",user:"Admin"},{id:3,type:"office_created",message:'New office "Gampaha DS" added',time:"6 hours ago",user:"Admin"},{id:4,type:"system_alert",message:"System backup completed successfully",time:"8 hours ago",user:"System"}],r=[{title:"Manage Users",description:"Add, edit, or remove system users",icon:cl,href:"/admin/users",color:"text-blue-600"},{title:"Manage Offices",description:"Configure office locations and settings",icon:gs,href:"/admin/offices",color:"text-green-600"},{title:"Workflow Management",description:"Create and configure service workflows",icon:gh,href:"/admin/workflows",color:"text-purple-600"},{title:"Manage Subjects",description:"Define subjects like Land Registry, Business Registration, etc.",icon:fb,href:"/admin/subjects",color:"text-teal-600"},{title:"Manage Sections",description:"Configure workflow sections, permissions, and users",icon:Jt,href:"/admin/sections",color:"text-orange-600"},{title:"System Settings",description:"Configure system preferences and branding",icon:Jt,href:"/admin/settings",color:"text-gray-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:c("admin.dashboard.title")}),s.jsx("p",{className:"text-gray-600",children:c("admin.dashboard.systemOverview")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((d,f)=>{const h=d.icon;return s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.title}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.value}),s.jsxs("p",{className:`text-sm ${d.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[d.change," from last month"]})]}),s.jsx("div",{className:`p-3 rounded-lg ${d.bgColor}`,children:s.jsx(h,{className:`h-6 w-6 ${d.color}`})})]})},f)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c("admin.dashboard.recentActivity")}),s.jsx("div",{className:"space-y-4",children:o.map(d=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:d.message}),s.jsxs("p",{className:"text-xs text-gray-500",children:[d.time,"  ",d.user]})]})]},d.id))})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:r.map((d,f)=>{const h=d.icon;return s.jsxs(te,{variant:"secondary",className:"w-full justify-start h-auto p-4",onClick:()=>window.location.href=d.href,children:[s.jsx(h,{className:`h-5 w-5 mr-3 ${d.color}`}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:d.title}),s.jsx("div",{className:"text-sm text-gray-500",children:d.description})]})]},f)})})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Health"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(Ya,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-green-900",children:"System Status"}),s.jsx("p",{className:"text-xs text-green-600",children:"All systems operational"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"99.9%"}),s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Uptime"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Last 30 days"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx(To,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Alerts"}),s.jsx("p",{className:"text-xs text-yellow-600",children:"2 pending notifications"})]})]})]})]})},Lj=({user:c,onSave:n,onCancel:o,roles:r,offices:d,subjects:f})=>{const[h,x]=N.useState({employeeId:"",name:"",email:"",role:le.OFFICER,office:"",subjectIds:[]});N.useEffect(()=>{c&&x({employeeId:c.employeeId,name:c.name,email:c.email,role:c.role,office:c.office,subjectIds:c.subjectIds||[]})},[c]);const m=b=>{const{name:T,value:A}=b.target;x(S=>({...S,[T]:A}))},g=b=>{x(T=>{const A=T.subjectIds.includes(b)?T.subjectIds.filter(S=>S!==b):[...T.subjectIds,b];return{...T,subjectIds:A}})},y=b=>{b.preventDefault(),n(h)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(ue,{className:"w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:y,children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:c?"Edit User":"Create New User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(ke,{label:"Employee ID",name:"employeeId",value:h.employeeId,onChange:m,required:!0}),s.jsx(ke,{label:"Full Name",name:"name",value:h.name,onChange:m,required:!0})]}),s.jsx("div",{className:"mb-4",children:s.jsx(ke,{label:"Email Address",type:"email",name:"email",value:h.email,onChange:m,required:!0})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(vt,{label:"Role",name:"role",value:h.role,onChange:m,options:r,required:!0}),s.jsx(vt,{label:"Office",name:"office",value:h.office,onChange:m,options:d,required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border border-gray-200 rounded-md h-32 overflow-y-auto",children:f.map(b=>s.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:h.subjectIds.includes(b.id),onChange:()=>g(b.id),className:"rounded text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:b.name})]},b.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(te,{type:"button",variant:"secondary",onClick:o,children:"Cancel"}),s.jsx(te,{type:"submit",children:"Save User"})]})]})})})},Hj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState([]),[d,f]=N.useState(""),[h,x]=N.useState("all"),[m,g]=N.useState("all"),[y,b]=N.useState(!1),[T,A]=N.useState(null),{t:S}=Bt();N.useEffect(()=>{const U=localStorage.getItem("govflow-users");n(U?JSON.parse(U):[{id:"1",employeeId:"FD001",name:"John Doe",role:le.FRONT_DESK,office:"Colombo DS",email:"john.doe@gov.lk",status:"active",lastLogin:"2024-01-16 14:30",subjectIds:[]},{id:"2",employeeId:"OFF001",name:"Jane Smith",role:le.OFFICER,office:"Gampaha DS",email:"jane.smith@gov.lk",status:"active",lastLogin:"2024-01-16 13:45",subjectIds:["1"]},{id:"3",employeeId:"SH001",name:"Mike Johnson",role:le.SECTION_HEAD,office:"Kalutara DS",email:"mike.johnson@gov.lk",status:"active",lastLogin:"2024-01-16 12:15",subjectIds:["1","2"]},{id:"4",employeeId:"DH001",name:"Sarah Wilson",role:le.DEPARTMENT_HEAD,office:"Colombo DS",email:"sarah.wilson@gov.lk",status:"inactive",lastLogin:"2024-01-15 16:20",subjectIds:[]}]);const k=localStorage.getItem("govflow-subjects");r(k?JSON.parse(k):[{id:"1",name:"Land Registration",description:"Handles all land-related registrations."},{id:"2",name:"Business Registration",description:"Handles all business-related registrations."}])},[]);const M=U=>{n(U),localStorage.setItem("govflow-users",JSON.stringify(U))},O=[{value:le.FRONT_DESK,label:S("roles.frontDesk")},{value:le.OFFICER,label:S("roles.officer")},{value:le.SECTION_HEAD,label:S("roles.sectionHead")},{value:le.DEPARTMENT_HEAD,label:S("roles.departmentHead")},{value:le.ADMIN,label:S("roles.admin")}],C=[{value:"colombo",label:"Colombo DS"},{value:"gampaha",label:"Gampaha DS"},{value:"kalutara",label:"Kalutara DS"},{value:"ratnapura",label:"Ratnapura DS"}],H=c.filter(U=>{const k=U.name.toLowerCase().includes(d.toLowerCase())||U.employeeId.toLowerCase().includes(d.toLowerCase())||U.email.toLowerCase().includes(d.toLowerCase()),V=h==="all"||U.role===h,J=m==="all"||U.status===m;return k&&V&&J}),Z=()=>{A(null),b(!0)},Q=U=>{A(U),b(!0)},F=U=>{if(T){const k=c.map(V=>V.id===T.id?{...V,...U}:V);M(k)}else{const k={id:Date.now().toString(),employeeId:U.employeeId||"",name:U.name||"",role:U.role||le.OFFICER,office:U.office||"",email:U.email||"",status:"active",lastLogin:"Never",subjectIds:U.subjectIds||[]};M([...c,k])}b(!1),A(null)},ee=U=>{if(window.confirm("Are you sure you want to delete this user?")){const k=c.filter(V=>V.id!==U);M(k)}},oe=U=>{switch(U){case le.ADMIN:return"text-red-600 bg-red-100";case le.DEPARTMENT_HEAD:return"text-purple-600 bg-purple-100";case le.SECTION_HEAD:return"text-blue-600 bg-blue-100";case le.OFFICER:return"text-green-600 bg-green-100";case le.FRONT_DESK:return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},ne=U=>U==="active"?"text-green-600 bg-green-100":"text-red-600 bg-red-100";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:S("admin.users.title")}),s.jsx("p",{className:"text-gray-600",children:"Manage system users and their roles"})]}),s.jsxs(te,{onClick:Z,children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),S("admin.users.createUser")]})]}),s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, employee ID, or email...",value:d,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:h,onChange:U=>x(U.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Roles"}),O.map(U=>s.jsx("option",{value:U.value,children:U.label},U.value))]}),s.jsxs("select",{value:m,onChange:U=>g(U.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsx(ue,{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S("admin.users.employeeId")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S("admin.users.name")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S("admin.users.role")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S("admin.users.office")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S("admin.users.actions")})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(U=>{var k;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.employeeId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe(U.role)}`,children:(k=O.find(V=>V.value===U.role))==null?void 0:k.label})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.office}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:U.subjectIds&&U.subjectIds.length>0?U.subjectIds.map(V=>{const J=o.find(_=>_.id===V);return J?s.jsx("span",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded-full text-xs",children:J.name},V):null}):s.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne(U.status)}`,children:U.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.lastLogin}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Q(U),className:"text-blue-600 hover:text-blue-900",children:s.jsx(dl,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>ee(U.id),className:"text-red-600 hover:text-red-900 ml-2",children:s.jsx(xa,{className:"h-4 w-4"})})]})]},U.id)})})]})})}),y&&s.jsx(Lj,{user:T,onSave:F,onCancel:()=>{b(!1),A(null)},roles:O,offices:C,subjects:o})]})},Bj=()=>{const[c,n]=N.useState([{id:"1",name:"Colombo Divisional Secretariat",code:"COL",address:"123 Main Street, Colombo 01",contactNumber:"+94 11 234 5678",email:"colombo.ds@gov.lk",status:"active",userCount:45,createdAt:"2024-01-01"},{id:"2",name:"Gampaha Divisional Secretariat",code:"GAM",address:"456 Central Road, Gampaha",contactNumber:"+94 33 234 5678",email:"gampaha.ds@gov.lk",status:"active",userCount:32,createdAt:"2024-01-02"},{id:"3",name:"Kalutara Divisional Secretariat",code:"KAL",address:"789 Beach Road, Kalutara",contactNumber:"+94 34 234 5678",email:"kalutara.ds@gov.lk",status:"active",userCount:28,createdAt:"2024-01-03"},{id:"4",name:"Ratnapura Divisional Secretariat",code:"RAT",address:"321 Gem City Road, Ratnapura",contactNumber:"+94 45 234 5678",email:"ratnapura.ds@gov.lk",status:"inactive",userCount:0,createdAt:"2024-01-04"}]),[o,r]=N.useState(""),[d,f]=N.useState("all"),[h,x]=N.useState(!1),[m,g]=N.useState(null),{t:y}=Bt(),b=c.filter(O=>{const C=O.name.toLowerCase().includes(o.toLowerCase())||O.code.toLowerCase().includes(o.toLowerCase())||O.address.toLowerCase().includes(o.toLowerCase()),H=d==="all"||O.status===d;return C&&H}),T=O=>{const C={id:Date.now().toString(),name:O.name||"",code:O.code||"",address:O.address||"",contactNumber:O.contactNumber||"",email:O.email||"",status:"active",userCount:0,createdAt:new Date().toISOString().split("T")[0]};n(H=>[...H,C]),x(!1)},A=(O,C)=>{n(H=>H.map(Z=>Z.id===O?{...Z,...C}:Z)),g(null)},S=O=>{window.confirm("Are you sure you want to delete this office?")&&n(C=>C.filter(H=>H.id!==O))},M=O=>O==="active"?"text-green-600 bg-green-100":"text-red-600 bg-red-100";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:y("admin.offices.title")}),s.jsx("p",{className:"text-gray-600",children:"Manage office locations and their settings"})]}),s.jsxs(te,{onClick:()=>x(!0),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),y("admin.offices.createOffice")]})]}),s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search by office name, code, or address...",value:o,onChange:O=>r(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("select",{value:d,onChange:O=>f(O.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(O=>s.jsxs(ue,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yb,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:O.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",O.code]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M(O.status)}`,children:O.status})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-900",children:O.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Contact"}),s.jsx("p",{className:"text-sm text-gray-900",children:O.contactNumber}),s.jsx("p",{className:"text-sm text-gray-900",children:O.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Users"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.userCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),s.jsx("p",{className:"text-sm text-gray-900",children:O.createdAt})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>g(O),className:"flex-1",children:[s.jsx(dl,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>S(O.id),className:"flex-1",children:[s.jsx(xa,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},O.id))}),b.length===0&&s.jsx(ue,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No offices found matching your criteria."})}),(h||m)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y(m?"admin.offices.editOffice":"admin.offices.createOffice")}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office Name"}),s.jsx(ke,{value:(m==null?void 0:m.name)||"",onChange:O=>m&&g({...m,name:O.target.value}),placeholder:y("admin.offices.officeNamePlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office Code"}),s.jsx(ke,{value:(m==null?void 0:m.code)||"",onChange:O=>m&&g({...m,code:O.target.value}),placeholder:"e.g., COL"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx(ke,{value:(m==null?void 0:m.address)||"",onChange:O=>m&&g({...m,address:O.target.value}),placeholder:"Enter office address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),s.jsx(ke,{value:(m==null?void 0:m.contactNumber)||"",onChange:O=>m&&g({...m,contactNumber:O.target.value}),placeholder:"+94 XX XXX XXXX"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx(ke,{type:"email",value:(m==null?void 0:m.email)||"",onChange:O=>m&&g({...m,email:O.target.value}),placeholder:"office@gov.lk"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(te,{type:"button",onClick:()=>{x(!1),g(null)},variant:"outline",className:"flex-1",children:"Cancel"}),s.jsx(te,{type:"button",onClick:()=>{m?A(m.id,m):T({})},className:"flex-1",children:m?"Update":"Create"})]})]})]})})]})},Ij=()=>{const{user:c}=bt(),n=Ph(),[o,r]=N.useState(null),[d,f]=N.useState(!1),h={language:"en",theme:"light",primaryColor:"#2563eb",secondaryColor:"#64748b",accentColor:"#f59e0b",appName:"GovFlow"},x=(n==null?void 0:n.settings)||h,[m,g]=N.useState({language:x.language,theme:x.theme,primaryColor:x.primaryColor,secondaryColor:x.secondaryColor,accentColor:x.accentColor,appName:x.appName}),[y,b]=N.useState({officeName:"Divisional Secretariat Office",officeAddress:"123 Main Street, Colombo",officePhone:"+94 11 2345678",officeEmail:"office@divsec.gov.lk"}),T=async()=>{f(!0);try{n&&await n.updateSettings(m),localStorage.setItem("govflow-office-info",JSON.stringify(y)),r({type:"success",message:"Settings saved successfully!"})}catch{r({type:"error",message:"Failed to save settings. Please try again."})}finally{f(!1)}},A=()=>{g({language:x.language,theme:x.theme,primaryColor:x.primaryColor,secondaryColor:x.secondaryColor,accentColor:x.accentColor,appName:x.appName}),b({officeName:"Divisional Secretariat Office",officeAddress:"123 Main Street, Colombo",officePhone:"+94 11 2345678",officeEmail:"office@divsec.gov.lk"}),r({type:"success",message:"Settings reset to current values."})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(te,{onClick:A,variant:"secondary",children:"Reset"}),s.jsxs(te,{onClick:T,variant:"primary",isLoading:d,children:[s.jsx(Pb,{size:16,className:"mr-2"}),"Save Settings"]})]})]}),o&&s.jsx(sg,{type:o.type,message:o.message,onClose:()=>r(null)}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ue,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(eg,{size:20,className:"text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Language & Theme"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(vt,{label:"Language",value:m.language,onChange:S=>g({...m,language:S.target.value}),options:[{value:"en",label:"English"},{value:"si",label:""},{value:"ta",label:""}]}),s.jsx(vt,{label:"Theme",value:m.theme,onChange:S=>g({...m,theme:S.target.value}),options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"auto",label:"Auto"}]}),s.jsx(vt,{label:"Primary Color",value:m.primaryColor,onChange:S=>g({...m,primaryColor:S.target.value}),options:[{value:"#2563eb",label:"Blue"},{value:"#059669",label:"Green"},{value:"#7c3aed",label:"Purple"},{value:"#dc2626",label:"Red"},{value:"#ea580c",label:"Orange"}]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(gs,{size:20,className:"text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Office Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{label:"Office Name",value:y.officeName,onChange:S=>b({...y,officeName:S.target.value}),placeholder:"Enter office name"}),s.jsx(ke,{label:"Office Address",value:y.officeAddress,onChange:S=>b({...y,officeAddress:S.target.value}),placeholder:"Enter office address"}),s.jsx(ke,{label:"Office Phone",type:"tel",value:y.officePhone,onChange:S=>b({...y,officePhone:S.target.value}),placeholder:"Enter office phone number"}),s.jsx(ke,{label:"Office Email",type:"email",value:y.officeEmail,onChange:S=>b({...y,officeEmail:S.target.value}),placeholder:"Enter office email"})]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Jt,{size:20,className:"text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"System Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"System Version"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"1.0.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date().toLocaleDateString()})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Database Status"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:"Connected"})]})]})]}),s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Settings Preview"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Language:"}),s.jsx("p",{className:"text-gray-900",children:m.language==="en"?"English":m.language==="si"?"":""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Theme:"}),s.jsx("p",{className:"text-gray-900",children:m.theme})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Primary Color:"}),s.jsx("p",{className:"text-gray-900",children:m.primaryColor})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Office:"}),s.jsx("p",{className:"text-gray-900",children:y.officeName})]})]})})]})]})},Vj=({template:c,onSave:n,onCancel:o})=>{const[r,d]=N.useState({name:(c==null?void 0:c.name)||"",description:(c==null?void 0:c.description)||"",content:(c==null?void 0:c.content)||"",variables:(c==null?void 0:c.variables)||[],isActive:(c==null?void 0:c.isActive)??!0}),[f,h]=N.useState(!1),[x,m]=N.useState({name:"",type:"text",description:"",required:!1}),g=N.useRef(null),[y,b]=N.useState(!1),[T,A]=N.useState(!1),S=[{name:"customerName",description:"Customer Full Name",type:"text"},{name:"customerEmail",description:"Customer Email Address",type:"email"},{name:"customerPhone",description:"Customer Phone Number",type:"phone"},{name:"customerAddress",description:"Customer Address",type:"text"},{name:"requestId",description:"Service Request ID",type:"text"},{name:"requestDate",description:"Request Submission Date",type:"date"},{name:"requestType",description:"Type of Service Request",type:"text"},{name:"requestStatus",description:"Current Request Status",type:"text"},{name:"officerName",description:"Assigned Officer Name",type:"text"},{name:"officerEmail",description:"Officer Email Address",type:"email"},{name:"approvalDate",description:"Approval Date",type:"date"},{name:"approvalComments",description:"Approval Comments",type:"text"},{name:"departmentName",description:"Department Name",type:"text"},{name:"sectionName",description:"Section Name",type:"text"},{name:"officeName",description:"Office Name",type:"text"}];N.useEffect(()=>{g.current&&!T&&r.content&&(g.current.innerHTML=r.content,A(!0))},[r.content,T]);const M=(F,ee)=>{g.current&&(document.execCommand(F,!1,ee),g.current.focus())},O=F=>{if(g.current){const ee=`{{${F}}}`;document.execCommand("insertText",!1,ee),g.current.focus()}},C=()=>{if(x.name&&x.description){const F={id:Date.now().toString(),name:x.name,type:x.type,description:x.description,required:x.required||!1,isCustom:!0};d(ee=>({...ee,variables:[...ee.variables||[],F]})),m({name:"",type:"text",description:"",required:!1}),h(!1)}},H=F=>{d(ee=>{var oe;return{...ee,variables:((oe=ee.variables)==null?void 0:oe.filter(ne=>ne.id!==F))||[]}})},Z=()=>{if(!r.name||!r.content){alert("Please fill in all required fields");return}const F={id:(c==null?void 0:c.id)||Date.now().toString(),name:r.name,description:r.description||"",content:r.content,variables:r.variables||[],isActive:r.isActive||!1,createdAt:(c==null?void 0:c.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};n(F)},Q=()=>{var ne;const F={customerName:"John Doe",customerEmail:"john.doe@example.com",customerPhone:"+94 11 234 5678",customerAddress:"123 Main Street, Colombo 01",requestId:"REQ-2024-001",requestDate:new Date().toLocaleDateString(),requestType:"Business Registration",requestStatus:"Under Review",officerName:"Jane Smith",officerEmail:"jane.smith@gov.lk",approvalDate:new Date().toLocaleDateString(),approvalComments:"Approved with conditions",departmentName:"Department of Commerce",sectionName:"Business Registration Section",officeName:"Colombo District Office"};let ee=r.content||"";S.forEach(U=>{const k=new RegExp(`{{${U.name}}}`,"g");ee=ee.replace(k,F[U.name]||`[${U.name}]`)}),(ne=r.variables)==null||ne.forEach(U=>{if(U.isCustom){const k=new RegExp(`{{${U.name}}}`,"g");ee=ee.replace(k,`[${U.name}]`)}});const oe=window.open("","_blank");oe&&(oe.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Document Preview</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
            .header { text-align: center; margin-bottom: 30px; }
            .content { text-align: justify; }
            .footer { margin-top: 50px; text-align: center; }
            @media print { body { margin: 20px; } }
          </style>
        </head>
        <body>
          <div class="content">${ee}</div>
        </body>
        </html>
      `),oe.document.close())};return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c?"Edit Document Template":"Create New Document Template"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Preview"}),s.jsx("button",{onClick:Z,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Save Template"}),s.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name *"}),s.jsx("input",{type:"text",value:r.name,onChange:F=>d(ee=>({...ee,name:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter template name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:r.description,onChange:F=>d(ee=>({...ee,description:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter template description"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 border border-gray-200 rounded-t-lg",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>M("bold"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Bold",children:s.jsx("strong",{children:"B"})}),s.jsx("button",{onClick:()=>M("italic"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Italic",children:s.jsx("em",{children:"I"})}),s.jsx("button",{onClick:()=>M("underline"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Underline",children:s.jsx("u",{children:"U"})})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>M("justifyLeft"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Align Left",children:""}),s.jsx("button",{onClick:()=>M("justifyCenter"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Align Center",children:""}),s.jsx("button",{onClick:()=>M("justifyRight"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Align Right",children:""}),s.jsx("button",{onClick:()=>M("justifyFull"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Justify",children:""})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>M("insertUnorderedList"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Bullet List",children:""}),s.jsx("button",{onClick:()=>M("insertOrderedList"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50",title:"Numbered List",children:"1."})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>M("formatBlock","<h1>"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm font-bold",title:"Heading 1",children:"H1"}),s.jsx("button",{onClick:()=>M("formatBlock","<h2>"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm font-bold",title:"Heading 2",children:"H2"}),s.jsx("button",{onClick:()=>M("formatBlock","<h3>"),className:"p-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm font-bold",title:"Heading 3",children:"H3"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("select",{onChange:F=>{F.target.value&&(O(F.target.value),F.target.value="")},className:"px-3 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",title:"Insert Variable",children:[s.jsx("option",{value:"",children:"Insert Variable"}),S.map(F=>s.jsx("option",{value:F.name,children:F.description},F.name))]}),s.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",title:"Add Custom Variable",children:"+ Custom"})]})]}),s.jsx("div",{ref:g,contentEditable:!0,onInput:F=>d(ee=>{var oe;return{...ee,content:(oe=F.currentTarget)==null?void 0:oe.innerHTML}}),onFocus:()=>b(!0),onBlur:()=>b(!1),className:`min-h-96 p-4 border border-gray-300 rounded-b-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${y?"bg-white":"bg-gray-50"}`,style:{fontFamily:"Arial, sans-serif",lineHeight:"1.6",textAlign:"justify"}})]}),r.variables&&r.variables.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Custom Variables"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.variables.map(F=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-800",children:F.name}),s.jsx("div",{className:"text-sm text-gray-600",children:F.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Type: ",F.type]})]}),F.isCustom&&s.jsx("button",{onClick:()=>H(F.id),className:"text-red-600 hover:text-red-800",title:"Remove variable",children:""})]},F.id))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.isActive,onChange:F=>d(ee=>({...ee,isActive:F.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Template"})]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add Custom Variable"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variable Name *"}),s.jsx("input",{type:"text",value:x.name,onChange:F=>m(ee=>({...ee,name:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., customField"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("input",{type:"text",value:x.description,onChange:F=>m(ee=>({...ee,description:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Custom field description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:x.type,onChange:F=>m(ee=>({...ee,type:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"phone",children:"Phone"}),s.jsx("option",{value:"date",children:"Date"}),s.jsx("option",{value:"number",children:"Number"})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:x.required,onChange:F=>m(ee=>({...ee,required:F.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required Field"})]})})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Variable"}),s.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})})]})},Gj=()=>{const{t:c}=Bt(),{user:n}=bt(),[o,r]=N.useState("templates"),[d,f]=N.useState([]),[h,x]=N.useState([]),[m,g]=N.useState(!0),[y,b]=N.useState(!1),[T,A]=N.useState(null),[S,M]=N.useState(!1),[O,C]=N.useState([]),[H,Z]=N.useState(""),[Q,F]=N.useState("all"),[ee,oe]=N.useState("all"),[ne,U]=N.useState(null),k=[{id:"template-1",name:"Certificate Template",description:"Standard certificate template for government services",fileUrl:"/templates/certificate.pdf",fileType:"pdf",version:"1.0",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",isActive:!0},{id:"template-2",name:"License Application Form",description:"Application form for business licenses",fileUrl:"/templates/license-application.docx",fileType:"docx",version:"2.1",createdAt:"2024-01-10T14:30:00Z",updatedAt:"2024-01-20T09:15:00Z",isActive:!0}],V=[{id:"field-1",name:"businessType",label:"Business Type",type:"select",category:"Business",description:"Type of business for license applications",validation:{required:!0},options:[{value:"retail",label:"Retail"},{value:"wholesale",label:"Wholesale"},{value:"service",label:"Service"},{value:"manufacturing",label:"Manufacturing"}],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",isActive:!0},{id:"field-2",name:"annualRevenue",label:"Annual Revenue",type:"number",category:"Financial",description:"Annual revenue of the business",validation:{required:!0,min:0},createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",isActive:!0}],J=[{value:"all",label:"All Categories"},{value:"general",label:"General Document"},{value:"approval",label:"Approval Letter"},{value:"rejection",label:"Rejection Letter"},{value:"correction",label:"Correction Request"},{value:"certificate",label:"Certificate"},{value:"license",label:"License Document"},{value:"permit",label:"Permit Document"},{value:"receipt",label:"Receipt"},{value:"invoice",label:"Invoice"},{value:"report",label:"Report"}],_=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}];N.useEffect(()=>{Y()},[]),N.useEffect(()=>{ae()},[d,H,Q,ee]);const Y=async()=>{g(!0),await new Promise(B=>setTimeout(B,500)),f(k),x(V),g(!1)},ae=()=>{let B=d;H&&(B=B.filter($=>$.name.toLowerCase().includes(H.toLowerCase())||$.description.toLowerCase().includes(H.toLowerCase())||$.category.toLowerCase().includes(H.toLowerCase()))),Q!=="all"&&(B=B.filter($=>$.category===Q)),ee!=="all"&&(B=B.filter($=>ee==="active"?$.isActive:!$.isActive)),C(B)},D=B=>{window.confirm(c("template.admin.confirmDeleteTemplate"))&&f($=>$.filter(ie=>ie.id!==B))},W=B=>{try{const $=T?d.map(ie=>ie.id===B.id?B:ie):[...d,B];f($),localStorage.setItem("govflow_document_templates",JSON.stringify($)),M(!1),A(null),U({type:"success",message:`Template ${T?"updated":"created"} successfully!`,show:!0})}catch($){console.error("Error saving template:",$),U({type:"error",message:"Failed to save template",show:!0})}},re=B=>{A(B),M(!0)},me=B=>{try{const $=d.map(ie=>ie.id===B?{...ie,isActive:!ie.isActive,updatedAt:new Date().toISOString()}:ie);f($),localStorage.setItem("govflow_document_templates",JSON.stringify($)),U({type:"success",message:"Template status updated successfully!",show:!0})}catch($){console.error("Error updating template status:",$),U({type:"error",message:"Failed to update template status",show:!0})}},j=B=>{U({type:"info",message:"PDF generation feature will be implemented with jsPDF library",show:!0})},G=B=>{const $={approval:"bg-green-100 text-green-800",rejection:"bg-red-100 text-red-800",correction:"bg-yellow-100 text-yellow-800",certificate:"bg-blue-100 text-blue-800",license:"bg-purple-100 text-purple-800",permit:"bg-indigo-100 text-indigo-800",receipt:"bg-gray-100 text-gray-800",invoice:"bg-orange-100 text-orange-800",report:"bg-teal-100 text-teal-800",general:"bg-gray-100 text-gray-800"};return $[B]||$.general};return m?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):S?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:T?"Edit Template":"Create New Template"}),s.jsx(te,{onClick:()=>{M(!1),A(null)},variant:"secondary",children:"Back to Templates"})]}),s.jsx(Vj,{template:T||void 0,onSave:W,onCancel:()=>{M(!1),A(null)}})]}):s.jsxs("div",{className:"space-y-6",children:[ne&&s.jsx(Qa,{type:ne.type,message:ne.message,show:ne.show,onClose:()=>U(null)}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Templates"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage document templates for generating official documents"})]}),s.jsxs(te,{onClick:()=>M(!0),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ke,{value:H,onChange:B=>Z(B.target.value),placeholder:"Search templates...",className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx(vt,{value:Q,onChange:B=>F(B.target.value),options:J})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx(vt,{value:ee,onChange:B=>oe(B.target.value),options:_})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(te,{onClick:ae,variant:"secondary",className:"w-full",children:[s.jsx(Ub,{className:"h-4 w-4 mr-2"}),"Apply Filters"]})})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:O.map(B=>s.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ue,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.name})]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G(B.category)}`,children:B.category}),s.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(te,{onClick:()=>re(B),variant:"secondary",size:"sm",title:"Edit Template",children:s.jsx(dl,{className:"h-4 w-4"})}),s.jsx(te,{onClick:()=>me(B.id),variant:"secondary",size:"sm",title:B.isActive?"Deactivate":"Activate",children:s.jsx(Jt,{className:"h-4 w-4"})}),s.jsx(te,{onClick:()=>D(B.id),variant:"secondary",size:"sm",title:"Delete Template",children:s.jsx(xa,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:B.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[s.jsxs("span",{children:["Version: ",B.version]}),s.jsxs("span",{children:["Updated: ",new Date(B.updatedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{onClick:()=>j(),variant:"secondary",size:"sm",className:"flex-1",children:[s.jsx(ga,{className:"h-4 w-4 mr-1"}),"Generate PDF"]}),s.jsxs(te,{onClick:()=>re(B),variant:"secondary",size:"sm",className:"flex-1",children:[s.jsx(Pt,{className:"h-4 w-4 mr-1"}),"Preview"]})]})]},B.id))}),O.length===0&&s.jsx(ue,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:H||Q!=="all"||ee!=="all"?"Try adjusting your search criteria":"Get started by creating your first document template"}),!H&&Q==="all"&&ee==="all"&&s.jsxs(te,{onClick:()=>M(!0),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})})]})},Fj=({workflow:c,onSave:n,onCancel:o,serviceCategories:r,documentTemplates:d})=>{var je;const{t:f}=Bt(),[h,x]=N.useState([]),[m,g]=N.useState([]),[y,b]=N.useState([]),[T,A]=N.useState([]),[S,M]=N.useState(null),[O,C]=N.useState(!1),[H,Z]=N.useState(!1),[Q,F]=N.useState(!1),[ee,oe]=N.useState(null),[ne,U]=N.useState(null),[k,V]=N.useState({name:"",description:"",subjectId:"",version:"1.0"}),[J,_]=N.useState([]),[Y,ae]=N.useState(!1),[D,W]=N.useState(null),re=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"textarea",label:"Text Area"},{value:"checkbox",label:"Checkbox"},{value:"radio",label:"Radio"},{value:"select",label:"Select"},{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"file",label:"File Upload"}],me=[{value:"None",label:"No Approval Required"},{value:"SectionHead",label:"Section Head Approval"},{value:"DepartmentHead",label:"Department Head Approval"}];N.useEffect(()=>{const se=localStorage.getItem("govflow_workflows"),De=localStorage.getItem("govflow-subjects"),He=localStorage.getItem("govflow-offices"),Xe=localStorage.getItem("govflow-sections");se&&x(JSON.parse(se)),De&&g(JSON.parse(De)),He&&b(JSON.parse(He)),Xe&&A(JSON.parse(Xe))},[]),N.useEffect(()=>{localStorage.setItem("govflow_workflows",JSON.stringify(h))},[h]);const j=N.useCallback(()=>{const se={id:Date.now().toString(),name:k.name,description:k.description,subjectId:k.subjectId,steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:k.version};x(De=>[...De,se]),V({name:"",description:"",subjectId:"",version:"1.0"}),Z(!1),M(se)},[k]),G=se=>{if(!se.name.trim()){W({type:"error",message:"Workflow name is required",show:!0});return}if(se.steps.length===0){W({type:"error",message:"At least one step is required",show:!0});return}const De={...se,updatedAt:new Date().toISOString()};x(He=>He.map(Xe=>Xe.id===se.id?De:Xe)),M(De),C(!1)},B=se=>{window.confirm("Are you sure you want to delete this workflow?")&&(x(De=>De.filter(He=>He.id!==se)),(S==null?void 0:S.id)===se&&M(null))},$=()=>{const se={id:`step_${Date.now()}`,name:"New Step",description:"",sectionId:"",officeId:"",formFields:[],requiredDocuments:[],approvalType:"None",estimatedDuration:24};if(S){const De={...S,steps:[...S.steps,se]};M(De),x(He=>He.map(Xe=>Xe.id===S.id?De:Xe))}},ie=(se,De)=>{oe(se),U(De),F(!0)},he=se=>{if(S&&ne!==null){const De=[...S.steps];De[ne]=se;const He={...S,steps:De};M(He),x(Xe=>Xe.map(Fe=>Fe.id===S.id?He:Fe))}F(!1),oe(null),U(null)},ce=se=>{if(S&&window.confirm("Are you sure you want to delete this step?")){const De=S.steps.filter((Xe,Fe)=>Fe!==se),He={...S,steps:De};M(He),x(Xe=>Xe.map(Fe=>Fe.id===S.id?He:Fe))}};return s.jsxs("div",{className:"flex h-full bg-gray-100",children:[s.jsxs("div",{className:"w-80 bg-white shadow-lg p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflows"}),s.jsxs(te,{onClick:()=>Z(!0),className:"flex items-center",children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"New Workflow"]})]}),s.jsx("div",{className:"space-y-3",children:h.map(se=>{var De;return s.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(S==null?void 0:S.id)===se.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>M(se),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:se.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Subject: ",((De=m.find(He=>He.id===se.subjectId))==null?void 0:De.name)||"N/A"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2 bg-green-500"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[se.steps.length," steps  v",se.version]})]})]}),s.jsx("button",{onClick:He=>{He.stopPropagation(),B(se.id)},className:"text-red-500 hover:text-red-700",children:s.jsx(xa,{className:"h-4 w-4"})})]})},se.id)})})]}),s.jsx("div",{className:"flex-1 p-6 flex flex-col",children:S?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:S.name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Subject: ",((je=m.find(se=>se.id===S.subjectId))==null?void 0:je.name)||"N/A"]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>C(!O),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:O?"Cancel":"Edit"}),O&&s.jsx("button",{onClick:()=>G(S),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save"})]})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[O&&s.jsx("div",{className:"mb-6",children:s.jsxs(te,{onClick:$,className:"flex items-center",children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Add Step"]})}),s.jsx("div",{className:"space-y-4",children:S.steps.map((se,De)=>{var He,Xe;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-gray-900",children:["Step ",De+1,": ",se.name]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:se.description}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Office: ",((He=y.find(Fe=>Fe.id===se.officeId))==null?void 0:He.name)||"N/A"]}),s.jsxs("span",{children:["Section: ",((Xe=T.find(Fe=>Fe.id===se.sectionId))==null?void 0:Xe.name)||"N/A"]}),s.jsxs("span",{children:["Approval: ",se.approvalType]})]})]}),O&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ie(se,De),className:"text-blue-500 hover:text-blue-700",children:s.jsx(dl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ce(De),className:"text-red-500 hover:text-red-700",children:s.jsx(xa,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["Form Fields (",se.formFields.length,")"]}),s.jsx("div",{className:"space-y-1",children:se.formFields.map(Fe=>s.jsxs("div",{className:"text-gray-600",children:[" ",Fe.label," (",Fe.type,")"]},Fe.id))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["Required Documents (",se.requiredDocuments.length,")"]}),s.jsx("div",{className:"space-y-1",children:se.requiredDocuments.map(Fe=>s.jsxs("div",{className:"text-gray-600",children:[" ",Fe]},Fe))})]})]})]},se.id)})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflow selected"}),s.jsx("p",{className:"text-gray-600",children:"Select a workflow from the list or create a new one"})]})})}),H&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(ue,{className:"w-full max-w-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Workflow"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{label:"Workflow Name",value:k.name,onChange:se=>V({...k,name:se.target.value}),placeholder:"e.g., Business Registration Process"}),s.jsx(ke,{label:"Description",value:k.description,onChange:se=>V({...k,description:se.target.value}),placeholder:"Brief description of the workflow"}),s.jsx(vt,{label:"Subject",value:k.subjectId,onChange:se=>V({...k,subjectId:se.target.value}),options:[{value:"",label:"Select a Subject"},...m.map(se=>({value:se.id,label:se.name}))]}),s.jsx(ke,{label:"Version",value:k.version,onChange:se=>V({...k,version:se.target.value}),placeholder:"1.0"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(te,{variant:"secondary",onClick:()=>Z(!1),children:"Cancel"}),s.jsx(te,{onClick:j,children:"Create"})]})]})}),Q&&ee&&s.jsx($j,{step:ee,offices:y,sections:T,fieldTypes:re,approvalTypes:me,onSave:he,onCancel:()=>{F(!1),oe(null),U(null)}}),D&&s.jsx(Qa,{type:D.type,message:D.message,show:D.show,onClose:()=>W(null)})]})},$j=({step:c,offices:n,sections:o,fieldTypes:r,approvalTypes:d,onSave:f,onCancel:h})=>{const[x,m]=N.useState(c),[g,y]=N.useState({}),[b,T]=N.useState(""),A=()=>{if(g.label&&g.name&&g.type){const C={id:`field_${Date.now()}`,label:g.label,name:g.name,type:g.type,placeholder:g.placeholder,required:g.required||!1,options:g.options||[]};m(H=>({...H,formFields:[...H.formFields,C]})),y({})}},S=()=>{b.trim()&&(m(C=>({...C,requiredDocuments:[...C.requiredDocuments,b.trim()]})),T(""))},M=C=>{m(H=>({...H,formFields:H.formFields.filter(Z=>Z.id!==C)}))},O=C=>{m(H=>({...H,requiredDocuments:H.requiredDocuments.filter(Z=>Z!==C)}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Configure Step: ",c.name]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ke,{label:"Step Name",value:x.name,onChange:C=>m({...x,name:C.target.value})}),s.jsx(ke,{label:"Description",value:x.description||"",onChange:C=>m({...x,description:C.target.value})}),s.jsx(vt,{label:"Office",value:x.officeId,onChange:C=>m({...x,officeId:C.target.value}),options:[{value:"",label:"Select Office"},...n.map(C=>({value:C.id,label:C.name}))]}),s.jsx(vt,{label:"Section",value:x.sectionId,onChange:C=>m({...x,sectionId:C.target.value}),options:[{value:"",label:"Select Section"},...o.map(C=>({value:C.id,label:C.name}))]}),s.jsx(vt,{label:"Approval Type",value:x.approvalType,onChange:C=>m({...x,approvalType:C.target.value}),options:d}),s.jsx(ke,{label:"Estimated Duration (hours)",type:"number",value:x.estimatedDuration||"",onChange:C=>m({...x,estimatedDuration:parseInt(C.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Form Fields"}),s.jsxs("div",{className:"space-y-4",children:[x.formFields.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:C.label}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",C.type,")"]})]}),s.jsx("button",{onClick:()=>M(C.id),className:"text-red-500 hover:text-red-700",children:s.jsx(xa,{className:"h-4 w-4"})})]},C.id)),s.jsxs("div",{className:"border border-gray-200 rounded p-4",children:[s.jsx("h5",{className:"font-medium mb-3",children:"Add New Field"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(ke,{placeholder:"Field Label",value:g.label||"",onChange:C=>y({...g,label:C.target.value})}),s.jsx(ke,{placeholder:"Field Name",value:g.name||"",onChange:C=>y({...g,name:C.target.value})}),s.jsx(vt,{value:g.type||"",onChange:C=>y({...g,type:C.target.value}),options:[{value:"",label:"Type"},...r]})]}),s.jsx(te,{onClick:A,className:"mt-3",children:"Add Field"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Required Documents"}),s.jsxs("div",{className:"space-y-2",children:[x.requiredDocuments.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:[s.jsx("span",{children:C}),s.jsx("button",{onClick:()=>O(C),className:"text-red-500 hover:text-red-700",children:s.jsx(xa,{className:"h-4 w-4"})})]},C)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{placeholder:"Document name",value:b,onChange:C=>T(C.target.value),className:"flex-1"}),s.jsx(te,{onClick:S,children:"Add"})]})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[s.jsx(te,{variant:"secondary",onClick:h,children:"Cancel"}),s.jsx(te,{onClick:()=>f(x),children:"Save Step"})]})]})})},Yj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState([]),[d,f]=N.useState([]),[h,x]=N.useState([]),[m,g]=N.useState(null),[y,b]=N.useState(!1),[T,A]=N.useState("all"),[S,M]=N.useState("all"),[O,C]=N.useState(""),{t:H}=Bt();N.useEffect(()=>{const V=localStorage.getItem("govflow_workflows"),J=localStorage.getItem("govflow-subjects"),_=localStorage.getItem("govflow-offices"),Y=localStorage.getItem("govflow-sections");if(V)n(JSON.parse(V));else{const ae=[{id:"wf-business-registration",name:"Business Registration (Individual/Partnership)",description:"Improved workflow for business name registration in Kundosale Divisional Secretariat.",subjectId:"default-1",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-scholarship-application",name:"Scholarship Application Recommendation",description:"Workflow for recommending scholarship applications.",subjectId:"default-2",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-income-certificate",name:"Income Certificate Issuance",description:"Workflow for issuing income certificates.",subjectId:"default-3",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-elders-id-allowance",name:"Elders' ID & Allowance Processing",description:"Workflow for providing elders' ID cards and paying elders' allowances.",subjectId:"default-4",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-timber-transport",name:"Timber Transport Permit Issuance",description:"Workflow for issuing timber transport permits, including alternative flows for special cases.",subjectId:"default-5",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-timber-business",name:"Timber Business Registration Recommendation",description:"Workflow for recommending timber business registration.",subjectId:"default-6",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-timber-felling",name:"Timber Felling Permit Issuance",description:"Improved workflow for issuing timber felling permits.",subjectId:"default-7",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-sand-mining",name:"Sand/Earth/Gravel Mining & Transport Permit (Non-Commercial)",description:"Workflow for issuing mining and transport permits for non-commercial purposes.",subjectId:"default-8",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-mineral-mining",name:"Mineral Mining Recommendation",description:"Workflow for recommending sand, metal, earth, and other mineral mining.",subjectId:"default-9",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-explosives",name:"Explosives Permit Recommendation",description:"Workflow for recommending explosives permits.",subjectId:"default-10",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-firearm",name:"Firearm Permit Recommendation",description:"Workflow for recommending firearm permits.",subjectId:"default-11",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-animal-transport",name:"Animal Transport Permit Issuance",description:"Workflow for issuing animal transport permits.",subjectId:"default-12",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-gn-countersign",name:"Gram Niladhari Counter-signing",description:"Workflow for Gram Niladhari counter-signing process.",subjectId:"default-13",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-liquor-new",name:"New Liquor Permit Issuance",description:"Workflow for issuing new liquor permits.",subjectId:"default-14",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-liquor-renewal",name:"Annual Liquor Permit Renewal",description:"Workflow for annual renewal of liquor permits.",subjectId:"default-15",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"},{id:"wf-nutrition-allowance",name:"Nutrition Allowance Issuance",description:"Workflow for issuing nutrition allowances.",subjectId:"default-16",steps:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",version:"1.0"}];n(ae),localStorage.setItem("govflow_workflows",JSON.stringify(ae))}J&&r(JSON.parse(J)),_&&f(JSON.parse(_)),Y&&x(JSON.parse(Y))},[]),N.useEffect(()=>{localStorage.setItem("govflow_workflows",JSON.stringify(c))},[c]);const Z=c.filter(V=>{var ae;const J=T==="all"||V.subjectId===T,_=S==="all"||S==="active"&&V.isActive||S==="inactive"&&!V.isActive,Y=O===""||V.name.toLowerCase().includes(O.toLowerCase())||((ae=V.description)==null?void 0:ae.toLowerCase().includes(O.toLowerCase()));return J&&_&&Y}),Q=()=>{g(null),b(!0)},F=V=>{g(V),b(!0)},ee=V=>{const J={...V,id:`wf_${Date.now()}`,name:`${V.name} (Copy)`,version:"1.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!1};n(_=>[..._,J])},oe=V=>{n(J=>J.map(_=>_.id===V?{..._,isActive:!_.isActive,updatedAt:new Date().toISOString()}:_))},ne=V=>{window.confirm("Are you sure you want to delete this workflow? This action cannot be undone.")&&(n(J=>J.filter(_=>_.id!==V)),(m==null?void 0:m.id)===V&&g(null))},k=(()=>{const V=c.length,J=c.filter(ae=>ae.isActive).length,_=V-J,Y=c.length>0?Math.round(c.reduce((ae,D)=>ae+D.steps.length,0)/c.length):0;return{total:V,active:J,inactive:_,avgSteps:Y}})();return y?s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m?"Edit Workflow":"Create New Workflow"}),s.jsx("p",{className:"text-gray-600",children:m?"Modify workflow configuration":"Design a new workflow process"})]}),s.jsx(te,{onClick:()=>b(!1),variant:"secondary",children:"Back to Workflows"})]}),s.jsx(Fj,{workflow:m||void 0,onSave:V=>{n(m?J=>J.map(_=>_.id===V.id?V:_):J=>[...J,V]),b(!1),g(null)},onCancel:()=>{b(!1),g(null)}})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Workflow Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage workflow processes"})]}),s.jsxs(te,{onClick:Q,className:"flex items-center",children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Jt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Workflows"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.total})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Pt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.active})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:s.jsx(cb,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.inactive})]})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Jt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Steps"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.avgSteps})]})]})})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsx("input",{type:"text",value:O,onChange:V=>C(V.target.value),placeholder:"Search workflows...",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsxs("select",{value:T,onChange:V=>A(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Subjects"}),o.map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:S,onChange:V=>M(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsxs(ue,{children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Workflows (",Z.length,")"]})}),s.jsxs("div",{className:"space-y-4",children:[Z.map(V=>{const J=o.find(_=>_.id===V.subjectId);return s.jsxs("div",{className:`p-6 border rounded-lg transition-colors ${V.isActive?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:V.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:V.isActive?"Active":"Inactive"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["v",V.version]})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:V.description||"No description"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Subject:"})," ",(J==null?void 0:J.name)||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Steps:"})," ",V.steps.length]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Created:"})," ",new Date(V.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{onClick:()=>F(V),variant:"secondary",size:"sm",children:[s.jsx(dl,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(te,{onClick:()=>ee(V),variant:"secondary",size:"sm",children:[s.jsx(Ab,{className:"h-4 w-4 mr-1"}),"Duplicate"]}),s.jsx(te,{onClick:()=>oe(V.id),variant:"secondary",size:"sm",children:V.isActive?"Deactivate":"Activate"}),s.jsx(te,{onClick:()=>ne(V.id),variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-700",children:s.jsx(xa,{className:"h-4 w-4"})})]})]}),V.steps.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Steps Preview"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[V.steps.slice(0,5).map((_,Y)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[Y+1,". ",_.name]},_.id)),V.steps.length>5&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600",children:["+",V.steps.length-5," more"]})]})]})]},V.id)}),Z.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:O||T!=="all"||S!=="all"?"Try adjusting your filters or search terms.":"Get started by creating your first workflow."}),!O&&T==="all"&&S==="all"&&s.jsxs(te,{onClick:Q,children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Create First Workflow"]})]})]})]})]})},xh={canApprove:!0,canFillData:!0,canUploadDocuments:!0,canAssign:!0},yh=[{id:"user1",name:"Officer A"},{id:"user2",name:"Officer B"},{id:"user3",name:"Section Head X"},{id:"user4",name:"Section Head Y"}],vh=[{id:"service1",name:"Birth Certificate"},{id:"service2",name:"Marriage Certificate"},{id:"service3",name:"Death Certificate"}],Xj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState(null),[d,f]=N.useState(!1);N.useEffect(()=>{const m=localStorage.getItem("govflow_sections");if(m)try{n(JSON.parse(m))}catch{}},[]),N.useEffect(()=>{localStorage.setItem("govflow_sections",JSON.stringify(c))},[c]);const h=()=>{o!=null&&o.name.trim()&&(n(m=>m.find(y=>y.id===o.id)?m.map(y=>y.id===o.id?o:y):[...m,o]),f(!1),r(null))},x=m=>{window.confirm("Delete this section?")&&n(g=>g.filter(y=>y.id!==m))};return s.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Section Management"}),s.jsx("button",{onClick:()=>{r({id:`section-${Date.now()}`,name:"",description:"",permissions:{...xh},services:[],users:[]}),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Section"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Permissions"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Services"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Users"}),s.jsx("th",{className:"px-4 py-2"})]})}),s.jsx("tbody",{children:c.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:m.name}),s.jsx("td",{className:"px-4 py-2 text-gray-700",children:m.description}),s.jsx("td",{className:"px-4 py-2 text-xs",children:Object.entries(m.permissions).map(([g,y])=>y&&s.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 rounded px-2 py-1 mr-1 mb-1",children:g.replace("can","")},g))}),s.jsx("td",{className:"px-4 py-2 text-xs",children:m.services.map(g=>{var y;return(y=vh.find(b=>b.id===g))==null?void 0:y.name}).filter(Boolean).join(", ")}),s.jsx("td",{className:"px-4 py-2 text-xs",children:m.users.map(g=>{var y;return(y=yh.find(b=>b.id===g))==null?void 0:y.name}).filter(Boolean).join(", ")}),s.jsxs("td",{className:"px-4 py-2 text-right",children:[s.jsx("button",{onClick:()=>{r(m),f(!0)},className:"text-blue-600 hover:text-blue-900 mr-2",children:"Edit"}),s.jsx("button",{onClick:()=>x(m.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},m.id))})]})}),d&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:o.id.startsWith("section-")?"Add Section":"Edit Section"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:o.name,onChange:m=>r(g=>g&&{...g,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:o.description,onChange:m=>r(g=>g&&{...g,description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permissions"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:Object.keys(xh).map(m=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:!!o.permissions[m],onChange:g=>r(y=>y&&{...y,permissions:{...y.permissions,[m]:g.target.checked}})}),s.jsx("span",{className:"text-sm",children:m.replace("can","")})]},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),s.jsx("select",{multiple:!0,value:o.services,onChange:m=>{const g=Array.from(m.target.selectedOptions).map(y=>y.value);r(y=>y&&{...y,services:g})},className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:vh.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Users"}),s.jsx("select",{multiple:!0,value:o.users,onChange:m=>{const g=Array.from(m.target.selectedOptions).map(y=>y.value);r(y=>y&&{...y,users:g})},className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:yh.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{f(!1),r(null)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})})]})},Qj=({isOpen:c,onClose:n,title:o,children:r,size:d="md",showCloseButton:f=!0,closeOnOverlayClick:h=!0})=>{if(N.useEffect(()=>{const m=g=>{g.key==="Escape"&&n()};return c&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[c,n]),!c)return null;const x={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:h?n:void 0}),s.jsxs("div",{className:`relative w-full ${x[d]} bg-white rounded-lg shadow-xl transform transition-all`,onClick:m=>m.stopPropagation(),children:[(o||f)&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o&&s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o}),f&&s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:s.jsx(ps,{size:20})})]}),s.jsx("div",{className:"p-6",children:r})]})]})})},Kj=()=>{const[c,n]=N.useState([]),[o,r]=N.useState(!1),[d,f]=N.useState(null),[h,x]=N.useState(""),[m,g]=N.useState(""),[y,b]=N.useState(null);N.useEffect(()=>{const C=localStorage.getItem("govflow-subjects");if(C)n(JSON.parse(C));else{const H=[{name:"Business Registration (Individual/Partnership)",description:"Improved workflow for business name registration in Kundosale Divisional Secretariat."},{name:"Scholarship Application Recommendation",description:"Workflow for recommending scholarship applications."},{name:"Income Certificate Issuance",description:"Workflow for issuing income certificates."},{name:"Elders' ID & Allowance Processing",description:"Workflow for providing elders' ID cards and paying elders' allowances."},{name:"Timber Transport Permit Issuance",description:"Workflow for issuing timber transport permits, including alternative flows for special cases."},{name:"Timber Business Registration Recommendation",description:"Workflow for recommending timber business registration."},{name:"Timber Felling Permit Issuance",description:"Improved workflow for issuing timber felling permits."},{name:"Sand/Earth/Gravel Mining & Transport Permit (Non-Commercial)",description:"Workflow for issuing mining and transport permits for non-commercial purposes."},{name:"Mineral Mining Recommendation",description:"Workflow for recommending sand, metal, earth, and other mineral mining."},{name:"Explosives Permit Recommendation",description:"Workflow for recommending explosives permits."},{name:"Firearm Permit Recommendation",description:"Workflow for recommending firearm permits."},{name:"Animal Transport Permit Issuance",description:"Workflow for issuing animal transport permits."},{name:"Gram Niladhari Counter-signing",description:"Workflow for Gram Niladhari counter-signing process."},{name:"New Liquor Permit Issuance",description:"Workflow for issuing new liquor permits."},{name:"Annual Liquor Permit Renewal",description:"Workflow for annual renewal of liquor permits."},{name:"Nutrition Allowance Issuance",description:"Workflow for issuing nutrition allowances."}].map((Z,Q)=>({id:`default-${Q+1}`,...Z}));n(H),localStorage.setItem("govflow-subjects",JSON.stringify(H))}},[]);const T=C=>{n(C),localStorage.setItem("govflow-subjects",JSON.stringify(C))},A=(C=null)=>{f(C),x(C?C.name:""),g(C&&C.description||""),r(!0)},S=()=>{r(!1),f(null),x(""),g("")},M=()=>{if(!h.trim()){b({type:"error",message:"Subject name is required.",show:!0});return}if(d){const C=c.map(H=>H.id===d.id?{...H,name:h,description:m}:H);T(C)}else{const C={id:lg(),name:h,description:m};T([...c,C])}S()},O=C=>{if(window.confirm("Are you sure you want to delete this subject?")){const H=c.filter(Z=>Z.id!==C);T(H)}};return s.jsxs("div",{className:"space-y-6",children:[y&&s.jsx(Qa,{type:y.type,message:y.message,show:y.show,onClose:()=>b(null)}),s.jsxs("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Manage Subjects"}),s.jsxs(te,{onClick:()=>A(),color:"primary",className:"flex items-center",children:[s.jsx(vb,{className:"mr-2 h-5 w-5"})," Add Subject"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:c.length>0?c.map(C=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.description}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>A(C),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:s.jsx(dl,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>O(C.id),className:"text-red-600 hover:text-red-900",children:s.jsx(xa,{className:"h-5 w-5"})})]})]},C.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No subjects found."})})})]})})]}),o&&s.jsx(Qj,{onClose:S,children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:d?"Edit Subject":"Add New Subject"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{label:"Subject Name",value:h,onChange:C=>x(C.target.value),placeholder:"e.g., Land Registration",required:!0}),s.jsx(Fi,{label:"Description",value:m,onChange:C=>g(C.target.value),placeholder:"A brief description of the subject."})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsxs(te,{onClick:S,color:"secondary",children:[s.jsx(ps,{className:"mr-2 h-5 w-5"})," Cancel"]}),s.jsx(te,{onClick:M,color:"primary",children:"Save Subject"})]})]})})]})},Zj=()=>{const{t:c}=Bt();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xh,{to:"/dashboard",children:s.jsx(te,{className:"w-full",children:"Go to Dashboard"})}),s.jsx(te,{variant:"outline",onClick:()=>window.history.back(),className:"w-full",children:"Go Back"})]})]})})},mn=({allowedRoles:c})=>{const{user:n,loading:o}=bt();return o?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?c.includes(n.role)?s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsx(gj,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(mj,{}),s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:s.jsx(Nv,{})})]})]}):s.jsx(Vi,{to:"/dashboard",replace:!0}):s.jsx(Vi,{to:"/login",replace:!0})},Pj=()=>{const{user:c,loading:n}=bt();return console.log("=== AppRouter Debug ==="),console.log("User:",c),console.log("Loading:",n),console.log("Has user:",!!c),console.log("Current hash:",window.location.hash),n&&!c?(console.log("Showing full page loader"),s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})):s.jsx(kv,{children:s.jsxs(wv,{children:[s.jsx(Ie,{path:"/login",element:s.jsx(pj,{})}),s.jsx(Ie,{element:s.jsx(mn,{allowedRoles:[le.FRONT_DESK,le.OFFICER,le.SECTION_HEAD,le.DEPARTMENT_HEAD,le.ADMIN]}),children:s.jsx(Ie,{path:"/dashboard",element:s.jsx(vj,{})})}),s.jsx(Ie,{element:s.jsx(mn,{allowedRoles:[le.FRONT_DESK,le.OFFICER,le.SECTION_HEAD,le.DEPARTMENT_HEAD]}),children:s.jsx(Ie,{path:"/intake/new",element:s.jsx(Dj,{})})}),s.jsxs(Ie,{element:s.jsx(mn,{allowedRoles:[le.OFFICER,le.SECTION_HEAD]}),children:[s.jsx(Ie,{path:"/tasks",element:s.jsx(Aj,{})}),s.jsx(Ie,{path:"/tasks/:serviceRequestId",element:s.jsx(Ej,{})})]}),s.jsxs(Ie,{element:s.jsx(mn,{allowedRoles:[le.DEPARTMENT_HEAD]}),children:[s.jsx(Ie,{path:"/command-center",element:s.jsx(zj,{})}),s.jsx(Ie,{path:"/command-center/:serviceRequestId",element:s.jsx(_j,{})})]}),s.jsxs(Ie,{element:s.jsx(mn,{allowedRoles:[le.ADMIN]}),children:[s.jsx(Ie,{path:"/admin",element:s.jsx(qj,{})}),s.jsx(Ie,{path:"/admin/workflows",element:s.jsx(Yj,{})}),s.jsx(Ie,{path:"/admin/users",element:s.jsx(Hj,{})}),s.jsx(Ie,{path:"/admin/offices",element:s.jsx(Bj,{})}),s.jsx(Ie,{path:"/admin/templates",element:s.jsx(Gj,{})}),s.jsx(Ie,{path:"/admin/settings",element:s.jsx(Ij,{})}),s.jsx(Ie,{path:"/admin/sections",element:s.jsx(Xj,{})}),s.jsx(Ie,{path:"/admin/subjects",element:s.jsx(Kj,{})})]}),s.jsx(Ie,{path:"/test-upload",element:s.jsx(Uj,{})}),s.jsx(Ie,{path:"/",element:c?s.jsx(Vi,{to:"/dashboard"}):s.jsx(Vi,{to:"/login"})}),s.jsx(Ie,{path:"*",element:s.jsx(Zj,{})})]})})},Jj=()=>(console.log("=== App Component Rendering ==="),N.useEffect(()=>{console.log("=== App useEffect - Initializing sample data ==="),Qv()},[]),s.jsx(Wv,{children:s.jsx("div",{className:"min-h-screen bg-gray-100",children:s.jsx(Pj,{})})}));console.log("=== index.tsx - Starting React app ===");const ng=document.getElementById("root");if(!ng)throw new Error("Could not find root element to mount to");console.log("=== index.tsx - Root element found, creating React root ===");const Wj=Hx.createRoot(ng);console.log("=== index.tsx - Rendering App component ===");Wj.render(s.jsx($i.StrictMode,{children:s.jsx(eb,{children:s.jsx(Jj,{})})}));console.log("=== index.tsx - App rendered ===");
